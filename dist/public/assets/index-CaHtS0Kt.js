var yI=Object.defineProperty;var Cb=t=>{throw TypeError(t)};var xI=(t,e,r)=>e in t?yI(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var C=(t,e,r)=>xI(t,typeof e!="symbol"?e+"":e,r),Em=(t,e,r)=>e.has(t)||Cb("Cannot "+r);var N=(t,e,r)=>(Em(t,e,"read from private field"),r?r.call(t):e.get(t)),U=(t,e,r)=>e.has(t)?Cb("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),B=(t,e,r,n)=>(Em(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),q=(t,e,r)=>(Em(t,e,"access private method"),r);var Zu=(t,e,r,n)=>({set _(s){B(t,e,s,r)},get _(){return N(t,e,n)}});function vI(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const a=Object.getOwnPropertyDescriptor(n,s);a&&Object.defineProperty(t,s,a.get?a:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();var Yu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function pi(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var n2={exports:{}},Op={},s2={exports:{}},Ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tu=Symbol.for("react.element"),bI=Symbol.for("react.portal"),wI=Symbol.for("react.fragment"),jI=Symbol.for("react.strict_mode"),NI=Symbol.for("react.profiler"),SI=Symbol.for("react.provider"),CI=Symbol.for("react.context"),_I=Symbol.for("react.forward_ref"),EI=Symbol.for("react.suspense"),TI=Symbol.for("react.memo"),kI=Symbol.for("react.lazy"),_b=Symbol.iterator;function PI(t){return t===null||typeof t!="object"?null:(t=_b&&t[_b]||t["@@iterator"],typeof t=="function"?t:null)}var i2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},a2=Object.assign,o2={};function ic(t,e,r){this.props=t,this.context=e,this.refs=o2,this.updater=r||i2}ic.prototype.isReactComponent={};ic.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ic.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function l2(){}l2.prototype=ic.prototype;function nv(t,e,r){this.props=t,this.context=e,this.refs=o2,this.updater=r||i2}var sv=nv.prototype=new l2;sv.constructor=nv;a2(sv,ic.prototype);sv.isPureReactComponent=!0;var Eb=Array.isArray,c2=Object.prototype.hasOwnProperty,iv={current:null},d2={key:!0,ref:!0,__self:!0,__source:!0};function u2(t,e,r){var n,s={},a=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)c2.call(e,n)&&!d2.hasOwnProperty(n)&&(s[n]=e[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];s.children=c}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Tu,type:t,key:a,ref:o,props:s,_owner:iv.current}}function AI(t,e){return{$$typeof:Tu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function av(t){return typeof t=="object"&&t!==null&&t.$$typeof===Tu}function RI(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Tb=/\/+/g;function Tm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?RI(""+t.key):e.toString(36)}function Mh(t,e,r,n,s){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Tu:case bI:o=!0}}if(o)return o=t,s=s(o),t=n===""?"."+Tm(o,0):n,Eb(s)?(r="",t!=null&&(r=t.replace(Tb,"$&/")+"/"),Mh(s,e,r,"",function(d){return d})):s!=null&&(av(s)&&(s=AI(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Tb,"$&/")+"/")+t)),e.push(s)),1;if(o=0,n=n===""?".":n+":",Eb(t))for(var l=0;l<t.length;l++){a=t[l];var c=n+Tm(a,l);o+=Mh(a,e,r,c,s)}else if(c=PI(t),typeof c=="function")for(t=c.call(t),l=0;!(a=t.next()).done;)a=a.value,c=n+Tm(a,l++),o+=Mh(a,e,r,c,s);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ju(t,e,r){if(t==null)return t;var n=[],s=0;return Mh(t,n,"","",function(a){return e.call(r,a,s++)}),n}function OI(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Rr={current:null},Dh={transition:null},FI={ReactCurrentDispatcher:Rr,ReactCurrentBatchConfig:Dh,ReactCurrentOwner:iv};function h2(){throw Error("act(...) is not supported in production builds of React.")}Ge.Children={map:Ju,forEach:function(t,e,r){Ju(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Ju(t,function(){e++}),e},toArray:function(t){return Ju(t,function(e){return e})||[]},only:function(t){if(!av(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ge.Component=ic;Ge.Fragment=wI;Ge.Profiler=NI;Ge.PureComponent=nv;Ge.StrictMode=jI;Ge.Suspense=EI;Ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=FI;Ge.act=h2;Ge.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=a2({},t.props),s=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=iv.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)c2.call(e,c)&&!d2.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:Tu,type:t.type,key:s,ref:a,props:n,_owner:o}};Ge.createContext=function(t){return t={$$typeof:CI,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:SI,_context:t},t.Consumer=t};Ge.createElement=u2;Ge.createFactory=function(t){var e=u2.bind(null,t);return e.type=t,e};Ge.createRef=function(){return{current:null}};Ge.forwardRef=function(t){return{$$typeof:_I,render:t}};Ge.isValidElement=av;Ge.lazy=function(t){return{$$typeof:kI,_payload:{_status:-1,_result:t},_init:OI}};Ge.memo=function(t,e){return{$$typeof:TI,type:t,compare:e===void 0?null:e}};Ge.startTransition=function(t){var e=Dh.transition;Dh.transition={};try{t()}finally{Dh.transition=e}};Ge.unstable_act=h2;Ge.useCallback=function(t,e){return Rr.current.useCallback(t,e)};Ge.useContext=function(t){return Rr.current.useContext(t)};Ge.useDebugValue=function(){};Ge.useDeferredValue=function(t){return Rr.current.useDeferredValue(t)};Ge.useEffect=function(t,e){return Rr.current.useEffect(t,e)};Ge.useId=function(){return Rr.current.useId()};Ge.useImperativeHandle=function(t,e,r){return Rr.current.useImperativeHandle(t,e,r)};Ge.useInsertionEffect=function(t,e){return Rr.current.useInsertionEffect(t,e)};Ge.useLayoutEffect=function(t,e){return Rr.current.useLayoutEffect(t,e)};Ge.useMemo=function(t,e){return Rr.current.useMemo(t,e)};Ge.useReducer=function(t,e,r){return Rr.current.useReducer(t,e,r)};Ge.useRef=function(t){return Rr.current.useRef(t)};Ge.useState=function(t){return Rr.current.useState(t)};Ge.useSyncExternalStore=function(t,e,r){return Rr.current.useSyncExternalStore(t,e,r)};Ge.useTransition=function(){return Rr.current.useTransition()};Ge.version="18.3.1";s2.exports=Ge;var p=s2.exports;const Me=pi(p),f2=vI({__proto__:null,default:Me},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var II=p,MI=Symbol.for("react.element"),DI=Symbol.for("react.fragment"),LI=Object.prototype.hasOwnProperty,$I=II.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,UI={key:!0,ref:!0,__self:!0,__source:!0};function p2(t,e,r){var n,s={},a=null,o=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)LI.call(e,n)&&!UI.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:MI,type:t,key:a,ref:o,props:s,_owner:$I.current}}Op.Fragment=DI;Op.jsx=p2;Op.jsxs=p2;n2.exports=Op;var i=n2.exports,m2={exports:{}},sn={},g2={exports:{}},y2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,$){var W=F.length;F.push($);e:for(;0<W;){var ne=W-1>>>1,Ce=F[ne];if(0<s(Ce,$))F[ne]=$,F[W]=Ce,W=ne;else break e}}function r(F){return F.length===0?null:F[0]}function n(F){if(F.length===0)return null;var $=F[0],W=F.pop();if(W!==$){F[0]=W;e:for(var ne=0,Ce=F.length,ut=Ce>>>1;ne<ut;){var tt=2*(ne+1)-1,_t=F[tt],ot=tt+1,xe=F[ot];if(0>s(_t,W))ot<Ce&&0>s(xe,_t)?(F[ne]=xe,F[ot]=W,ne=ot):(F[ne]=_t,F[tt]=W,ne=tt);else if(ot<Ce&&0>s(xe,W))F[ne]=xe,F[ot]=W,ne=ot;else break e}}return $}function s(F,$){var W=F.sortIndex-$.sortIndex;return W!==0?W:F.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,f=3,g=!1,j=!1,m=!1,v=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(F){for(var $=r(d);$!==null;){if($.callback===null)n(d);else if($.startTime<=F)n(d),$.sortIndex=$.expirationTime,e(c,$);else break;$=r(d)}}function b(F){if(m=!1,x(F),!j)if(r(c)!==null)j=!0,J(E);else{var $=r(d);$!==null&&ce(b,$.startTime-F)}}function E(F,$){j=!1,m&&(m=!1,w(A),A=-1),g=!0;var W=f;try{for(x($),h=r(c);h!==null&&(!(h.expirationTime>$)||F&&!G());){var ne=h.callback;if(typeof ne=="function"){h.callback=null,f=h.priorityLevel;var Ce=ne(h.expirationTime<=$);$=t.unstable_now(),typeof Ce=="function"?h.callback=Ce:h===r(c)&&n(c),x($)}else n(c);h=r(c)}if(h!==null)var ut=!0;else{var tt=r(d);tt!==null&&ce(b,tt.startTime-$),ut=!1}return ut}finally{h=null,f=W,g=!1}}var k=!1,T=null,A=-1,O=5,M=-1;function G(){return!(t.unstable_now()-M<O)}function L(){if(T!==null){var F=t.unstable_now();M=F;var $=!0;try{$=T(!0,F)}finally{$?R():(k=!1,T=null)}}else k=!1}var R;if(typeof y=="function")R=function(){y(L)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,ae=I.port2;I.port1.onmessage=L,R=function(){ae.postMessage(null)}}else R=function(){v(L,0)};function J(F){T=F,k||(k=!0,R())}function ce(F,$){A=v(function(){F(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){j||g||(j=!0,J(E))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(F){switch(f){case 1:case 2:case 3:var $=3;break;default:$=f}var W=f;f=$;try{return F()}finally{f=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,$){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var W=f;f=F;try{return $()}finally{f=W}},t.unstable_scheduleCallback=function(F,$,W){var ne=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?ne+W:ne):W=ne,F){case 1:var Ce=-1;break;case 2:Ce=250;break;case 5:Ce=1073741823;break;case 4:Ce=1e4;break;default:Ce=5e3}return Ce=W+Ce,F={id:u++,callback:$,priorityLevel:F,startTime:W,expirationTime:Ce,sortIndex:-1},W>ne?(F.sortIndex=W,e(d,F),r(c)===null&&F===r(d)&&(m?(w(A),A=-1):m=!0,ce(b,W-ne))):(F.sortIndex=Ce,e(c,F),j||g||(j=!0,J(E))),F},t.unstable_shouldYield=G,t.unstable_wrapCallback=function(F){var $=f;return function(){var W=f;f=$;try{return F.apply(this,arguments)}finally{f=W}}}})(y2);g2.exports=y2;var zI=g2.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BI=p,nn=zI;function Z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var x2=new Set,md={};function uo(t,e){Dl(t,e),Dl(t+"Capture",e)}function Dl(t,e){for(md[t]=e,t=0;t<e.length;t++)x2.add(e[t])}var ii=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bg=Object.prototype.hasOwnProperty,VI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,kb={},Pb={};function qI(t){return Bg.call(Pb,t)?!0:Bg.call(kb,t)?!1:VI.test(t)?Pb[t]=!0:(kb[t]=!0,!1)}function HI(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function WI(t,e,r,n){if(e===null||typeof e>"u"||HI(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Or(t,e,r,n,s,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var or={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){or[t]=new Or(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];or[e]=new Or(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){or[t]=new Or(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){or[t]=new Or(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){or[t]=new Or(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){or[t]=new Or(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){or[t]=new Or(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){or[t]=new Or(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){or[t]=new Or(t,5,!1,t.toLowerCase(),null,!1,!1)});var ov=/[\-:]([a-z])/g;function lv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ov,lv);or[e]=new Or(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ov,lv);or[e]=new Or(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ov,lv);or[e]=new Or(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){or[t]=new Or(t,1,!1,t.toLowerCase(),null,!1,!1)});or.xlinkHref=new Or("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){or[t]=new Or(t,1,!1,t.toLowerCase(),null,!0,!0)});function cv(t,e,r,n){var s=or.hasOwnProperty(e)?or[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(WI(e,r,s,n)&&(r=null),n||s===null?qI(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var mi=BI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,eh=Symbol.for("react.element"),To=Symbol.for("react.portal"),ko=Symbol.for("react.fragment"),dv=Symbol.for("react.strict_mode"),Vg=Symbol.for("react.profiler"),v2=Symbol.for("react.provider"),b2=Symbol.for("react.context"),uv=Symbol.for("react.forward_ref"),qg=Symbol.for("react.suspense"),Hg=Symbol.for("react.suspense_list"),hv=Symbol.for("react.memo"),Ni=Symbol.for("react.lazy"),w2=Symbol.for("react.offscreen"),Ab=Symbol.iterator;function wc(t){return t===null||typeof t!="object"?null:(t=Ab&&t[Ab]||t["@@iterator"],typeof t=="function"?t:null)}var jt=Object.assign,km;function $c(t){if(km===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);km=e&&e[1]||""}return`
`+km+t}var Pm=!1;function Am(t,e){if(!t||Pm)return"";Pm=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var n=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){n=d}t.call(e.prototype)}else{try{throw Error()}catch(d){n=d}t()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),a=n.stack.split(`
`),o=s.length-1,l=a.length-1;1<=o&&0<=l&&s[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==a[l]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{Pm=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?$c(t):""}function GI(t){switch(t.tag){case 5:return $c(t.type);case 16:return $c("Lazy");case 13:return $c("Suspense");case 19:return $c("SuspenseList");case 0:case 2:case 15:return t=Am(t.type,!1),t;case 11:return t=Am(t.type.render,!1),t;case 1:return t=Am(t.type,!0),t;default:return""}}function Wg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ko:return"Fragment";case To:return"Portal";case Vg:return"Profiler";case dv:return"StrictMode";case qg:return"Suspense";case Hg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case b2:return(t.displayName||"Context")+".Consumer";case v2:return(t._context.displayName||"Context")+".Provider";case uv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case hv:return e=t.displayName||null,e!==null?e:Wg(t.type)||"Memo";case Ni:e=t._payload,t=t._init;try{return Wg(t(e))}catch{}}return null}function KI(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Wg(e);case 8:return e===dv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ji(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function j2(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function QI(t){var e=j2(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function th(t){t._valueTracker||(t._valueTracker=QI(t))}function N2(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=j2(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function pf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Gg(t,e){var r=e.checked;return jt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Rb(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Ji(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function S2(t,e){e=e.checked,e!=null&&cv(t,"checked",e,!1)}function Kg(t,e){S2(t,e);var r=Ji(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Qg(t,e.type,r):e.hasOwnProperty("defaultValue")&&Qg(t,e.type,Ji(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ob(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Qg(t,e,r){(e!=="number"||pf(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Uc=Array.isArray;function Bo(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Ji(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Xg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Z(91));return jt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Fb(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(Z(92));if(Uc(r)){if(1<r.length)throw Error(Z(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Ji(r)}}function C2(t,e){var r=Ji(e.value),n=Ji(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Ib(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function _2(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Zg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?_2(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var rh,E2=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(rh=rh||document.createElement("div"),rh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=rh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function gd(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var ed={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},XI=["Webkit","ms","Moz","O"];Object.keys(ed).forEach(function(t){XI.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ed[e]=ed[t]})});function T2(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||ed.hasOwnProperty(t)&&ed[t]?(""+e).trim():e+"px"}function k2(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=T2(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var ZI=jt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Yg(t,e){if(e){if(ZI[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Z(62))}}function Jg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ey=null;function fv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ty=null,Vo=null,qo=null;function Mb(t){if(t=Au(t)){if(typeof ty!="function")throw Error(Z(280));var e=t.stateNode;e&&(e=Lp(e),ty(t.stateNode,t.type,e))}}function P2(t){Vo?qo?qo.push(t):qo=[t]:Vo=t}function A2(){if(Vo){var t=Vo,e=qo;if(qo=Vo=null,Mb(t),e)for(t=0;t<e.length;t++)Mb(e[t])}}function R2(t,e){return t(e)}function O2(){}var Rm=!1;function F2(t,e,r){if(Rm)return t(e,r);Rm=!0;try{return R2(t,e,r)}finally{Rm=!1,(Vo!==null||qo!==null)&&(O2(),A2())}}function yd(t,e){var r=t.stateNode;if(r===null)return null;var n=Lp(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(Z(231,e,typeof r));return r}var ry=!1;if(ii)try{var jc={};Object.defineProperty(jc,"passive",{get:function(){ry=!0}}),window.addEventListener("test",jc,jc),window.removeEventListener("test",jc,jc)}catch{ry=!1}function YI(t,e,r,n,s,a,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(r,d)}catch(u){this.onError(u)}}var td=!1,mf=null,gf=!1,ny=null,JI={onError:function(t){td=!0,mf=t}};function eM(t,e,r,n,s,a,o,l,c){td=!1,mf=null,YI.apply(JI,arguments)}function tM(t,e,r,n,s,a,o,l,c){if(eM.apply(this,arguments),td){if(td){var d=mf;td=!1,mf=null}else throw Error(Z(198));gf||(gf=!0,ny=d)}}function ho(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function I2(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Db(t){if(ho(t)!==t)throw Error(Z(188))}function rM(t){var e=t.alternate;if(!e){if(e=ho(t),e===null)throw Error(Z(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var a=s.alternate;if(a===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===r)return Db(s),t;if(a===n)return Db(s),e;a=a.sibling}throw Error(Z(188))}if(r.return!==n.return)r=s,n=a;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=a;break}if(l===n){o=!0,n=s,r=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===r){o=!0,r=a,n=s;break}if(l===n){o=!0,n=a,r=s;break}l=l.sibling}if(!o)throw Error(Z(189))}}if(r.alternate!==n)throw Error(Z(190))}if(r.tag!==3)throw Error(Z(188));return r.stateNode.current===r?t:e}function M2(t){return t=rM(t),t!==null?D2(t):null}function D2(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=D2(t);if(e!==null)return e;t=t.sibling}return null}var L2=nn.unstable_scheduleCallback,Lb=nn.unstable_cancelCallback,nM=nn.unstable_shouldYield,sM=nn.unstable_requestPaint,Pt=nn.unstable_now,iM=nn.unstable_getCurrentPriorityLevel,pv=nn.unstable_ImmediatePriority,$2=nn.unstable_UserBlockingPriority,yf=nn.unstable_NormalPriority,aM=nn.unstable_LowPriority,U2=nn.unstable_IdlePriority,Fp=null,As=null;function oM(t){if(As&&typeof As.onCommitFiberRoot=="function")try{As.onCommitFiberRoot(Fp,t,void 0,(t.current.flags&128)===128)}catch{}}var Yn=Math.clz32?Math.clz32:dM,lM=Math.log,cM=Math.LN2;function dM(t){return t>>>=0,t===0?32:31-(lM(t)/cM|0)|0}var nh=64,sh=4194304;function zc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function xf(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,a=t.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=zc(l):(a&=o,a!==0&&(n=zc(a)))}else o=r&~s,o!==0?n=zc(o):a!==0&&(n=zc(a));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,a=e&-e,s>=a||s===16&&(a&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Yn(e),s=1<<r,n|=t[r],e&=~s;return n}function uM(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hM(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-Yn(a),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=uM(l,e)):c<=e&&(t.expiredLanes|=l),a&=~l}}function sy(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function z2(){var t=nh;return nh<<=1,!(nh&4194240)&&(nh=64),t}function Om(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function ku(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Yn(e),t[e]=r}function fM(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-Yn(r),a=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~a}}function mv(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Yn(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var ct=0;function B2(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var V2,gv,q2,H2,W2,iy=!1,ih=[],Vi=null,qi=null,Hi=null,xd=new Map,vd=new Map,Ci=[],pM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $b(t,e){switch(t){case"focusin":case"focusout":Vi=null;break;case"dragenter":case"dragleave":qi=null;break;case"mouseover":case"mouseout":Hi=null;break;case"pointerover":case"pointerout":xd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":vd.delete(e.pointerId)}}function Nc(t,e,r,n,s,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[s]},e!==null&&(e=Au(e),e!==null&&gv(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function mM(t,e,r,n,s){switch(e){case"focusin":return Vi=Nc(Vi,t,e,r,n,s),!0;case"dragenter":return qi=Nc(qi,t,e,r,n,s),!0;case"mouseover":return Hi=Nc(Hi,t,e,r,n,s),!0;case"pointerover":var a=s.pointerId;return xd.set(a,Nc(xd.get(a)||null,t,e,r,n,s)),!0;case"gotpointercapture":return a=s.pointerId,vd.set(a,Nc(vd.get(a)||null,t,e,r,n,s)),!0}return!1}function G2(t){var e=wa(t.target);if(e!==null){var r=ho(e);if(r!==null){if(e=r.tag,e===13){if(e=I2(r),e!==null){t.blockedOn=e,W2(t.priority,function(){q2(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Lh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=ay(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);ey=n,r.target.dispatchEvent(n),ey=null}else return e=Au(r),e!==null&&gv(e),t.blockedOn=r,!1;e.shift()}return!0}function Ub(t,e,r){Lh(t)&&r.delete(e)}function gM(){iy=!1,Vi!==null&&Lh(Vi)&&(Vi=null),qi!==null&&Lh(qi)&&(qi=null),Hi!==null&&Lh(Hi)&&(Hi=null),xd.forEach(Ub),vd.forEach(Ub)}function Sc(t,e){t.blockedOn===e&&(t.blockedOn=null,iy||(iy=!0,nn.unstable_scheduleCallback(nn.unstable_NormalPriority,gM)))}function bd(t){function e(s){return Sc(s,t)}if(0<ih.length){Sc(ih[0],t);for(var r=1;r<ih.length;r++){var n=ih[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Vi!==null&&Sc(Vi,t),qi!==null&&Sc(qi,t),Hi!==null&&Sc(Hi,t),xd.forEach(e),vd.forEach(e),r=0;r<Ci.length;r++)n=Ci[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Ci.length&&(r=Ci[0],r.blockedOn===null);)G2(r),r.blockedOn===null&&Ci.shift()}var Ho=mi.ReactCurrentBatchConfig,vf=!0;function yM(t,e,r,n){var s=ct,a=Ho.transition;Ho.transition=null;try{ct=1,yv(t,e,r,n)}finally{ct=s,Ho.transition=a}}function xM(t,e,r,n){var s=ct,a=Ho.transition;Ho.transition=null;try{ct=4,yv(t,e,r,n)}finally{ct=s,Ho.transition=a}}function yv(t,e,r,n){if(vf){var s=ay(t,e,r,n);if(s===null)Vm(t,e,n,bf,r),$b(t,n);else if(mM(s,t,e,r,n))n.stopPropagation();else if($b(t,n),e&4&&-1<pM.indexOf(t)){for(;s!==null;){var a=Au(s);if(a!==null&&V2(a),a=ay(t,e,r,n),a===null&&Vm(t,e,n,bf,r),a===s)break;s=a}s!==null&&n.stopPropagation()}else Vm(t,e,n,null,r)}}var bf=null;function ay(t,e,r,n){if(bf=null,t=fv(n),t=wa(t),t!==null)if(e=ho(t),e===null)t=null;else if(r=e.tag,r===13){if(t=I2(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return bf=t,null}function K2(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(iM()){case pv:return 1;case $2:return 4;case yf:case aM:return 16;case U2:return 536870912;default:return 16}default:return 16}}var Ui=null,xv=null,$h=null;function Q2(){if($h)return $h;var t,e=xv,r=e.length,n,s="value"in Ui?Ui.value:Ui.textContent,a=s.length;for(t=0;t<r&&e[t]===s[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===s[a-n];n++);return $h=s.slice(t,1<n?1-n:void 0)}function Uh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ah(){return!0}function zb(){return!1}function an(t){function e(r,n,s,a,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?ah:zb,this.isPropagationStopped=zb,this}return jt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ah)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ah)},persist:function(){},isPersistent:ah}),e}var ac={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vv=an(ac),Pu=jt({},ac,{view:0,detail:0}),vM=an(Pu),Fm,Im,Cc,Ip=jt({},Pu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Cc&&(Cc&&t.type==="mousemove"?(Fm=t.screenX-Cc.screenX,Im=t.screenY-Cc.screenY):Im=Fm=0,Cc=t),Fm)},movementY:function(t){return"movementY"in t?t.movementY:Im}}),Bb=an(Ip),bM=jt({},Ip,{dataTransfer:0}),wM=an(bM),jM=jt({},Pu,{relatedTarget:0}),Mm=an(jM),NM=jt({},ac,{animationName:0,elapsedTime:0,pseudoElement:0}),SM=an(NM),CM=jt({},ac,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),_M=an(CM),EM=jt({},ac,{data:0}),Vb=an(EM),TM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},PM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function AM(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=PM[t])?!!e[t]:!1}function bv(){return AM}var RM=jt({},Pu,{key:function(t){if(t.key){var e=TM[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Uh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?kM[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bv,charCode:function(t){return t.type==="keypress"?Uh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Uh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),OM=an(RM),FM=jt({},Ip,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qb=an(FM),IM=jt({},Pu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bv}),MM=an(IM),DM=jt({},ac,{propertyName:0,elapsedTime:0,pseudoElement:0}),LM=an(DM),$M=jt({},Ip,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),UM=an($M),zM=[9,13,27,32],wv=ii&&"CompositionEvent"in window,rd=null;ii&&"documentMode"in document&&(rd=document.documentMode);var BM=ii&&"TextEvent"in window&&!rd,X2=ii&&(!wv||rd&&8<rd&&11>=rd),Hb=" ",Wb=!1;function Z2(t,e){switch(t){case"keyup":return zM.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Y2(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Po=!1;function VM(t,e){switch(t){case"compositionend":return Y2(e);case"keypress":return e.which!==32?null:(Wb=!0,Hb);case"textInput":return t=e.data,t===Hb&&Wb?null:t;default:return null}}function qM(t,e){if(Po)return t==="compositionend"||!wv&&Z2(t,e)?(t=Q2(),$h=xv=Ui=null,Po=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return X2&&e.locale!=="ko"?null:e.data;default:return null}}var HM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!HM[t.type]:e==="textarea"}function J2(t,e,r,n){P2(n),e=wf(e,"onChange"),0<e.length&&(r=new vv("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var nd=null,wd=null;function WM(t){dE(t,0)}function Mp(t){var e=Oo(t);if(N2(e))return t}function GM(t,e){if(t==="change")return e}var eE=!1;if(ii){var Dm;if(ii){var Lm="oninput"in document;if(!Lm){var Kb=document.createElement("div");Kb.setAttribute("oninput","return;"),Lm=typeof Kb.oninput=="function"}Dm=Lm}else Dm=!1;eE=Dm&&(!document.documentMode||9<document.documentMode)}function Qb(){nd&&(nd.detachEvent("onpropertychange",tE),wd=nd=null)}function tE(t){if(t.propertyName==="value"&&Mp(wd)){var e=[];J2(e,wd,t,fv(t)),F2(WM,e)}}function KM(t,e,r){t==="focusin"?(Qb(),nd=e,wd=r,nd.attachEvent("onpropertychange",tE)):t==="focusout"&&Qb()}function QM(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Mp(wd)}function XM(t,e){if(t==="click")return Mp(e)}function ZM(t,e){if(t==="input"||t==="change")return Mp(e)}function YM(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ts=typeof Object.is=="function"?Object.is:YM;function jd(t,e){if(ts(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Bg.call(e,s)||!ts(t[s],e[s]))return!1}return!0}function Xb(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Zb(t,e){var r=Xb(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Xb(r)}}function rE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?rE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function nE(){for(var t=window,e=pf();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=pf(t.document)}return e}function jv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function JM(t){var e=nE(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&rE(r.ownerDocument.documentElement,r)){if(n!==null&&jv(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,a=Math.min(n.start,s);n=n.end===void 0?a:Math.min(n.end,s),!t.extend&&a>n&&(s=n,n=a,a=s),s=Zb(r,a);var o=Zb(r,n);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),a>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var eD=ii&&"documentMode"in document&&11>=document.documentMode,Ao=null,oy=null,sd=null,ly=!1;function Yb(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;ly||Ao==null||Ao!==pf(n)||(n=Ao,"selectionStart"in n&&jv(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),sd&&jd(sd,n)||(sd=n,n=wf(oy,"onSelect"),0<n.length&&(e=new vv("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Ao)))}function oh(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Ro={animationend:oh("Animation","AnimationEnd"),animationiteration:oh("Animation","AnimationIteration"),animationstart:oh("Animation","AnimationStart"),transitionend:oh("Transition","TransitionEnd")},$m={},sE={};ii&&(sE=document.createElement("div").style,"AnimationEvent"in window||(delete Ro.animationend.animation,delete Ro.animationiteration.animation,delete Ro.animationstart.animation),"TransitionEvent"in window||delete Ro.transitionend.transition);function Dp(t){if($m[t])return $m[t];if(!Ro[t])return t;var e=Ro[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in sE)return $m[t]=e[r];return t}var iE=Dp("animationend"),aE=Dp("animationiteration"),oE=Dp("animationstart"),lE=Dp("transitionend"),cE=new Map,Jb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ca(t,e){cE.set(t,e),uo(e,[t])}for(var Um=0;Um<Jb.length;Um++){var zm=Jb[Um],tD=zm.toLowerCase(),rD=zm[0].toUpperCase()+zm.slice(1);ca(tD,"on"+rD)}ca(iE,"onAnimationEnd");ca(aE,"onAnimationIteration");ca(oE,"onAnimationStart");ca("dblclick","onDoubleClick");ca("focusin","onFocus");ca("focusout","onBlur");ca(lE,"onTransitionEnd");Dl("onMouseEnter",["mouseout","mouseover"]);Dl("onMouseLeave",["mouseout","mouseover"]);Dl("onPointerEnter",["pointerout","pointerover"]);Dl("onPointerLeave",["pointerout","pointerover"]);uo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));uo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));uo("onBeforeInput",["compositionend","keypress","textInput","paste"]);uo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));uo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));uo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nD=new Set("cancel close invalid load scroll toggle".split(" ").concat(Bc));function ew(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,tM(n,e,void 0,t),t.currentTarget=null}function dE(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==a&&s.isPropagationStopped())break e;ew(s,l,d),a=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==a&&s.isPropagationStopped())break e;ew(s,l,d),a=c}}}if(gf)throw t=ny,gf=!1,ny=null,t}function pt(t,e){var r=e[fy];r===void 0&&(r=e[fy]=new Set);var n=t+"__bubble";r.has(n)||(uE(e,t,2,!1),r.add(n))}function Bm(t,e,r){var n=0;e&&(n|=4),uE(r,t,n,e)}var lh="_reactListening"+Math.random().toString(36).slice(2);function Nd(t){if(!t[lh]){t[lh]=!0,x2.forEach(function(r){r!=="selectionchange"&&(nD.has(r)||Bm(r,!1,t),Bm(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[lh]||(e[lh]=!0,Bm("selectionchange",!1,e))}}function uE(t,e,r,n){switch(K2(e)){case 1:var s=yM;break;case 4:s=xM;break;default:s=yv}r=s.bind(null,e,r,t),s=void 0,!ry||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function Vm(t,e,r,n,s){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=wa(l),o===null)return;if(c=o.tag,c===5||c===6){n=a=o;continue e}l=l.parentNode}}n=n.return}F2(function(){var d=a,u=fv(r),h=[];e:{var f=cE.get(t);if(f!==void 0){var g=vv,j=t;switch(t){case"keypress":if(Uh(r)===0)break e;case"keydown":case"keyup":g=OM;break;case"focusin":j="focus",g=Mm;break;case"focusout":j="blur",g=Mm;break;case"beforeblur":case"afterblur":g=Mm;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Bb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=wM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=MM;break;case iE:case aE:case oE:g=SM;break;case lE:g=LM;break;case"scroll":g=vM;break;case"wheel":g=UM;break;case"copy":case"cut":case"paste":g=_M;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=qb}var m=(e&4)!==0,v=!m&&t==="scroll",w=m?f!==null?f+"Capture":null:f;m=[];for(var y=d,x;y!==null;){x=y;var b=x.stateNode;if(x.tag===5&&b!==null&&(x=b,w!==null&&(b=yd(y,w),b!=null&&m.push(Sd(y,b,x)))),v)break;y=y.return}0<m.length&&(f=new g(f,j,null,r,u),h.push({event:f,listeners:m}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",f&&r!==ey&&(j=r.relatedTarget||r.fromElement)&&(wa(j)||j[ai]))break e;if((g||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,g?(j=r.relatedTarget||r.toElement,g=d,j=j?wa(j):null,j!==null&&(v=ho(j),j!==v||j.tag!==5&&j.tag!==6)&&(j=null)):(g=null,j=d),g!==j)){if(m=Bb,b="onMouseLeave",w="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(m=qb,b="onPointerLeave",w="onPointerEnter",y="pointer"),v=g==null?f:Oo(g),x=j==null?f:Oo(j),f=new m(b,y+"leave",g,r,u),f.target=v,f.relatedTarget=x,b=null,wa(u)===d&&(m=new m(w,y+"enter",j,r,u),m.target=x,m.relatedTarget=v,b=m),v=b,g&&j)t:{for(m=g,w=j,y=0,x=m;x;x=bo(x))y++;for(x=0,b=w;b;b=bo(b))x++;for(;0<y-x;)m=bo(m),y--;for(;0<x-y;)w=bo(w),x--;for(;y--;){if(m===w||w!==null&&m===w.alternate)break t;m=bo(m),w=bo(w)}m=null}else m=null;g!==null&&tw(h,f,g,m,!1),j!==null&&v!==null&&tw(h,v,j,m,!0)}}e:{if(f=d?Oo(d):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var E=GM;else if(Gb(f))if(eE)E=ZM;else{E=QM;var k=KM}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(E=XM);if(E&&(E=E(t,d))){J2(h,E,r,u);break e}k&&k(t,f,d),t==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&Qg(f,"number",f.value)}switch(k=d?Oo(d):window,t){case"focusin":(Gb(k)||k.contentEditable==="true")&&(Ao=k,oy=d,sd=null);break;case"focusout":sd=oy=Ao=null;break;case"mousedown":ly=!0;break;case"contextmenu":case"mouseup":case"dragend":ly=!1,Yb(h,r,u);break;case"selectionchange":if(eD)break;case"keydown":case"keyup":Yb(h,r,u)}var T;if(wv)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Po?Z2(t,r)&&(A="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(A="onCompositionStart");A&&(X2&&r.locale!=="ko"&&(Po||A!=="onCompositionStart"?A==="onCompositionEnd"&&Po&&(T=Q2()):(Ui=u,xv="value"in Ui?Ui.value:Ui.textContent,Po=!0)),k=wf(d,A),0<k.length&&(A=new Vb(A,t,null,r,u),h.push({event:A,listeners:k}),T?A.data=T:(T=Y2(r),T!==null&&(A.data=T)))),(T=BM?VM(t,r):qM(t,r))&&(d=wf(d,"onBeforeInput"),0<d.length&&(u=new Vb("onBeforeInput","beforeinput",null,r,u),h.push({event:u,listeners:d}),u.data=T))}dE(h,e)})}function Sd(t,e,r){return{instance:t,listener:e,currentTarget:r}}function wf(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=yd(t,r),a!=null&&n.unshift(Sd(t,a,s)),a=yd(t,e),a!=null&&n.push(Sd(t,a,s))),t=t.return}return n}function bo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function tw(t,e,r,n,s){for(var a=e._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&d!==null&&(l=d,s?(c=yd(r,a),c!=null&&o.unshift(Sd(r,c,l))):s||(c=yd(r,a),c!=null&&o.push(Sd(r,c,l)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var sD=/\r\n?/g,iD=/\u0000|\uFFFD/g;function rw(t){return(typeof t=="string"?t:""+t).replace(sD,`
`).replace(iD,"")}function ch(t,e,r){if(e=rw(e),rw(t)!==e&&r)throw Error(Z(425))}function jf(){}var cy=null,dy=null;function uy(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var hy=typeof setTimeout=="function"?setTimeout:void 0,aD=typeof clearTimeout=="function"?clearTimeout:void 0,nw=typeof Promise=="function"?Promise:void 0,oD=typeof queueMicrotask=="function"?queueMicrotask:typeof nw<"u"?function(t){return nw.resolve(null).then(t).catch(lD)}:hy;function lD(t){setTimeout(function(){throw t})}function qm(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),bd(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);bd(e)}function Wi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function sw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var oc=Math.random().toString(36).slice(2),Ss="__reactFiber$"+oc,Cd="__reactProps$"+oc,ai="__reactContainer$"+oc,fy="__reactEvents$"+oc,cD="__reactListeners$"+oc,dD="__reactHandles$"+oc;function wa(t){var e=t[Ss];if(e)return e;for(var r=t.parentNode;r;){if(e=r[ai]||r[Ss]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=sw(t);t!==null;){if(r=t[Ss])return r;t=sw(t)}return e}t=r,r=t.parentNode}return null}function Au(t){return t=t[Ss]||t[ai],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Oo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Z(33))}function Lp(t){return t[Cd]||null}var py=[],Fo=-1;function da(t){return{current:t}}function mt(t){0>Fo||(t.current=py[Fo],py[Fo]=null,Fo--)}function ht(t,e){Fo++,py[Fo]=t.current,t.current=e}var ea={},yr=da(ea),zr=da(!1),Ka=ea;function Ll(t,e){var r=t.type.contextTypes;if(!r)return ea;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in r)s[a]=e[a];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Br(t){return t=t.childContextTypes,t!=null}function Nf(){mt(zr),mt(yr)}function iw(t,e,r){if(yr.current!==ea)throw Error(Z(168));ht(yr,e),ht(zr,r)}function hE(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(Z(108,KI(t)||"Unknown",s));return jt({},r,n)}function Sf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ea,Ka=yr.current,ht(yr,t),ht(zr,zr.current),!0}function aw(t,e,r){var n=t.stateNode;if(!n)throw Error(Z(169));r?(t=hE(t,e,Ka),n.__reactInternalMemoizedMergedChildContext=t,mt(zr),mt(yr),ht(yr,t)):mt(zr),ht(zr,r)}var Hs=null,$p=!1,Hm=!1;function fE(t){Hs===null?Hs=[t]:Hs.push(t)}function uD(t){$p=!0,fE(t)}function ua(){if(!Hm&&Hs!==null){Hm=!0;var t=0,e=ct;try{var r=Hs;for(ct=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Hs=null,$p=!1}catch(s){throw Hs!==null&&(Hs=Hs.slice(t+1)),L2(pv,ua),s}finally{ct=e,Hm=!1}}return null}var Io=[],Mo=0,Cf=null,_f=0,hn=[],fn=0,Qa=null,ei=1,ti="";function ma(t,e){Io[Mo++]=_f,Io[Mo++]=Cf,Cf=t,_f=e}function pE(t,e,r){hn[fn++]=ei,hn[fn++]=ti,hn[fn++]=Qa,Qa=t;var n=ei;t=ti;var s=32-Yn(n)-1;n&=~(1<<s),r+=1;var a=32-Yn(e)+s;if(30<a){var o=s-s%5;a=(n&(1<<o)-1).toString(32),n>>=o,s-=o,ei=1<<32-Yn(e)+s|r<<s|n,ti=a+t}else ei=1<<a|r<<s|n,ti=t}function Nv(t){t.return!==null&&(ma(t,1),pE(t,1,0))}function Sv(t){for(;t===Cf;)Cf=Io[--Mo],Io[Mo]=null,_f=Io[--Mo],Io[Mo]=null;for(;t===Qa;)Qa=hn[--fn],hn[fn]=null,ti=hn[--fn],hn[fn]=null,ei=hn[--fn],hn[fn]=null}var en=null,Jr=null,yt=!1,Bn=null;function mE(t,e){var r=yn(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function ow(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,en=t,Jr=Wi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,en=t,Jr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Qa!==null?{id:ei,overflow:ti}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=yn(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,en=t,Jr=null,!0):!1;default:return!1}}function my(t){return(t.mode&1)!==0&&(t.flags&128)===0}function gy(t){if(yt){var e=Jr;if(e){var r=e;if(!ow(t,e)){if(my(t))throw Error(Z(418));e=Wi(r.nextSibling);var n=en;e&&ow(t,e)?mE(n,r):(t.flags=t.flags&-4097|2,yt=!1,en=t)}}else{if(my(t))throw Error(Z(418));t.flags=t.flags&-4097|2,yt=!1,en=t}}}function lw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;en=t}function dh(t){if(t!==en)return!1;if(!yt)return lw(t),yt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!uy(t.type,t.memoizedProps)),e&&(e=Jr)){if(my(t))throw gE(),Error(Z(418));for(;e;)mE(t,e),e=Wi(e.nextSibling)}if(lw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Jr=Wi(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Jr=null}}else Jr=en?Wi(t.stateNode.nextSibling):null;return!0}function gE(){for(var t=Jr;t;)t=Wi(t.nextSibling)}function $l(){Jr=en=null,yt=!1}function Cv(t){Bn===null?Bn=[t]:Bn.push(t)}var hD=mi.ReactCurrentBatchConfig;function _c(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Z(309));var n=r.stateNode}if(!n)throw Error(Z(147,t));var s=n,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var l=s.refs;o===null?delete l[a]:l[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(Z(284));if(!r._owner)throw Error(Z(290,t))}return t}function uh(t,e){throw t=Object.prototype.toString.call(e),Error(Z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function cw(t){var e=t._init;return e(t._payload)}function yE(t){function e(w,y){if(t){var x=w.deletions;x===null?(w.deletions=[y],w.flags|=16):x.push(y)}}function r(w,y){if(!t)return null;for(;y!==null;)e(w,y),y=y.sibling;return null}function n(w,y){for(w=new Map;y!==null;)y.key!==null?w.set(y.key,y):w.set(y.index,y),y=y.sibling;return w}function s(w,y){return w=Xi(w,y),w.index=0,w.sibling=null,w}function a(w,y,x){return w.index=x,t?(x=w.alternate,x!==null?(x=x.index,x<y?(w.flags|=2,y):x):(w.flags|=2,y)):(w.flags|=1048576,y)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function l(w,y,x,b){return y===null||y.tag!==6?(y=Ym(x,w.mode,b),y.return=w,y):(y=s(y,x),y.return=w,y)}function c(w,y,x,b){var E=x.type;return E===ko?u(w,y,x.props.children,b,x.key):y!==null&&(y.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Ni&&cw(E)===y.type)?(b=s(y,x.props),b.ref=_c(w,y,x),b.return=w,b):(b=Gh(x.type,x.key,x.props,null,w.mode,b),b.ref=_c(w,y,x),b.return=w,b)}function d(w,y,x,b){return y===null||y.tag!==4||y.stateNode.containerInfo!==x.containerInfo||y.stateNode.implementation!==x.implementation?(y=Jm(x,w.mode,b),y.return=w,y):(y=s(y,x.children||[]),y.return=w,y)}function u(w,y,x,b,E){return y===null||y.tag!==7?(y=Ha(x,w.mode,b,E),y.return=w,y):(y=s(y,x),y.return=w,y)}function h(w,y,x){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Ym(""+y,w.mode,x),y.return=w,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case eh:return x=Gh(y.type,y.key,y.props,null,w.mode,x),x.ref=_c(w,null,y),x.return=w,x;case To:return y=Jm(y,w.mode,x),y.return=w,y;case Ni:var b=y._init;return h(w,b(y._payload),x)}if(Uc(y)||wc(y))return y=Ha(y,w.mode,x,null),y.return=w,y;uh(w,y)}return null}function f(w,y,x,b){var E=y!==null?y.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return E!==null?null:l(w,y,""+x,b);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case eh:return x.key===E?c(w,y,x,b):null;case To:return x.key===E?d(w,y,x,b):null;case Ni:return E=x._init,f(w,y,E(x._payload),b)}if(Uc(x)||wc(x))return E!==null?null:u(w,y,x,b,null);uh(w,x)}return null}function g(w,y,x,b,E){if(typeof b=="string"&&b!==""||typeof b=="number")return w=w.get(x)||null,l(y,w,""+b,E);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case eh:return w=w.get(b.key===null?x:b.key)||null,c(y,w,b,E);case To:return w=w.get(b.key===null?x:b.key)||null,d(y,w,b,E);case Ni:var k=b._init;return g(w,y,x,k(b._payload),E)}if(Uc(b)||wc(b))return w=w.get(x)||null,u(y,w,b,E,null);uh(y,b)}return null}function j(w,y,x,b){for(var E=null,k=null,T=y,A=y=0,O=null;T!==null&&A<x.length;A++){T.index>A?(O=T,T=null):O=T.sibling;var M=f(w,T,x[A],b);if(M===null){T===null&&(T=O);break}t&&T&&M.alternate===null&&e(w,T),y=a(M,y,A),k===null?E=M:k.sibling=M,k=M,T=O}if(A===x.length)return r(w,T),yt&&ma(w,A),E;if(T===null){for(;A<x.length;A++)T=h(w,x[A],b),T!==null&&(y=a(T,y,A),k===null?E=T:k.sibling=T,k=T);return yt&&ma(w,A),E}for(T=n(w,T);A<x.length;A++)O=g(T,w,A,x[A],b),O!==null&&(t&&O.alternate!==null&&T.delete(O.key===null?A:O.key),y=a(O,y,A),k===null?E=O:k.sibling=O,k=O);return t&&T.forEach(function(G){return e(w,G)}),yt&&ma(w,A),E}function m(w,y,x,b){var E=wc(x);if(typeof E!="function")throw Error(Z(150));if(x=E.call(x),x==null)throw Error(Z(151));for(var k=E=null,T=y,A=y=0,O=null,M=x.next();T!==null&&!M.done;A++,M=x.next()){T.index>A?(O=T,T=null):O=T.sibling;var G=f(w,T,M.value,b);if(G===null){T===null&&(T=O);break}t&&T&&G.alternate===null&&e(w,T),y=a(G,y,A),k===null?E=G:k.sibling=G,k=G,T=O}if(M.done)return r(w,T),yt&&ma(w,A),E;if(T===null){for(;!M.done;A++,M=x.next())M=h(w,M.value,b),M!==null&&(y=a(M,y,A),k===null?E=M:k.sibling=M,k=M);return yt&&ma(w,A),E}for(T=n(w,T);!M.done;A++,M=x.next())M=g(T,w,A,M.value,b),M!==null&&(t&&M.alternate!==null&&T.delete(M.key===null?A:M.key),y=a(M,y,A),k===null?E=M:k.sibling=M,k=M);return t&&T.forEach(function(L){return e(w,L)}),yt&&ma(w,A),E}function v(w,y,x,b){if(typeof x=="object"&&x!==null&&x.type===ko&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case eh:e:{for(var E=x.key,k=y;k!==null;){if(k.key===E){if(E=x.type,E===ko){if(k.tag===7){r(w,k.sibling),y=s(k,x.props.children),y.return=w,w=y;break e}}else if(k.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Ni&&cw(E)===k.type){r(w,k.sibling),y=s(k,x.props),y.ref=_c(w,k,x),y.return=w,w=y;break e}r(w,k);break}else e(w,k);k=k.sibling}x.type===ko?(y=Ha(x.props.children,w.mode,b,x.key),y.return=w,w=y):(b=Gh(x.type,x.key,x.props,null,w.mode,b),b.ref=_c(w,y,x),b.return=w,w=b)}return o(w);case To:e:{for(k=x.key;y!==null;){if(y.key===k)if(y.tag===4&&y.stateNode.containerInfo===x.containerInfo&&y.stateNode.implementation===x.implementation){r(w,y.sibling),y=s(y,x.children||[]),y.return=w,w=y;break e}else{r(w,y);break}else e(w,y);y=y.sibling}y=Jm(x,w.mode,b),y.return=w,w=y}return o(w);case Ni:return k=x._init,v(w,y,k(x._payload),b)}if(Uc(x))return j(w,y,x,b);if(wc(x))return m(w,y,x,b);uh(w,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,y!==null&&y.tag===6?(r(w,y.sibling),y=s(y,x),y.return=w,w=y):(r(w,y),y=Ym(x,w.mode,b),y.return=w,w=y),o(w)):r(w,y)}return v}var Ul=yE(!0),xE=yE(!1),Ef=da(null),Tf=null,Do=null,_v=null;function Ev(){_v=Do=Tf=null}function Tv(t){var e=Ef.current;mt(Ef),t._currentValue=e}function yy(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Wo(t,e){Tf=t,_v=Do=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ur=!0),t.firstContext=null)}function bn(t){var e=t._currentValue;if(_v!==t)if(t={context:t,memoizedValue:e,next:null},Do===null){if(Tf===null)throw Error(Z(308));Do=t,Tf.dependencies={lanes:0,firstContext:t}}else Do=Do.next=t;return e}var ja=null;function kv(t){ja===null?ja=[t]:ja.push(t)}function vE(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,kv(e)):(r.next=s.next,s.next=r),e.interleaved=r,oi(t,n)}function oi(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Si=!1;function Pv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ri(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Gi(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,et&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,oi(t,r)}return s=n.interleaved,s===null?(e.next=e,kv(n)):(e.next=s.next,s.next=e),n.interleaved=e,oi(t,r)}function zh(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,mv(t,r)}}function dw(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?s=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?s=a=e:a=a.next=e}else s=a=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function kf(t,e,r,n){var s=t.updateQueue;Si=!1;var a=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?a=d:o.next=d,o=c;var u=t.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(a!==null){var h=s.baseState;o=0,u=d=c=null,l=a;do{var f=l.lane,g=l.eventTime;if((n&f)===f){u!==null&&(u=u.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var j=t,m=l;switch(f=e,g=r,m.tag){case 1:if(j=m.payload,typeof j=="function"){h=j.call(g,h,f);break e}h=j;break e;case 3:j.flags=j.flags&-65537|128;case 0:if(j=m.payload,f=typeof j=="function"?j.call(g,h,f):j,f==null)break e;h=jt({},h,f);break e;case 2:Si=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else g={eventTime:g,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=g,c=h):u=u.next=g,o|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(u===null&&(c=h),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else a===null&&(s.shared.lanes=0);Za|=o,t.lanes=o,t.memoizedState=h}}function uw(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(Z(191,s));s.call(n)}}}var Ru={},Rs=da(Ru),_d=da(Ru),Ed=da(Ru);function Na(t){if(t===Ru)throw Error(Z(174));return t}function Av(t,e){switch(ht(Ed,e),ht(_d,t),ht(Rs,Ru),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Zg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Zg(e,t)}mt(Rs),ht(Rs,e)}function zl(){mt(Rs),mt(_d),mt(Ed)}function wE(t){Na(Ed.current);var e=Na(Rs.current),r=Zg(e,t.type);e!==r&&(ht(_d,t),ht(Rs,r))}function Rv(t){_d.current===t&&(mt(Rs),mt(_d))}var bt=da(0);function Pf(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Wm=[];function Ov(){for(var t=0;t<Wm.length;t++)Wm[t]._workInProgressVersionPrimary=null;Wm.length=0}var Bh=mi.ReactCurrentDispatcher,Gm=mi.ReactCurrentBatchConfig,Xa=0,wt=null,Mt=null,Ht=null,Af=!1,id=!1,Td=0,fD=0;function ur(){throw Error(Z(321))}function Fv(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!ts(t[r],e[r]))return!1;return!0}function Iv(t,e,r,n,s,a){if(Xa=a,wt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Bh.current=t===null||t.memoizedState===null?yD:xD,t=r(n,s),id){a=0;do{if(id=!1,Td=0,25<=a)throw Error(Z(301));a+=1,Ht=Mt=null,e.updateQueue=null,Bh.current=vD,t=r(n,s)}while(id)}if(Bh.current=Rf,e=Mt!==null&&Mt.next!==null,Xa=0,Ht=Mt=wt=null,Af=!1,e)throw Error(Z(300));return t}function Mv(){var t=Td!==0;return Td=0,t}function fs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?wt.memoizedState=Ht=t:Ht=Ht.next=t,Ht}function wn(){if(Mt===null){var t=wt.alternate;t=t!==null?t.memoizedState:null}else t=Mt.next;var e=Ht===null?wt.memoizedState:Ht.next;if(e!==null)Ht=e,Mt=t;else{if(t===null)throw Error(Z(310));Mt=t,t={memoizedState:Mt.memoizedState,baseState:Mt.baseState,baseQueue:Mt.baseQueue,queue:Mt.queue,next:null},Ht===null?wt.memoizedState=Ht=t:Ht=Ht.next=t}return Ht}function kd(t,e){return typeof e=="function"?e(t):e}function Km(t){var e=wn(),r=e.queue;if(r===null)throw Error(Z(311));r.lastRenderedReducer=t;var n=Mt,s=n.baseQueue,a=r.pending;if(a!==null){if(s!==null){var o=s.next;s.next=a.next,a.next=o}n.baseQueue=s=a,r.pending=null}if(s!==null){a=s.next,n=n.baseState;var l=o=null,c=null,d=a;do{var u=d.lane;if((Xa&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:t(n,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=h,o=n):c=c.next=h,wt.lanes|=u,Za|=u}d=d.next}while(d!==null&&d!==a);c===null?o=n:c.next=l,ts(n,e.memoizedState)||(Ur=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do a=s.lane,wt.lanes|=a,Za|=a,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Qm(t){var e=wn(),r=e.queue;if(r===null)throw Error(Z(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,a=e.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do a=t(a,o.action),o=o.next;while(o!==s);ts(a,e.memoizedState)||(Ur=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function jE(){}function NE(t,e){var r=wt,n=wn(),s=e(),a=!ts(n.memoizedState,s);if(a&&(n.memoizedState=s,Ur=!0),n=n.queue,Dv(_E.bind(null,r,n,t),[t]),n.getSnapshot!==e||a||Ht!==null&&Ht.memoizedState.tag&1){if(r.flags|=2048,Pd(9,CE.bind(null,r,n,s,e),void 0,null),Kt===null)throw Error(Z(349));Xa&30||SE(r,e,s)}return s}function SE(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=wt.updateQueue,e===null?(e={lastEffect:null,stores:null},wt.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function CE(t,e,r,n){e.value=r,e.getSnapshot=n,EE(e)&&TE(t)}function _E(t,e,r){return r(function(){EE(e)&&TE(t)})}function EE(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!ts(t,r)}catch{return!0}}function TE(t){var e=oi(t,1);e!==null&&Jn(e,t,1,-1)}function hw(t){var e=fs();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:kd,lastRenderedState:t},e.queue=t,t=t.dispatch=gD.bind(null,wt,t),[e.memoizedState,t]}function Pd(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=wt.updateQueue,e===null?(e={lastEffect:null,stores:null},wt.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function kE(){return wn().memoizedState}function Vh(t,e,r,n){var s=fs();wt.flags|=t,s.memoizedState=Pd(1|e,r,void 0,n===void 0?null:n)}function Up(t,e,r,n){var s=wn();n=n===void 0?null:n;var a=void 0;if(Mt!==null){var o=Mt.memoizedState;if(a=o.destroy,n!==null&&Fv(n,o.deps)){s.memoizedState=Pd(e,r,a,n);return}}wt.flags|=t,s.memoizedState=Pd(1|e,r,a,n)}function fw(t,e){return Vh(8390656,8,t,e)}function Dv(t,e){return Up(2048,8,t,e)}function PE(t,e){return Up(4,2,t,e)}function AE(t,e){return Up(4,4,t,e)}function RE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function OE(t,e,r){return r=r!=null?r.concat([t]):null,Up(4,4,RE.bind(null,e,t),r)}function Lv(){}function FE(t,e){var r=wn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Fv(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function IE(t,e){var r=wn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Fv(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function ME(t,e,r){return Xa&21?(ts(r,e)||(r=z2(),wt.lanes|=r,Za|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ur=!0),t.memoizedState=r)}function pD(t,e){var r=ct;ct=r!==0&&4>r?r:4,t(!0);var n=Gm.transition;Gm.transition={};try{t(!1),e()}finally{ct=r,Gm.transition=n}}function DE(){return wn().memoizedState}function mD(t,e,r){var n=Qi(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},LE(t))$E(e,r);else if(r=vE(t,e,r,n),r!==null){var s=Pr();Jn(r,t,n,s),UE(r,e,n)}}function gD(t,e,r){var n=Qi(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(LE(t))$E(e,s);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,l=a(o,r);if(s.hasEagerState=!0,s.eagerState=l,ts(l,o)){var c=e.interleaved;c===null?(s.next=s,kv(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}r=vE(t,e,s,n),r!==null&&(s=Pr(),Jn(r,t,n,s),UE(r,e,n))}}function LE(t){var e=t.alternate;return t===wt||e!==null&&e===wt}function $E(t,e){id=Af=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function UE(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,mv(t,r)}}var Rf={readContext:bn,useCallback:ur,useContext:ur,useEffect:ur,useImperativeHandle:ur,useInsertionEffect:ur,useLayoutEffect:ur,useMemo:ur,useReducer:ur,useRef:ur,useState:ur,useDebugValue:ur,useDeferredValue:ur,useTransition:ur,useMutableSource:ur,useSyncExternalStore:ur,useId:ur,unstable_isNewReconciler:!1},yD={readContext:bn,useCallback:function(t,e){return fs().memoizedState=[t,e===void 0?null:e],t},useContext:bn,useEffect:fw,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Vh(4194308,4,RE.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Vh(4194308,4,t,e)},useInsertionEffect:function(t,e){return Vh(4,2,t,e)},useMemo:function(t,e){var r=fs();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=fs();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=mD.bind(null,wt,t),[n.memoizedState,t]},useRef:function(t){var e=fs();return t={current:t},e.memoizedState=t},useState:hw,useDebugValue:Lv,useDeferredValue:function(t){return fs().memoizedState=t},useTransition:function(){var t=hw(!1),e=t[0];return t=pD.bind(null,t[1]),fs().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=wt,s=fs();if(yt){if(r===void 0)throw Error(Z(407));r=r()}else{if(r=e(),Kt===null)throw Error(Z(349));Xa&30||SE(n,e,r)}s.memoizedState=r;var a={value:r,getSnapshot:e};return s.queue=a,fw(_E.bind(null,n,a,t),[t]),n.flags|=2048,Pd(9,CE.bind(null,n,a,r,e),void 0,null),r},useId:function(){var t=fs(),e=Kt.identifierPrefix;if(yt){var r=ti,n=ei;r=(n&~(1<<32-Yn(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Td++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=fD++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},xD={readContext:bn,useCallback:FE,useContext:bn,useEffect:Dv,useImperativeHandle:OE,useInsertionEffect:PE,useLayoutEffect:AE,useMemo:IE,useReducer:Km,useRef:kE,useState:function(){return Km(kd)},useDebugValue:Lv,useDeferredValue:function(t){var e=wn();return ME(e,Mt.memoizedState,t)},useTransition:function(){var t=Km(kd)[0],e=wn().memoizedState;return[t,e]},useMutableSource:jE,useSyncExternalStore:NE,useId:DE,unstable_isNewReconciler:!1},vD={readContext:bn,useCallback:FE,useContext:bn,useEffect:Dv,useImperativeHandle:OE,useInsertionEffect:PE,useLayoutEffect:AE,useMemo:IE,useReducer:Qm,useRef:kE,useState:function(){return Qm(kd)},useDebugValue:Lv,useDeferredValue:function(t){var e=wn();return Mt===null?e.memoizedState=t:ME(e,Mt.memoizedState,t)},useTransition:function(){var t=Qm(kd)[0],e=wn().memoizedState;return[t,e]},useMutableSource:jE,useSyncExternalStore:NE,useId:DE,unstable_isNewReconciler:!1};function An(t,e){if(t&&t.defaultProps){e=jt({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function xy(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:jt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var zp={isMounted:function(t){return(t=t._reactInternals)?ho(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Pr(),s=Qi(t),a=ri(n,s);a.payload=e,r!=null&&(a.callback=r),e=Gi(t,a,s),e!==null&&(Jn(e,t,s,n),zh(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Pr(),s=Qi(t),a=ri(n,s);a.tag=1,a.payload=e,r!=null&&(a.callback=r),e=Gi(t,a,s),e!==null&&(Jn(e,t,s,n),zh(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Pr(),n=Qi(t),s=ri(r,n);s.tag=2,e!=null&&(s.callback=e),e=Gi(t,s,n),e!==null&&(Jn(e,t,n,r),zh(e,t,n))}};function pw(t,e,r,n,s,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,o):e.prototype&&e.prototype.isPureReactComponent?!jd(r,n)||!jd(s,a):!0}function zE(t,e,r){var n=!1,s=ea,a=e.contextType;return typeof a=="object"&&a!==null?a=bn(a):(s=Br(e)?Ka:yr.current,n=e.contextTypes,a=(n=n!=null)?Ll(t,s):ea),e=new e(r,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=zp,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=a),e}function mw(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&zp.enqueueReplaceState(e,e.state,null)}function vy(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},Pv(t);var a=e.contextType;typeof a=="object"&&a!==null?s.context=bn(a):(a=Br(e)?Ka:yr.current,s.context=Ll(t,a)),s.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(xy(t,e,a,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&zp.enqueueReplaceState(s,s.state,null),kf(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Bl(t,e){try{var r="",n=e;do r+=GI(n),n=n.return;while(n);var s=r}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:s,digest:null}}function Xm(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function by(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var bD=typeof WeakMap=="function"?WeakMap:Map;function BE(t,e,r){r=ri(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Ff||(Ff=!0,Py=n),by(t,e)},r}function VE(t,e,r){r=ri(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){by(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){by(t,e),typeof n!="function"&&(Ki===null?Ki=new Set([this]):Ki.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function gw(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new bD;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=FD.bind(null,t,e,r),e.then(t,t))}function yw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function xw(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=ri(-1,1),e.tag=2,Gi(r,e,1))),r.lanes|=1),t)}var wD=mi.ReactCurrentOwner,Ur=!1;function Cr(t,e,r,n){e.child=t===null?xE(e,null,r,n):Ul(e,t.child,r,n)}function vw(t,e,r,n,s){r=r.render;var a=e.ref;return Wo(e,s),n=Iv(t,e,r,n,a,s),r=Mv(),t!==null&&!Ur?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,li(t,e,s)):(yt&&r&&Nv(e),e.flags|=1,Cr(t,e,n,s),e.child)}function bw(t,e,r,n,s){if(t===null){var a=r.type;return typeof a=="function"&&!Wv(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=a,qE(t,e,a,n,s)):(t=Gh(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&s)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:jd,r(o,n)&&t.ref===e.ref)return li(t,e,s)}return e.flags|=1,t=Xi(a,n),t.ref=e.ref,t.return=e,e.child=t}function qE(t,e,r,n,s){if(t!==null){var a=t.memoizedProps;if(jd(a,n)&&t.ref===e.ref)if(Ur=!1,e.pendingProps=n=a,(t.lanes&s)!==0)t.flags&131072&&(Ur=!0);else return e.lanes=t.lanes,li(t,e,s)}return wy(t,e,r,n,s)}function HE(t,e,r){var n=e.pendingProps,s=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ht($o,Gr),Gr|=r;else{if(!(r&1073741824))return t=a!==null?a.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ht($o,Gr),Gr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,ht($o,Gr),Gr|=n}else a!==null?(n=a.baseLanes|r,e.memoizedState=null):n=r,ht($o,Gr),Gr|=n;return Cr(t,e,s,r),e.child}function WE(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function wy(t,e,r,n,s){var a=Br(r)?Ka:yr.current;return a=Ll(e,a),Wo(e,s),r=Iv(t,e,r,n,a,s),n=Mv(),t!==null&&!Ur?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,li(t,e,s)):(yt&&n&&Nv(e),e.flags|=1,Cr(t,e,r,s),e.child)}function ww(t,e,r,n,s){if(Br(r)){var a=!0;Sf(e)}else a=!1;if(Wo(e,s),e.stateNode===null)qh(t,e),zE(e,r,n),vy(e,r,n,s),n=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=bn(d):(d=Br(r)?Ka:yr.current,d=Ll(e,d));var u=r.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==d)&&mw(e,o,n,d),Si=!1;var f=e.memoizedState;o.state=f,kf(e,n,o,s),c=e.memoizedState,l!==n||f!==c||zr.current||Si?(typeof u=="function"&&(xy(e,r,u,n),c=e.memoizedState),(l=Si||pw(e,r,l,n,f,c,d))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),o.props=n,o.state=c,o.context=d,n=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,bE(t,e),l=e.memoizedProps,d=e.type===e.elementType?l:An(e.type,l),o.props=d,h=e.pendingProps,f=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=bn(c):(c=Br(r)?Ka:yr.current,c=Ll(e,c));var g=r.getDerivedStateFromProps;(u=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==c)&&mw(e,o,n,c),Si=!1,f=e.memoizedState,o.state=f,kf(e,n,o,s);var j=e.memoizedState;l!==h||f!==j||zr.current||Si?(typeof g=="function"&&(xy(e,r,g,n),j=e.memoizedState),(d=Si||pw(e,r,d,n,f,j,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,j,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,j,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=j),o.props=n,o.state=j,o.context=c,n=d):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return jy(t,e,r,n,a,s)}function jy(t,e,r,n,s,a){WE(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return s&&aw(e,r,!1),li(t,e,a);n=e.stateNode,wD.current=e;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=Ul(e,t.child,null,a),e.child=Ul(e,null,l,a)):Cr(t,e,l,a),e.memoizedState=n.state,s&&aw(e,r,!0),e.child}function GE(t){var e=t.stateNode;e.pendingContext?iw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&iw(t,e.context,!1),Av(t,e.containerInfo)}function jw(t,e,r,n,s){return $l(),Cv(s),e.flags|=256,Cr(t,e,r,n),e.child}var Ny={dehydrated:null,treeContext:null,retryLane:0};function Sy(t){return{baseLanes:t,cachePool:null,transitions:null}}function KE(t,e,r){var n=e.pendingProps,s=bt.current,a=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),ht(bt,s&1),t===null)return gy(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,a?(n=e.mode,a=e.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=qp(o,n,0,null),t=Ha(t,n,r,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=Sy(r),e.memoizedState=Ny,t):$v(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return jD(t,e,o,n,l,s,r);if(a){a=n.fallback,o=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=Xi(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?a=Xi(l,a):(a=Ha(a,o,r,null),a.flags|=2),a.return=e,n.return=e,n.sibling=a,e.child=n,n=a,a=e.child,o=t.child.memoizedState,o=o===null?Sy(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~r,e.memoizedState=Ny,n}return a=t.child,t=a.sibling,n=Xi(a,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function $v(t,e){return e=qp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function hh(t,e,r,n){return n!==null&&Cv(n),Ul(e,t.child,null,r),t=$v(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function jD(t,e,r,n,s,a,o){if(r)return e.flags&256?(e.flags&=-257,n=Xm(Error(Z(422))),hh(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=n.fallback,s=e.mode,n=qp({mode:"visible",children:n.children},s,0,null),a=Ha(a,s,o,null),a.flags|=2,n.return=e,a.return=e,n.sibling=a,e.child=n,e.mode&1&&Ul(e,t.child,null,o),e.child.memoizedState=Sy(o),e.memoizedState=Ny,a);if(!(e.mode&1))return hh(t,e,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(Z(419)),n=Xm(a,n,void 0),hh(t,e,o,n)}if(l=(o&t.childLanes)!==0,Ur||l){if(n=Kt,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,oi(t,s),Jn(n,t,s,-1))}return Hv(),n=Xm(Error(Z(421))),hh(t,e,o,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=ID.bind(null,t),s._reactRetry=e,null):(t=a.treeContext,Jr=Wi(s.nextSibling),en=e,yt=!0,Bn=null,t!==null&&(hn[fn++]=ei,hn[fn++]=ti,hn[fn++]=Qa,ei=t.id,ti=t.overflow,Qa=e),e=$v(e,n.children),e.flags|=4096,e)}function Nw(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),yy(t.return,e,r)}function Zm(t,e,r,n,s){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=s)}function QE(t,e,r){var n=e.pendingProps,s=n.revealOrder,a=n.tail;if(Cr(t,e,n.children,r),n=bt.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Nw(t,r,e);else if(t.tag===19)Nw(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(ht(bt,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&Pf(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),Zm(e,!1,s,r,a);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Pf(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}Zm(e,!0,r,null,a);break;case"together":Zm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function qh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function li(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Za|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Z(153));if(e.child!==null){for(t=e.child,r=Xi(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Xi(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function ND(t,e,r){switch(e.tag){case 3:GE(e),$l();break;case 5:wE(e);break;case 1:Br(e.type)&&Sf(e);break;case 4:Av(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;ht(Ef,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(ht(bt,bt.current&1),e.flags|=128,null):r&e.child.childLanes?KE(t,e,r):(ht(bt,bt.current&1),t=li(t,e,r),t!==null?t.sibling:null);ht(bt,bt.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return QE(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ht(bt,bt.current),n)break;return null;case 22:case 23:return e.lanes=0,HE(t,e,r)}return li(t,e,r)}var XE,Cy,ZE,YE;XE=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Cy=function(){};ZE=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,Na(Rs.current);var a=null;switch(r){case"input":s=Gg(t,s),n=Gg(t,n),a=[];break;case"select":s=jt({},s,{value:void 0}),n=jt({},n,{value:void 0}),a=[];break;case"textarea":s=Xg(t,s),n=Xg(t,n),a=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=jf)}Yg(r,n);var o;r=null;for(d in s)if(!n.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var l=s[d];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(md.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in n){var c=n[d];if(l=s!=null?s[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(a||(a=[]),a.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(md.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&pt("scroll",t),a||l===c||(a=[])):(a=a||[]).push(d,c))}r&&(a=a||[]).push("style",r);var d=a;(e.updateQueue=d)&&(e.flags|=4)}};YE=function(t,e,r,n){r!==n&&(e.flags|=4)};function Ec(t,e){if(!yt)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function hr(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function SD(t,e,r){var n=e.pendingProps;switch(Sv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return hr(e),null;case 1:return Br(e.type)&&Nf(),hr(e),null;case 3:return n=e.stateNode,zl(),mt(zr),mt(yr),Ov(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(dh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Bn!==null&&(Oy(Bn),Bn=null))),Cy(t,e),hr(e),null;case 5:Rv(e);var s=Na(Ed.current);if(r=e.type,t!==null&&e.stateNode!=null)ZE(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(Z(166));return hr(e),null}if(t=Na(Rs.current),dh(e)){n=e.stateNode,r=e.type;var a=e.memoizedProps;switch(n[Ss]=e,n[Cd]=a,t=(e.mode&1)!==0,r){case"dialog":pt("cancel",n),pt("close",n);break;case"iframe":case"object":case"embed":pt("load",n);break;case"video":case"audio":for(s=0;s<Bc.length;s++)pt(Bc[s],n);break;case"source":pt("error",n);break;case"img":case"image":case"link":pt("error",n),pt("load",n);break;case"details":pt("toggle",n);break;case"input":Rb(n,a),pt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},pt("invalid",n);break;case"textarea":Fb(n,a),pt("invalid",n)}Yg(r,a),s=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&ch(n.textContent,l,t),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&ch(n.textContent,l,t),s=["children",""+l]):md.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&pt("scroll",n)}switch(r){case"input":th(n),Ob(n,a,!0);break;case"textarea":th(n),Ib(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=jf)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=_2(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[Ss]=e,t[Cd]=n,XE(t,e,!1,!1),e.stateNode=t;e:{switch(o=Jg(r,n),r){case"dialog":pt("cancel",t),pt("close",t),s=n;break;case"iframe":case"object":case"embed":pt("load",t),s=n;break;case"video":case"audio":for(s=0;s<Bc.length;s++)pt(Bc[s],t);s=n;break;case"source":pt("error",t),s=n;break;case"img":case"image":case"link":pt("error",t),pt("load",t),s=n;break;case"details":pt("toggle",t),s=n;break;case"input":Rb(t,n),s=Gg(t,n),pt("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=jt({},n,{value:void 0}),pt("invalid",t);break;case"textarea":Fb(t,n),s=Xg(t,n),pt("invalid",t);break;default:s=n}Yg(r,s),l=s;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?k2(t,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&E2(t,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&gd(t,c):typeof c=="number"&&gd(t,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(md.hasOwnProperty(a)?c!=null&&a==="onScroll"&&pt("scroll",t):c!=null&&cv(t,a,c,o))}switch(r){case"input":th(t),Ob(t,n,!1);break;case"textarea":th(t),Ib(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Ji(n.value));break;case"select":t.multiple=!!n.multiple,a=n.value,a!=null?Bo(t,!!n.multiple,a,!1):n.defaultValue!=null&&Bo(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=jf)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return hr(e),null;case 6:if(t&&e.stateNode!=null)YE(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Z(166));if(r=Na(Ed.current),Na(Rs.current),dh(e)){if(n=e.stateNode,r=e.memoizedProps,n[Ss]=e,(a=n.nodeValue!==r)&&(t=en,t!==null))switch(t.tag){case 3:ch(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ch(n.nodeValue,r,(t.mode&1)!==0)}a&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ss]=e,e.stateNode=n}return hr(e),null;case 13:if(mt(bt),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(yt&&Jr!==null&&e.mode&1&&!(e.flags&128))gE(),$l(),e.flags|=98560,a=!1;else if(a=dh(e),n!==null&&n.dehydrated!==null){if(t===null){if(!a)throw Error(Z(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Z(317));a[Ss]=e}else $l(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;hr(e),a=!1}else Bn!==null&&(Oy(Bn),Bn=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||bt.current&1?$t===0&&($t=3):Hv())),e.updateQueue!==null&&(e.flags|=4),hr(e),null);case 4:return zl(),Cy(t,e),t===null&&Nd(e.stateNode.containerInfo),hr(e),null;case 10:return Tv(e.type._context),hr(e),null;case 17:return Br(e.type)&&Nf(),hr(e),null;case 19:if(mt(bt),a=e.memoizedState,a===null)return hr(e),null;if(n=(e.flags&128)!==0,o=a.rendering,o===null)if(n)Ec(a,!1);else{if($t!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Pf(t),o!==null){for(e.flags|=128,Ec(a,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)a=r,t=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return ht(bt,bt.current&1|2),e.child}t=t.sibling}a.tail!==null&&Pt()>Vl&&(e.flags|=128,n=!0,Ec(a,!1),e.lanes=4194304)}else{if(!n)if(t=Pf(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Ec(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!yt)return hr(e),null}else 2*Pt()-a.renderingStartTime>Vl&&r!==1073741824&&(e.flags|=128,n=!0,Ec(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(r=a.last,r!==null?r.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Pt(),e.sibling=null,r=bt.current,ht(bt,n?r&1|2:r&1),e):(hr(e),null);case 22:case 23:return qv(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Gr&1073741824&&(hr(e),e.subtreeFlags&6&&(e.flags|=8192)):hr(e),null;case 24:return null;case 25:return null}throw Error(Z(156,e.tag))}function CD(t,e){switch(Sv(e),e.tag){case 1:return Br(e.type)&&Nf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return zl(),mt(zr),mt(yr),Ov(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Rv(e),null;case 13:if(mt(bt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Z(340));$l()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return mt(bt),null;case 4:return zl(),null;case 10:return Tv(e.type._context),null;case 22:case 23:return qv(),null;case 24:return null;default:return null}}var fh=!1,mr=!1,_D=typeof WeakSet=="function"?WeakSet:Set,ge=null;function Lo(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ct(t,e,n)}else r.current=null}function _y(t,e,r){try{r()}catch(n){Ct(t,e,n)}}var Sw=!1;function ED(t,e){if(cy=vf,t=nE(),jv(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=t,f=null;t:for(;;){for(var g;h!==r||s!==0&&h.nodeType!==3||(l=o+s),h!==a||n!==0&&h.nodeType!==3||(c=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)f=h,h=g;for(;;){if(h===t)break t;if(f===r&&++d===s&&(l=o),f===a&&++u===n&&(c=o),(g=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=g}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(dy={focusedElem:t,selectionRange:r},vf=!1,ge=e;ge!==null;)if(e=ge,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ge=t;else for(;ge!==null;){e=ge;try{var j=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(j!==null){var m=j.memoizedProps,v=j.memoizedState,w=e.stateNode,y=w.getSnapshotBeforeUpdate(e.elementType===e.type?m:An(e.type,m),v);w.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Z(163))}}catch(b){Ct(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,ge=t;break}ge=e.return}return j=Sw,Sw=!1,j}function ad(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var a=s.destroy;s.destroy=void 0,a!==void 0&&_y(e,r,a)}s=s.next}while(s!==n)}}function Bp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Ey(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function JE(t){var e=t.alternate;e!==null&&(t.alternate=null,JE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ss],delete e[Cd],delete e[fy],delete e[cD],delete e[dD])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function eT(t){return t.tag===5||t.tag===3||t.tag===4}function Cw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||eT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ty(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=jf));else if(n!==4&&(t=t.child,t!==null))for(Ty(t,e,r),t=t.sibling;t!==null;)Ty(t,e,r),t=t.sibling}function ky(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(ky(t,e,r),t=t.sibling;t!==null;)ky(t,e,r),t=t.sibling}var rr=null,$n=!1;function yi(t,e,r){for(r=r.child;r!==null;)tT(t,e,r),r=r.sibling}function tT(t,e,r){if(As&&typeof As.onCommitFiberUnmount=="function")try{As.onCommitFiberUnmount(Fp,r)}catch{}switch(r.tag){case 5:mr||Lo(r,e);case 6:var n=rr,s=$n;rr=null,yi(t,e,r),rr=n,$n=s,rr!==null&&($n?(t=rr,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):rr.removeChild(r.stateNode));break;case 18:rr!==null&&($n?(t=rr,r=r.stateNode,t.nodeType===8?qm(t.parentNode,r):t.nodeType===1&&qm(t,r),bd(t)):qm(rr,r.stateNode));break;case 4:n=rr,s=$n,rr=r.stateNode.containerInfo,$n=!0,yi(t,e,r),rr=n,$n=s;break;case 0:case 11:case 14:case 15:if(!mr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var a=s,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&_y(r,e,o),s=s.next}while(s!==n)}yi(t,e,r);break;case 1:if(!mr&&(Lo(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Ct(r,e,l)}yi(t,e,r);break;case 21:yi(t,e,r);break;case 22:r.mode&1?(mr=(n=mr)||r.memoizedState!==null,yi(t,e,r),mr=n):yi(t,e,r);break;default:yi(t,e,r)}}function _w(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new _D),e.forEach(function(n){var s=MD.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function kn(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var a=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:rr=l.stateNode,$n=!1;break e;case 3:rr=l.stateNode.containerInfo,$n=!0;break e;case 4:rr=l.stateNode.containerInfo,$n=!0;break e}l=l.return}if(rr===null)throw Error(Z(160));tT(a,o,s),rr=null,$n=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){Ct(s,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)rT(e,t),e=e.sibling}function rT(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(kn(e,t),us(t),n&4){try{ad(3,t,t.return),Bp(3,t)}catch(m){Ct(t,t.return,m)}try{ad(5,t,t.return)}catch(m){Ct(t,t.return,m)}}break;case 1:kn(e,t),us(t),n&512&&r!==null&&Lo(r,r.return);break;case 5:if(kn(e,t),us(t),n&512&&r!==null&&Lo(r,r.return),t.flags&32){var s=t.stateNode;try{gd(s,"")}catch(m){Ct(t,t.return,m)}}if(n&4&&(s=t.stateNode,s!=null)){var a=t.memoizedProps,o=r!==null?r.memoizedProps:a,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&S2(s,a),Jg(l,o);var d=Jg(l,a);for(o=0;o<c.length;o+=2){var u=c[o],h=c[o+1];u==="style"?k2(s,h):u==="dangerouslySetInnerHTML"?E2(s,h):u==="children"?gd(s,h):cv(s,u,h,d)}switch(l){case"input":Kg(s,a);break;case"textarea":C2(s,a);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var g=a.value;g!=null?Bo(s,!!a.multiple,g,!1):f!==!!a.multiple&&(a.defaultValue!=null?Bo(s,!!a.multiple,a.defaultValue,!0):Bo(s,!!a.multiple,a.multiple?[]:"",!1))}s[Cd]=a}catch(m){Ct(t,t.return,m)}}break;case 6:if(kn(e,t),us(t),n&4){if(t.stateNode===null)throw Error(Z(162));s=t.stateNode,a=t.memoizedProps;try{s.nodeValue=a}catch(m){Ct(t,t.return,m)}}break;case 3:if(kn(e,t),us(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{bd(e.containerInfo)}catch(m){Ct(t,t.return,m)}break;case 4:kn(e,t),us(t);break;case 13:kn(e,t),us(t),s=t.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(Bv=Pt())),n&4&&_w(t);break;case 22:if(u=r!==null&&r.memoizedState!==null,t.mode&1?(mr=(d=mr)||u,kn(e,t),mr=d):kn(e,t),us(t),n&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!u&&t.mode&1)for(ge=t,u=t.child;u!==null;){for(h=ge=u;ge!==null;){switch(f=ge,g=f.child,f.tag){case 0:case 11:case 14:case 15:ad(4,f,f.return);break;case 1:Lo(f,f.return);var j=f.stateNode;if(typeof j.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,j.props=e.memoizedProps,j.state=e.memoizedState,j.componentWillUnmount()}catch(m){Ct(n,r,m)}}break;case 5:Lo(f,f.return);break;case 22:if(f.memoizedState!==null){Tw(h);continue}}g!==null?(g.return=f,ge=g):Tw(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{s=h.stateNode,d?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=T2("display",o))}catch(m){Ct(t,t.return,m)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(m){Ct(t,t.return,m)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:kn(e,t),us(t),n&4&&_w(t);break;case 21:break;default:kn(e,t),us(t)}}function us(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(eT(r)){var n=r;break e}r=r.return}throw Error(Z(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(gd(s,""),n.flags&=-33);var a=Cw(t);ky(t,a,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=Cw(t);Ty(t,l,o);break;default:throw Error(Z(161))}}catch(c){Ct(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function TD(t,e,r){ge=t,nT(t)}function nT(t,e,r){for(var n=(t.mode&1)!==0;ge!==null;){var s=ge,a=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||fh;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||mr;l=fh;var d=mr;if(fh=o,(mr=c)&&!d)for(ge=s;ge!==null;)o=ge,c=o.child,o.tag===22&&o.memoizedState!==null?kw(s):c!==null?(c.return=o,ge=c):kw(s);for(;a!==null;)ge=a,nT(a),a=a.sibling;ge=s,fh=l,mr=d}Ew(t)}else s.subtreeFlags&8772&&a!==null?(a.return=s,ge=a):Ew(t)}}function Ew(t){for(;ge!==null;){var e=ge;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:mr||Bp(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!mr)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:An(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&uw(e,a,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}uw(e,o,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&bd(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Z(163))}mr||e.flags&512&&Ey(e)}catch(f){Ct(e,e.return,f)}}if(e===t){ge=null;break}if(r=e.sibling,r!==null){r.return=e.return,ge=r;break}ge=e.return}}function Tw(t){for(;ge!==null;){var e=ge;if(e===t){ge=null;break}var r=e.sibling;if(r!==null){r.return=e.return,ge=r;break}ge=e.return}}function kw(t){for(;ge!==null;){var e=ge;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Bp(4,e)}catch(c){Ct(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(c){Ct(e,s,c)}}var a=e.return;try{Ey(e)}catch(c){Ct(e,a,c)}break;case 5:var o=e.return;try{Ey(e)}catch(c){Ct(e,o,c)}}}catch(c){Ct(e,e.return,c)}if(e===t){ge=null;break}var l=e.sibling;if(l!==null){l.return=e.return,ge=l;break}ge=e.return}}var kD=Math.ceil,Of=mi.ReactCurrentDispatcher,Uv=mi.ReactCurrentOwner,xn=mi.ReactCurrentBatchConfig,et=0,Kt=null,Ft=null,ar=0,Gr=0,$o=da(0),$t=0,Ad=null,Za=0,Vp=0,zv=0,od=null,Lr=null,Bv=0,Vl=1/0,qs=null,Ff=!1,Py=null,Ki=null,ph=!1,zi=null,If=0,ld=0,Ay=null,Hh=-1,Wh=0;function Pr(){return et&6?Pt():Hh!==-1?Hh:Hh=Pt()}function Qi(t){return t.mode&1?et&2&&ar!==0?ar&-ar:hD.transition!==null?(Wh===0&&(Wh=z2()),Wh):(t=ct,t!==0||(t=window.event,t=t===void 0?16:K2(t.type)),t):1}function Jn(t,e,r,n){if(50<ld)throw ld=0,Ay=null,Error(Z(185));ku(t,r,n),(!(et&2)||t!==Kt)&&(t===Kt&&(!(et&2)&&(Vp|=r),$t===4&&_i(t,ar)),Vr(t,n),r===1&&et===0&&!(e.mode&1)&&(Vl=Pt()+500,$p&&ua()))}function Vr(t,e){var r=t.callbackNode;hM(t,e);var n=xf(t,t===Kt?ar:0);if(n===0)r!==null&&Lb(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Lb(r),e===1)t.tag===0?uD(Pw.bind(null,t)):fE(Pw.bind(null,t)),oD(function(){!(et&6)&&ua()}),r=null;else{switch(B2(n)){case 1:r=pv;break;case 4:r=$2;break;case 16:r=yf;break;case 536870912:r=U2;break;default:r=yf}r=uT(r,sT.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function sT(t,e){if(Hh=-1,Wh=0,et&6)throw Error(Z(327));var r=t.callbackNode;if(Go()&&t.callbackNode!==r)return null;var n=xf(t,t===Kt?ar:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Mf(t,n);else{e=n;var s=et;et|=2;var a=aT();(Kt!==t||ar!==e)&&(qs=null,Vl=Pt()+500,qa(t,e));do try{RD();break}catch(l){iT(t,l)}while(!0);Ev(),Of.current=a,et=s,Ft!==null?e=0:(Kt=null,ar=0,e=$t)}if(e!==0){if(e===2&&(s=sy(t),s!==0&&(n=s,e=Ry(t,s))),e===1)throw r=Ad,qa(t,0),_i(t,n),Vr(t,Pt()),r;if(e===6)_i(t,n);else{if(s=t.current.alternate,!(n&30)&&!PD(s)&&(e=Mf(t,n),e===2&&(a=sy(t),a!==0&&(n=a,e=Ry(t,a))),e===1))throw r=Ad,qa(t,0),_i(t,n),Vr(t,Pt()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(Z(345));case 2:ga(t,Lr,qs);break;case 3:if(_i(t,n),(n&130023424)===n&&(e=Bv+500-Pt(),10<e)){if(xf(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){Pr(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=hy(ga.bind(null,t,Lr,qs),e);break}ga(t,Lr,qs);break;case 4:if(_i(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var o=31-Yn(n);a=1<<o,o=e[o],o>s&&(s=o),n&=~a}if(n=s,n=Pt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*kD(n/1960))-n,10<n){t.timeoutHandle=hy(ga.bind(null,t,Lr,qs),n);break}ga(t,Lr,qs);break;case 5:ga(t,Lr,qs);break;default:throw Error(Z(329))}}}return Vr(t,Pt()),t.callbackNode===r?sT.bind(null,t):null}function Ry(t,e){var r=od;return t.current.memoizedState.isDehydrated&&(qa(t,e).flags|=256),t=Mf(t,e),t!==2&&(e=Lr,Lr=r,e!==null&&Oy(e)),t}function Oy(t){Lr===null?Lr=t:Lr.push.apply(Lr,t)}function PD(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],a=s.getSnapshot;s=s.value;try{if(!ts(a(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function _i(t,e){for(e&=~zv,e&=~Vp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Yn(e),n=1<<r;t[r]=-1,e&=~n}}function Pw(t){if(et&6)throw Error(Z(327));Go();var e=xf(t,0);if(!(e&1))return Vr(t,Pt()),null;var r=Mf(t,e);if(t.tag!==0&&r===2){var n=sy(t);n!==0&&(e=n,r=Ry(t,n))}if(r===1)throw r=Ad,qa(t,0),_i(t,e),Vr(t,Pt()),r;if(r===6)throw Error(Z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ga(t,Lr,qs),Vr(t,Pt()),null}function Vv(t,e){var r=et;et|=1;try{return t(e)}finally{et=r,et===0&&(Vl=Pt()+500,$p&&ua())}}function Ya(t){zi!==null&&zi.tag===0&&!(et&6)&&Go();var e=et;et|=1;var r=xn.transition,n=ct;try{if(xn.transition=null,ct=1,t)return t()}finally{ct=n,xn.transition=r,et=e,!(et&6)&&ua()}}function qv(){Gr=$o.current,mt($o)}function qa(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,aD(r)),Ft!==null)for(r=Ft.return;r!==null;){var n=r;switch(Sv(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Nf();break;case 3:zl(),mt(zr),mt(yr),Ov();break;case 5:Rv(n);break;case 4:zl();break;case 13:mt(bt);break;case 19:mt(bt);break;case 10:Tv(n.type._context);break;case 22:case 23:qv()}r=r.return}if(Kt=t,Ft=t=Xi(t.current,null),ar=Gr=e,$t=0,Ad=null,zv=Vp=Za=0,Lr=od=null,ja!==null){for(e=0;e<ja.length;e++)if(r=ja[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=s,n.next=o}r.pending=n}ja=null}return t}function iT(t,e){do{var r=Ft;try{if(Ev(),Bh.current=Rf,Af){for(var n=wt.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Af=!1}if(Xa=0,Ht=Mt=wt=null,id=!1,Td=0,Uv.current=null,r===null||r.return===null){$t=1,Ad=e,Ft=null;break}e:{var a=t,o=r.return,l=r,c=e;if(e=ar,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var g=yw(o);if(g!==null){g.flags&=-257,xw(g,o,l,a,e),g.mode&1&&gw(a,d,e),e=g,c=d;var j=e.updateQueue;if(j===null){var m=new Set;m.add(c),e.updateQueue=m}else j.add(c);break e}else{if(!(e&1)){gw(a,d,e),Hv();break e}c=Error(Z(426))}}else if(yt&&l.mode&1){var v=yw(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),xw(v,o,l,a,e),Cv(Bl(c,l));break e}}a=c=Bl(c,l),$t!==4&&($t=2),od===null?od=[a]:od.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var w=BE(a,c,e);dw(a,w);break e;case 1:l=c;var y=a.type,x=a.stateNode;if(!(a.flags&128)&&(typeof y.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Ki===null||!Ki.has(x)))){a.flags|=65536,e&=-e,a.lanes|=e;var b=VE(a,l,e);dw(a,b);break e}}a=a.return}while(a!==null)}lT(r)}catch(E){e=E,Ft===r&&r!==null&&(Ft=r=r.return);continue}break}while(!0)}function aT(){var t=Of.current;return Of.current=Rf,t===null?Rf:t}function Hv(){($t===0||$t===3||$t===2)&&($t=4),Kt===null||!(Za&268435455)&&!(Vp&268435455)||_i(Kt,ar)}function Mf(t,e){var r=et;et|=2;var n=aT();(Kt!==t||ar!==e)&&(qs=null,qa(t,e));do try{AD();break}catch(s){iT(t,s)}while(!0);if(Ev(),et=r,Of.current=n,Ft!==null)throw Error(Z(261));return Kt=null,ar=0,$t}function AD(){for(;Ft!==null;)oT(Ft)}function RD(){for(;Ft!==null&&!nM();)oT(Ft)}function oT(t){var e=dT(t.alternate,t,Gr);t.memoizedProps=t.pendingProps,e===null?lT(t):Ft=e,Uv.current=null}function lT(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=CD(r,e),r!==null){r.flags&=32767,Ft=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{$t=6,Ft=null;return}}else if(r=SD(r,e,Gr),r!==null){Ft=r;return}if(e=e.sibling,e!==null){Ft=e;return}Ft=e=t}while(e!==null);$t===0&&($t=5)}function ga(t,e,r){var n=ct,s=xn.transition;try{xn.transition=null,ct=1,OD(t,e,r,n)}finally{xn.transition=s,ct=n}return null}function OD(t,e,r,n){do Go();while(zi!==null);if(et&6)throw Error(Z(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(Z(177));t.callbackNode=null,t.callbackPriority=0;var a=r.lanes|r.childLanes;if(fM(t,a),t===Kt&&(Ft=Kt=null,ar=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ph||(ph=!0,uT(yf,function(){return Go(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=xn.transition,xn.transition=null;var o=ct;ct=1;var l=et;et|=4,Uv.current=null,ED(t,r),rT(r,t),JM(dy),vf=!!cy,dy=cy=null,t.current=r,TD(r),sM(),et=l,ct=o,xn.transition=a}else t.current=r;if(ph&&(ph=!1,zi=t,If=s),a=t.pendingLanes,a===0&&(Ki=null),oM(r.stateNode),Vr(t,Pt()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Ff)throw Ff=!1,t=Py,Py=null,t;return If&1&&t.tag!==0&&Go(),a=t.pendingLanes,a&1?t===Ay?ld++:(ld=0,Ay=t):ld=0,ua(),null}function Go(){if(zi!==null){var t=B2(If),e=xn.transition,r=ct;try{if(xn.transition=null,ct=16>t?16:t,zi===null)var n=!1;else{if(t=zi,zi=null,If=0,et&6)throw Error(Z(331));var s=et;for(et|=4,ge=t.current;ge!==null;){var a=ge,o=a.child;if(ge.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(ge=d;ge!==null;){var u=ge;switch(u.tag){case 0:case 11:case 15:ad(8,u,a)}var h=u.child;if(h!==null)h.return=u,ge=h;else for(;ge!==null;){u=ge;var f=u.sibling,g=u.return;if(JE(u),u===d){ge=null;break}if(f!==null){f.return=g,ge=f;break}ge=g}}}var j=a.alternate;if(j!==null){var m=j.child;if(m!==null){j.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(m!==null)}}ge=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,ge=o;else e:for(;ge!==null;){if(a=ge,a.flags&2048)switch(a.tag){case 0:case 11:case 15:ad(9,a,a.return)}var w=a.sibling;if(w!==null){w.return=a.return,ge=w;break e}ge=a.return}}var y=t.current;for(ge=y;ge!==null;){o=ge;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,ge=x;else e:for(o=y;ge!==null;){if(l=ge,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Bp(9,l)}}catch(E){Ct(l,l.return,E)}if(l===o){ge=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,ge=b;break e}ge=l.return}}if(et=s,ua(),As&&typeof As.onPostCommitFiberRoot=="function")try{As.onPostCommitFiberRoot(Fp,t)}catch{}n=!0}return n}finally{ct=r,xn.transition=e}}return!1}function Aw(t,e,r){e=Bl(r,e),e=BE(t,e,1),t=Gi(t,e,1),e=Pr(),t!==null&&(ku(t,1,e),Vr(t,e))}function Ct(t,e,r){if(t.tag===3)Aw(t,t,r);else for(;e!==null;){if(e.tag===3){Aw(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ki===null||!Ki.has(n))){t=Bl(r,t),t=VE(e,t,1),e=Gi(e,t,1),t=Pr(),e!==null&&(ku(e,1,t),Vr(e,t));break}}e=e.return}}function FD(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Pr(),t.pingedLanes|=t.suspendedLanes&r,Kt===t&&(ar&r)===r&&($t===4||$t===3&&(ar&130023424)===ar&&500>Pt()-Bv?qa(t,0):zv|=r),Vr(t,e)}function cT(t,e){e===0&&(t.mode&1?(e=sh,sh<<=1,!(sh&130023424)&&(sh=4194304)):e=1);var r=Pr();t=oi(t,e),t!==null&&(ku(t,e,r),Vr(t,r))}function ID(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),cT(t,r)}function MD(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(Z(314))}n!==null&&n.delete(e),cT(t,r)}var dT;dT=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||zr.current)Ur=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Ur=!1,ND(t,e,r);Ur=!!(t.flags&131072)}else Ur=!1,yt&&e.flags&1048576&&pE(e,_f,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;qh(t,e),t=e.pendingProps;var s=Ll(e,yr.current);Wo(e,r),s=Iv(null,e,n,t,s,r);var a=Mv();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Br(n)?(a=!0,Sf(e)):a=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Pv(e),s.updater=zp,e.stateNode=s,s._reactInternals=e,vy(e,n,t,r),e=jy(null,e,n,!0,a,r)):(e.tag=0,yt&&a&&Nv(e),Cr(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(qh(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=LD(n),t=An(n,t),s){case 0:e=wy(null,e,n,t,r);break e;case 1:e=ww(null,e,n,t,r);break e;case 11:e=vw(null,e,n,t,r);break e;case 14:e=bw(null,e,n,An(n.type,t),r);break e}throw Error(Z(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:An(n,s),wy(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:An(n,s),ww(t,e,n,s,r);case 3:e:{if(GE(e),t===null)throw Error(Z(387));n=e.pendingProps,a=e.memoizedState,s=a.element,bE(t,e),kf(e,n,null,r);var o=e.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){s=Bl(Error(Z(423)),e),e=jw(t,e,n,r,s);break e}else if(n!==s){s=Bl(Error(Z(424)),e),e=jw(t,e,n,r,s);break e}else for(Jr=Wi(e.stateNode.containerInfo.firstChild),en=e,yt=!0,Bn=null,r=xE(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if($l(),n===s){e=li(t,e,r);break e}Cr(t,e,n,r)}e=e.child}return e;case 5:return wE(e),t===null&&gy(e),n=e.type,s=e.pendingProps,a=t!==null?t.memoizedProps:null,o=s.children,uy(n,s)?o=null:a!==null&&uy(n,a)&&(e.flags|=32),WE(t,e),Cr(t,e,o,r),e.child;case 6:return t===null&&gy(e),null;case 13:return KE(t,e,r);case 4:return Av(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Ul(e,null,n,r):Cr(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:An(n,s),vw(t,e,n,s,r);case 7:return Cr(t,e,e.pendingProps,r),e.child;case 8:return Cr(t,e,e.pendingProps.children,r),e.child;case 12:return Cr(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,a=e.memoizedProps,o=s.value,ht(Ef,n._currentValue),n._currentValue=o,a!==null)if(ts(a.value,o)){if(a.children===s.children&&!zr.current){e=li(t,e,r);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=ri(-1,r&-r),c.tag=2;var d=a.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),yy(a.return,r,e),l.lanes|=r;break}c=c.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(Z(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),yy(o,r,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Cr(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,Wo(e,r),s=bn(s),n=n(s),e.flags|=1,Cr(t,e,n,r),e.child;case 14:return n=e.type,s=An(n,e.pendingProps),s=An(n.type,s),bw(t,e,n,s,r);case 15:return qE(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:An(n,s),qh(t,e),e.tag=1,Br(n)?(t=!0,Sf(e)):t=!1,Wo(e,r),zE(e,n,s),vy(e,n,s,r),jy(null,e,n,!0,t,r);case 19:return QE(t,e,r);case 22:return HE(t,e,r)}throw Error(Z(156,e.tag))};function uT(t,e){return L2(t,e)}function DD(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(t,e,r,n){return new DD(t,e,r,n)}function Wv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function LD(t){if(typeof t=="function")return Wv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===uv)return 11;if(t===hv)return 14}return 2}function Xi(t,e){var r=t.alternate;return r===null?(r=yn(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Gh(t,e,r,n,s,a){var o=2;if(n=t,typeof t=="function")Wv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ko:return Ha(r.children,s,a,e);case dv:o=8,s|=8;break;case Vg:return t=yn(12,r,e,s|2),t.elementType=Vg,t.lanes=a,t;case qg:return t=yn(13,r,e,s),t.elementType=qg,t.lanes=a,t;case Hg:return t=yn(19,r,e,s),t.elementType=Hg,t.lanes=a,t;case w2:return qp(r,s,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case v2:o=10;break e;case b2:o=9;break e;case uv:o=11;break e;case hv:o=14;break e;case Ni:o=16,n=null;break e}throw Error(Z(130,t==null?t:typeof t,""))}return e=yn(o,r,e,s),e.elementType=t,e.type=n,e.lanes=a,e}function Ha(t,e,r,n){return t=yn(7,t,n,e),t.lanes=r,t}function qp(t,e,r,n){return t=yn(22,t,n,e),t.elementType=w2,t.lanes=r,t.stateNode={isHidden:!1},t}function Ym(t,e,r){return t=yn(6,t,null,e),t.lanes=r,t}function Jm(t,e,r){return e=yn(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function $D(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Om(0),this.expirationTimes=Om(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Om(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Gv(t,e,r,n,s,a,o,l,c){return t=new $D(t,e,r,l,c),e===1?(e=1,a===!0&&(e|=8)):e=0,a=yn(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pv(a),t}function UD(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:To,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function hT(t){if(!t)return ea;t=t._reactInternals;e:{if(ho(t)!==t||t.tag!==1)throw Error(Z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Br(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Z(171))}if(t.tag===1){var r=t.type;if(Br(r))return hE(t,r,e)}return e}function fT(t,e,r,n,s,a,o,l,c){return t=Gv(r,n,!0,t,s,a,o,l,c),t.context=hT(null),r=t.current,n=Pr(),s=Qi(r),a=ri(n,s),a.callback=e??null,Gi(r,a,s),t.current.lanes=s,ku(t,s,n),Vr(t,n),t}function Hp(t,e,r,n){var s=e.current,a=Pr(),o=Qi(s);return r=hT(r),e.context===null?e.context=r:e.pendingContext=r,e=ri(a,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Gi(s,e,o),t!==null&&(Jn(t,s,o,a),zh(t,s,o)),o}function Df(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Rw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Kv(t,e){Rw(t,e),(t=t.alternate)&&Rw(t,e)}function zD(){return null}var pT=typeof reportError=="function"?reportError:function(t){console.error(t)};function Qv(t){this._internalRoot=t}Wp.prototype.render=Qv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Z(409));Hp(t,e,null,null)};Wp.prototype.unmount=Qv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ya(function(){Hp(null,t,null,null)}),e[ai]=null}};function Wp(t){this._internalRoot=t}Wp.prototype.unstable_scheduleHydration=function(t){if(t){var e=H2();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Ci.length&&e!==0&&e<Ci[r].priority;r++);Ci.splice(r,0,t),r===0&&G2(t)}};function Xv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Gp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Ow(){}function BD(t,e,r,n,s){if(s){if(typeof n=="function"){var a=n;n=function(){var d=Df(o);a.call(d)}}var o=fT(e,n,t,0,null,!1,!1,"",Ow);return t._reactRootContainer=o,t[ai]=o.current,Nd(t.nodeType===8?t.parentNode:t),Ya(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var d=Df(c);l.call(d)}}var c=Gv(t,0,!1,null,null,!1,!1,"",Ow);return t._reactRootContainer=c,t[ai]=c.current,Nd(t.nodeType===8?t.parentNode:t),Ya(function(){Hp(e,c,r,n)}),c}function Kp(t,e,r,n,s){var a=r._reactRootContainer;if(a){var o=a;if(typeof s=="function"){var l=s;s=function(){var c=Df(o);l.call(c)}}Hp(e,o,t,s)}else o=BD(r,e,t,s,n);return Df(o)}V2=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=zc(e.pendingLanes);r!==0&&(mv(e,r|1),Vr(e,Pt()),!(et&6)&&(Vl=Pt()+500,ua()))}break;case 13:Ya(function(){var n=oi(t,1);if(n!==null){var s=Pr();Jn(n,t,1,s)}}),Kv(t,1)}};gv=function(t){if(t.tag===13){var e=oi(t,134217728);if(e!==null){var r=Pr();Jn(e,t,134217728,r)}Kv(t,134217728)}};q2=function(t){if(t.tag===13){var e=Qi(t),r=oi(t,e);if(r!==null){var n=Pr();Jn(r,t,e,n)}Kv(t,e)}};H2=function(){return ct};W2=function(t,e){var r=ct;try{return ct=t,e()}finally{ct=r}};ty=function(t,e,r){switch(e){case"input":if(Kg(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=Lp(n);if(!s)throw Error(Z(90));N2(n),Kg(n,s)}}}break;case"textarea":C2(t,r);break;case"select":e=r.value,e!=null&&Bo(t,!!r.multiple,e,!1)}};R2=Vv;O2=Ya;var VD={usingClientEntryPoint:!1,Events:[Au,Oo,Lp,P2,A2,Vv]},Tc={findFiberByHostInstance:wa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},qD={bundleType:Tc.bundleType,version:Tc.version,rendererPackageName:Tc.rendererPackageName,rendererConfig:Tc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:mi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=M2(t),t===null?null:t.stateNode},findFiberByHostInstance:Tc.findFiberByHostInstance||zD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mh.isDisabled&&mh.supportsFiber)try{Fp=mh.inject(qD),As=mh}catch{}}sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VD;sn.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Xv(e))throw Error(Z(200));return UD(t,e,null,r)};sn.createRoot=function(t,e){if(!Xv(t))throw Error(Z(299));var r=!1,n="",s=pT;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Gv(t,1,!1,null,null,r,!1,n,s),t[ai]=e.current,Nd(t.nodeType===8?t.parentNode:t),new Qv(e)};sn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Z(188)):(t=Object.keys(t).join(","),Error(Z(268,t)));return t=M2(e),t=t===null?null:t.stateNode,t};sn.flushSync=function(t){return Ya(t)};sn.hydrate=function(t,e,r){if(!Gp(e))throw Error(Z(200));return Kp(null,t,e,!0,r)};sn.hydrateRoot=function(t,e,r){if(!Xv(t))throw Error(Z(405));var n=r!=null&&r.hydratedSources||null,s=!1,a="",o=pT;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=fT(e,null,t,1,r??null,s,!1,a,o),t[ai]=e.current,Nd(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new Wp(e)};sn.render=function(t,e,r){if(!Gp(e))throw Error(Z(200));return Kp(null,t,e,!1,r)};sn.unmountComponentAtNode=function(t){if(!Gp(t))throw Error(Z(40));return t._reactRootContainer?(Ya(function(){Kp(null,null,t,!1,function(){t._reactRootContainer=null,t[ai]=null})}),!0):!1};sn.unstable_batchedUpdates=Vv;sn.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Gp(r))throw Error(Z(200));if(t==null||t._reactInternals===void 0)throw Error(Z(38));return Kp(t,e,r,!1,n)};sn.version="18.3.1-next-f1338f8080-20240426";function mT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(mT)}catch(t){console.error(t)}}mT(),m2.exports=sn;var fo=m2.exports;const HD=pi(fo);var gT,Fw=fo;gT=Fw.createRoot,Fw.hydrateRoot;function WD(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var r,n,s,a,o=[],l="",c=t.split("/");for(c[0]||c.shift();s=c.shift();)r=s[0],r==="*"?(o.push(r),l+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(n=s.indexOf("?",1),a=s.indexOf(".",1),o.push(s.substring(1,~n?n:~a?a:s.length)),l+=~n&&!~a?"(?:/([^/]+?))?":"/([^/]+?)",~a&&(l+=(~n?"?":"")+"\\"+s.substring(a))):l+="/"+s;return{keys:o,pattern:new RegExp("^"+l+(e?"(?=$|/)":"/?$"),"i")}}var yT={exports:{}},xT={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ql=p;function GD(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var KD=typeof Object.is=="function"?Object.is:GD,QD=ql.useState,XD=ql.useEffect,ZD=ql.useLayoutEffect,YD=ql.useDebugValue;function JD(t,e){var r=e(),n=QD({inst:{value:r,getSnapshot:e}}),s=n[0].inst,a=n[1];return ZD(function(){s.value=r,s.getSnapshot=e,eg(s)&&a({inst:s})},[t,r,e]),XD(function(){return eg(s)&&a({inst:s}),t(function(){eg(s)&&a({inst:s})})},[t]),YD(r),r}function eg(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!KD(t,r)}catch{return!0}}function e3(t,e){return e()}var t3=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?e3:JD;xT.useSyncExternalStore=ql.useSyncExternalStore!==void 0?ql.useSyncExternalStore:t3;yT.exports=xT;var r3=yT.exports;const n3=f2.useInsertionEffect,s3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",vT=s3?p.useLayoutEffect:p.useEffect,i3=n3||vT,Zv=t=>{const e=p.useRef([t,(...r)=>e[0](...r)]).current;return i3(()=>{e[0]=t}),e[1]},a3="popstate",Yv="pushState",Jv="replaceState",o3="hashchange",Iw=[a3,Yv,Jv,o3],l3=t=>{for(const e of Iw)addEventListener(e,t);return()=>{for(const e of Iw)removeEventListener(e,t)}},bT=(t,e)=>r3.useSyncExternalStore(l3,t,e),c3=()=>location.search,d3=({ssrSearch:t=""}={})=>bT(c3,()=>t),Mw=()=>location.pathname,u3=({ssrPath:t}={})=>bT(Mw,t?()=>t:Mw),h3=(t,{replace:e=!1,state:r=null}={})=>history[e?Jv:Yv](r,"",t),f3=(t={})=>[u3(t),h3],Dw=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[Dw]>"u"){for(const t of[Yv,Jv]){const e=history[t];history[t]=function(){const r=e.apply(this,arguments),n=new Event(t);return n.arguments=arguments,dispatchEvent(n),r}}Object.defineProperty(window,Dw,{value:!0})}const p3=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",wT=(t="")=>t==="/"?"":t,m3=(t,e)=>t[0]==="~"?t.slice(1):wT(e)+t,g3=(t="",e)=>p3(Lw(wT(t)),Lw(e)),Lw=t=>{try{return decodeURI(t)}catch{return t}},jT={hook:f3,searchHook:d3,parser:WD,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:t=>t},NT=p.createContext(jT),lc=()=>p.useContext(NT),ST={},CT=p.createContext(ST),y3=()=>p.useContext(CT),Qp=t=>{const[e,r]=t.hook(t);return[g3(t.base,e),Zv((n,s)=>r(m3(n,t.base),s))]},os=()=>Qp(lc()),e0=(t,e,r,n)=>{const{pattern:s,keys:a}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",n),o=s.exec(r)||[],[l,...c]=o;return l!==void 0?[!0,(()=>{const d=a!==!1?Object.fromEntries(a.map((h,f)=>[h,c[f]])):o.groups;let u={...c};return d&&Object.assign(u,d),u})(),...n?[l]:[]]:[!1,null]},x3=t=>e0(lc().parser,t,os()[0]),v3=({children:t,...e})=>{var u,h;const r=lc(),n=e.hook?jT:r;let s=n;const[a,o]=((u=e.ssrPath)==null?void 0:u.split("?"))??[];o&&(e.ssrSearch=o,e.ssrPath=a),e.hrefs=e.hrefs??((h=e.hook)==null?void 0:h.hrefs);let l=p.useRef({}),c=l.current,d=c;for(let f in n){const g=f==="base"?n[f]+(e[f]||""):e[f]||n[f];c===d&&g!==d[f]&&(l.current=d={...d}),d[f]=g,g!==n[f]&&(s=d)}return p.createElement(NT.Provider,{value:s,children:t})},$w=({children:t,component:e},r)=>e?p.createElement(e,{params:r}):typeof t=="function"?t(r):t,b3=t=>{let e=p.useRef(ST),r=e.current;for(const n in t)t[n]!==r[n]&&(r=t);return Object.keys(t).length===0&&(r=t),e.current=r},ps=({path:t,nest:e,match:r,...n})=>{const s=lc(),[a]=Qp(s),[o,l,c]=r??e0(s.parser,t,a,e),d=b3({...y3(),...l});if(!o)return null;const u=c?p.createElement(v3,{base:c},$w(n,d)):$w(n,d);return p.createElement(CT.Provider,{value:d,children:u})},Lf=p.forwardRef((t,e)=>{const r=lc(),[n,s]=Qp(r),{to:a="",href:o=a,onClick:l,asChild:c,children:d,className:u,replace:h,state:f,...g}=t,j=Zv(v=>{v.ctrlKey||v.metaKey||v.altKey||v.shiftKey||v.button!==0||(l==null||l(v),v.defaultPrevented||(v.preventDefault(),s(o,t)))}),m=r.hrefs(o[0]==="~"?o.slice(1):r.base+o,r);return c&&p.isValidElement(d)?p.cloneElement(d,{onClick:j,href:m}):p.createElement("a",{...g,onClick:j,href:m,className:u!=null&&u.call?u(n===o):u,children:d,ref:e})}),_T=t=>Array.isArray(t)?t.flatMap(e=>_T(e&&e.type===p.Fragment?e.props.children:e)):[t],w3=({children:t,location:e})=>{const r=lc(),[n]=Qp(r);for(const s of _T(t)){let a=0;if(p.isValidElement(s)&&(a=e0(r.parser,s.props.path,e||n,s.props.nest))[0])return p.cloneElement(s,{match:a})}return null},j3=t=>{const{to:e,href:r=e}=t,[,n]=os(),s=Zv(()=>n(e||r,t));return vT(()=>{s()},[]),null};var cc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ja=typeof window>"u"||"Deno"in globalThis;function dn(){}function N3(t,e){return typeof t=="function"?t(e):t}function Fy(t){return typeof t=="number"&&t>=0&&t!==1/0}function ET(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Ko(t,e){return typeof t=="function"?t(e):t}function Vn(t,e){return typeof t=="function"?t(e):t}function Uw(t,e){const{type:r="all",exact:n,fetchStatus:s,predicate:a,queryKey:o,stale:l}=t;if(o){if(n){if(e.queryHash!==t0(o,e.options))return!1}else if(!Rd(e.queryKey,o))return!1}if(r!=="all"){const c=e.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||s&&s!==e.state.fetchStatus||a&&!a(e))}function zw(t,e){const{exact:r,status:n,predicate:s,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(r){if(eo(e.options.mutationKey)!==eo(a))return!1}else if(!Rd(e.options.mutationKey,a))return!1}return!(n&&e.state.status!==n||s&&!s(e))}function t0(t,e){return((e==null?void 0:e.queryKeyHashFn)||eo)(t)}function eo(t){return JSON.stringify(t,(e,r)=>Iy(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function Rd(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(r=>!Rd(t[r],e[r])):!1}function TT(t,e){if(t===e)return t;const r=Bw(t)&&Bw(e);if(r||Iy(t)&&Iy(e)){const n=r?t:Object.keys(t),s=n.length,a=r?e:Object.keys(e),o=a.length,l=r?[]:{};let c=0;for(let d=0;d<o;d++){const u=r?d:a[d];(!r&&n.includes(u)||r)&&t[u]===void 0&&e[u]===void 0?(l[u]=void 0,c++):(l[u]=TT(t[u],e[u]),l[u]===t[u]&&t[u]!==void 0&&c++)}return s===o&&c===s?t:l}return e}function $f(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function Bw(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Iy(t){if(!Vw(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!Vw(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Vw(t){return Object.prototype.toString.call(t)==="[object Object]"}function S3(t){return new Promise(e=>{setTimeout(e,t)})}function My(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?TT(t,e):e}function C3(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function _3(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var r0=Symbol();function kT(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===r0?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var _a,Ti,sl,uN,E3=(uN=class extends cc{constructor(){super();U(this,_a);U(this,Ti);U(this,sl);B(this,sl,e=>{if(!Ja&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){N(this,Ti)||this.setEventListener(N(this,sl))}onUnsubscribe(){var e;this.hasListeners()||((e=N(this,Ti))==null||e.call(this),B(this,Ti,void 0))}setEventListener(e){var r;B(this,sl,e),(r=N(this,Ti))==null||r.call(this),B(this,Ti,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){N(this,_a)!==e&&(B(this,_a,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof N(this,_a)=="boolean"?N(this,_a):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},_a=new WeakMap,Ti=new WeakMap,sl=new WeakMap,uN),n0=new E3,il,ki,al,hN,T3=(hN=class extends cc{constructor(){super();U(this,il,!0);U(this,ki);U(this,al);B(this,al,e=>{if(!Ja&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){N(this,ki)||this.setEventListener(N(this,al))}onUnsubscribe(){var e;this.hasListeners()||((e=N(this,ki))==null||e.call(this),B(this,ki,void 0))}setEventListener(e){var r;B(this,al,e),(r=N(this,ki))==null||r.call(this),B(this,ki,e(this.setOnline.bind(this)))}setOnline(e){N(this,il)!==e&&(B(this,il,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return N(this,il)}},il=new WeakMap,ki=new WeakMap,al=new WeakMap,hN),Uf=new T3;function Dy(){let t,e;const r=new Promise((s,a)=>{t=s,e=a});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),t(s)},r.reject=s=>{n({status:"rejected",reason:s}),e(s)},r}function k3(t){return Math.min(1e3*2**t,3e4)}function PT(t){return(t??"online")==="online"?Uf.isOnline():!0}var AT=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function tg(t){return t instanceof AT}function RT(t){let e=!1,r=0,n=!1,s;const a=Dy(),o=m=>{var v;n||(f(new AT(m)),(v=t.abort)==null||v.call(t))},l=()=>{e=!0},c=()=>{e=!1},d=()=>n0.isFocused()&&(t.networkMode==="always"||Uf.isOnline())&&t.canRun(),u=()=>PT(t.networkMode)&&t.canRun(),h=m=>{var v;n||(n=!0,(v=t.onSuccess)==null||v.call(t,m),s==null||s(),a.resolve(m))},f=m=>{var v;n||(n=!0,(v=t.onError)==null||v.call(t,m),s==null||s(),a.reject(m))},g=()=>new Promise(m=>{var v;s=w=>{(n||d())&&m(w)},(v=t.onPause)==null||v.call(t)}).then(()=>{var m;s=void 0,n||(m=t.onContinue)==null||m.call(t)}),j=()=>{if(n)return;let m;const v=r===0?t.initialPromise:void 0;try{m=v??t.fn()}catch(w){m=Promise.reject(w)}Promise.resolve(m).then(h).catch(w=>{var k;if(n)return;const y=t.retry??(Ja?0:3),x=t.retryDelay??k3,b=typeof x=="function"?x(r,w):x,E=y===!0||typeof y=="number"&&r<y||typeof y=="function"&&y(r,w);if(e||!E){f(w);return}r++,(k=t.onFail)==null||k.call(t,r,w),S3(b).then(()=>d()?void 0:g()).then(()=>{e?f(w):j()})})};return{promise:a,cancel:o,continue:()=>(s==null||s(),a),cancelRetry:l,continueRetry:c,canStart:u,start:()=>(u()?j():g().then(j),a)}}function P3(){let t=[],e=0,r=l=>{l()},n=l=>{l()},s=l=>setTimeout(l,0);const a=l=>{e?t.push(l):s(()=>{r(l)})},o=()=>{const l=t;t=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||o()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var Lt=P3(),Ea,fN,OT=(fN=class{constructor(){U(this,Ea)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Fy(this.gcTime)&&B(this,Ea,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Ja?1/0:5*60*1e3))}clearGcTimeout(){N(this,Ea)&&(clearTimeout(N(this,Ea)),B(this,Ea,void 0))}},Ea=new WeakMap,fN),ol,ll,ln,fr,nu,Ta,Rn,Bs,pN,A3=(pN=class extends OT{constructor(e){super();U(this,Rn);U(this,ol);U(this,ll);U(this,ln);U(this,fr);U(this,nu);U(this,Ta);B(this,Ta,!1),B(this,nu,e.defaultOptions),this.setOptions(e.options),this.observers=[],B(this,ln,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,B(this,ol,R3(this.options)),this.state=e.state??N(this,ol),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=N(this,fr))==null?void 0:e.promise}setOptions(e){this.options={...N(this,nu),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&N(this,ln).remove(this)}setData(e,r){const n=My(this.state.data,e,this.options);return q(this,Rn,Bs).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){q(this,Rn,Bs).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,s;const r=(n=N(this,fr))==null?void 0:n.promise;return(s=N(this,fr))==null||s.cancel(e),r?r.then(dn).catch(dn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(N(this,ol))}isActive(){return this.observers.some(e=>Vn(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===r0||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!ET(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=N(this,fr))==null||r.continue()}onOnline(){var r;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=N(this,fr))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),N(this,ln).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(N(this,fr)&&(N(this,Ta)?N(this,fr).cancel({revert:!0}):N(this,fr).cancelRetry()),this.scheduleGc()),N(this,ln).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||q(this,Rn,Bs).call(this,{type:"invalidate"})}fetch(e,r){var c,d,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(N(this,fr))return N(this,fr).continueRetry(),N(this,fr).promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(f=>f.options.queryFn);h&&this.setOptions(h.options)}const n=new AbortController,s=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(B(this,Ta,!0),n.signal)})},a=()=>{const h=kT(this.options,r),f={queryKey:this.queryKey,meta:this.meta};return s(f),B(this,Ta,!1),this.options.persister?this.options.persister(h,f,this):h(f)},o={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};s(o),(c=this.options.behavior)==null||c.onFetch(o,this),B(this,ll,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&q(this,Rn,Bs).call(this,{type:"fetch",meta:(u=o.fetchOptions)==null?void 0:u.meta});const l=h=>{var f,g,j,m;tg(h)&&h.silent||q(this,Rn,Bs).call(this,{type:"error",error:h}),tg(h)||((g=(f=N(this,ln).config).onError)==null||g.call(f,h,this),(m=(j=N(this,ln).config).onSettled)==null||m.call(j,this.state.data,h,this)),this.scheduleGc()};return B(this,fr,RT({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:h=>{var f,g,j,m;if(h===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(v){l(v);return}(g=(f=N(this,ln).config).onSuccess)==null||g.call(f,h,this),(m=(j=N(this,ln).config).onSettled)==null||m.call(j,h,this.state.error,this),this.scheduleGc()},onError:l,onFail:(h,f)=>{q(this,Rn,Bs).call(this,{type:"failed",failureCount:h,error:f})},onPause:()=>{q(this,Rn,Bs).call(this,{type:"pause"})},onContinue:()=>{q(this,Rn,Bs).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),N(this,fr).start()}},ol=new WeakMap,ll=new WeakMap,ln=new WeakMap,fr=new WeakMap,nu=new WeakMap,Ta=new WeakMap,Rn=new WeakSet,Bs=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...FT(n.data,this.options),fetchMeta:e.meta??null};case"success":return{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return tg(s)&&s.revert&&N(this,ll)?{...N(this,ll),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),Lt.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),N(this,ln).notify({query:this,type:"updated",action:e})})},pN);function FT(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:PT(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function R3(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var gs,mN,O3=(mN=class extends cc{constructor(e={}){super();U(this,gs);this.config=e,B(this,gs,new Map)}build(e,r,n){const s=r.queryKey,a=r.queryHash??t0(s,r);let o=this.get(a);return o||(o=new A3({cache:this,queryKey:s,queryHash:a,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){N(this,gs).has(e.queryHash)||(N(this,gs).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=N(this,gs).get(e.queryHash);r&&(e.destroy(),r===e&&N(this,gs).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Lt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return N(this,gs).get(e)}getAll(){return[...N(this,gs).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>Uw(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>Uw(e,n)):r}notify(e){Lt.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){Lt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Lt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},gs=new WeakMap,mN),ys,wr,ka,xs,bi,gN,F3=(gN=class extends OT{constructor(e){super();U(this,xs);U(this,ys);U(this,wr);U(this,ka);this.mutationId=e.mutationId,B(this,wr,e.mutationCache),B(this,ys,[]),this.state=e.state||IT(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){N(this,ys).includes(e)||(N(this,ys).push(e),this.clearGcTimeout(),N(this,wr).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){B(this,ys,N(this,ys).filter(r=>r!==e)),this.scheduleGc(),N(this,wr).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){N(this,ys).length||(this.state.status==="pending"?this.scheduleGc():N(this,wr).remove(this))}continue(){var e;return((e=N(this,ka))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var s,a,o,l,c,d,u,h,f,g,j,m,v,w,y,x,b,E,k,T;B(this,ka,RT({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(A,O)=>{q(this,xs,bi).call(this,{type:"failed",failureCount:A,error:O})},onPause:()=>{q(this,xs,bi).call(this,{type:"pause"})},onContinue:()=>{q(this,xs,bi).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>N(this,wr).canRun(this)}));const r=this.state.status==="pending",n=!N(this,ka).canStart();try{if(!r){q(this,xs,bi).call(this,{type:"pending",variables:e,isPaused:n}),await((a=(s=N(this,wr).config).onMutate)==null?void 0:a.call(s,e,this));const O=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,e));O!==this.state.context&&q(this,xs,bi).call(this,{type:"pending",context:O,variables:e,isPaused:n})}const A=await N(this,ka).start();return await((d=(c=N(this,wr).config).onSuccess)==null?void 0:d.call(c,A,e,this.state.context,this)),await((h=(u=this.options).onSuccess)==null?void 0:h.call(u,A,e,this.state.context)),await((g=(f=N(this,wr).config).onSettled)==null?void 0:g.call(f,A,null,this.state.variables,this.state.context,this)),await((m=(j=this.options).onSettled)==null?void 0:m.call(j,A,null,e,this.state.context)),q(this,xs,bi).call(this,{type:"success",data:A}),A}catch(A){try{throw await((w=(v=N(this,wr).config).onError)==null?void 0:w.call(v,A,e,this.state.context,this)),await((x=(y=this.options).onError)==null?void 0:x.call(y,A,e,this.state.context)),await((E=(b=N(this,wr).config).onSettled)==null?void 0:E.call(b,void 0,A,this.state.variables,this.state.context,this)),await((T=(k=this.options).onSettled)==null?void 0:T.call(k,void 0,A,e,this.state.context)),A}finally{q(this,xs,bi).call(this,{type:"error",error:A})}}finally{N(this,wr).runNext(this)}}},ys=new WeakMap,wr=new WeakMap,ka=new WeakMap,xs=new WeakSet,bi=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Lt.batch(()=>{N(this,ys).forEach(n=>{n.onMutationUpdate(e)}),N(this,wr).notify({mutation:this,type:"updated",action:e})})},gN);function IT(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Wr,su,yN,I3=(yN=class extends cc{constructor(e={}){super();U(this,Wr);U(this,su);this.config=e,B(this,Wr,new Map),B(this,su,Date.now())}build(e,r,n){const s=new F3({mutationCache:this,mutationId:++Zu(this,su)._,options:e.defaultMutationOptions(r),state:n});return this.add(s),s}add(e){const r=gh(e),n=N(this,Wr).get(r)??[];n.push(e),N(this,Wr).set(r,n),this.notify({type:"added",mutation:e})}remove(e){var n;const r=gh(e);if(N(this,Wr).has(r)){const s=(n=N(this,Wr).get(r))==null?void 0:n.filter(a=>a!==e);s&&(s.length===0?N(this,Wr).delete(r):N(this,Wr).set(r,s))}this.notify({type:"removed",mutation:e})}canRun(e){var n;const r=(n=N(this,Wr).get(gh(e)))==null?void 0:n.find(s=>s.state.status==="pending");return!r||r===e}runNext(e){var n;const r=(n=N(this,Wr).get(gh(e)))==null?void 0:n.find(s=>s!==e&&s.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){Lt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...N(this,Wr).values()].flat()}find(e){const r={exact:!0,...e};return this.getAll().find(n=>zw(r,n))}findAll(e={}){return this.getAll().filter(r=>zw(e,r))}notify(e){Lt.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return Lt.batch(()=>Promise.all(e.map(r=>r.continue().catch(dn))))}},Wr=new WeakMap,su=new WeakMap,yN);function gh(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function qw(t){return{onFetch:(e,r)=>{var u,h,f,g,j;const n=e.options,s=(f=(h=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,a=((g=e.state.data)==null?void 0:g.pages)||[],o=((j=e.state.data)==null?void 0:j.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let m=!1;const v=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(e.signal.aborted?m=!0:e.signal.addEventListener("abort",()=>{m=!0}),e.signal)})},w=kT(e.options,e.fetchOptions),y=async(x,b,E)=>{if(m)return Promise.reject();if(b==null&&x.pages.length)return Promise.resolve(x);const k={queryKey:e.queryKey,pageParam:b,direction:E?"backward":"forward",meta:e.options.meta};v(k);const T=await w(k),{maxPages:A}=e.options,O=E?_3:C3;return{pages:O(x.pages,T,A),pageParams:O(x.pageParams,b,A)}};if(s&&a.length){const x=s==="backward",b=x?M3:Hw,E={pages:a,pageParams:o},k=b(n,E);l=await y(E,k,x)}else{const x=t??a.length;do{const b=c===0?o[0]??n.initialPageParam:Hw(n,l);if(c>0&&b==null)break;l=await y(l,b),c++}while(c<x)}return l};e.options.persister?e.fetchFn=()=>{var m,v;return(v=(m=e.options).persister)==null?void 0:v.call(m,d,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=d}}}function Hw(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function M3(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var St,Pi,Ai,cl,dl,Ri,ul,hl,xN,D3=(xN=class{constructor(t={}){U(this,St);U(this,Pi);U(this,Ai);U(this,cl);U(this,dl);U(this,Ri);U(this,ul);U(this,hl);B(this,St,t.queryCache||new O3),B(this,Pi,t.mutationCache||new I3),B(this,Ai,t.defaultOptions||{}),B(this,cl,new Map),B(this,dl,new Map),B(this,Ri,0)}mount(){Zu(this,Ri)._++,N(this,Ri)===1&&(B(this,ul,n0.subscribe(async t=>{t&&(await this.resumePausedMutations(),N(this,St).onFocus())})),B(this,hl,Uf.subscribe(async t=>{t&&(await this.resumePausedMutations(),N(this,St).onOnline())})))}unmount(){var t,e;Zu(this,Ri)._--,N(this,Ri)===0&&((t=N(this,ul))==null||t.call(this),B(this,ul,void 0),(e=N(this,hl))==null||e.call(this),B(this,hl,void 0))}isFetching(t){return N(this,St).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return N(this,Pi).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=N(this,St).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const r=this.defaultQueryOptions(t),n=N(this,St).build(this,r);return t.revalidateIfStale&&n.isStaleByTime(Ko(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(e)}}getQueriesData(t){return N(this,St).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),s=N(this,St).get(n.queryHash),a=s==null?void 0:s.state.data,o=N3(e,a);if(o!==void 0)return N(this,St).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(t,e,r){return Lt.batch(()=>N(this,St).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=N(this,St).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=N(this,St);Lt.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=N(this,St),n={type:"active",...t};return Lt.batch(()=>(r.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(n,e)))}cancelQueries(t={},e={}){const r={revert:!0,...e},n=Lt.batch(()=>N(this,St).findAll(t).map(s=>s.cancel(r)));return Promise.all(n).then(dn).catch(dn)}invalidateQueries(t={},e={}){return Lt.batch(()=>{if(N(this,St).findAll(t).forEach(n=>{n.invalidate()}),t.refetchType==="none")return Promise.resolve();const r={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(r,e)})}refetchQueries(t={},e){const r={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},n=Lt.batch(()=>N(this,St).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let a=s.fetch(void 0,r);return r.throwOnError||(a=a.catch(dn)),s.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(dn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=N(this,St).build(this,e);return r.isStaleByTime(Ko(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(dn).catch(dn)}fetchInfiniteQuery(t){return t.behavior=qw(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(dn).catch(dn)}ensureInfiniteQueryData(t){return t.behavior=qw(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Uf.isOnline()?N(this,Pi).resumePausedMutations():Promise.resolve()}getQueryCache(){return N(this,St)}getMutationCache(){return N(this,Pi)}getDefaultOptions(){return N(this,Ai)}setDefaultOptions(t){B(this,Ai,t)}setQueryDefaults(t,e){N(this,cl).set(eo(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...N(this,cl).values()];let r={};return e.forEach(n=>{Rd(t,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(t,e){N(this,dl).set(eo(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...N(this,dl).values()];let r={};return e.forEach(n=>{Rd(t,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...N(this,Ai).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=t0(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===r0&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...N(this,Ai).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){N(this,St).clear(),N(this,Pi).clear()}},St=new WeakMap,Pi=new WeakMap,Ai=new WeakMap,cl=new WeakMap,dl=new WeakMap,Ri=new WeakMap,ul=new WeakMap,hl=new WeakMap,xN),Mr,Qe,iu,jr,Pa,fl,Oi,vs,au,pl,ml,Aa,Ra,Fi,gl,at,Vc,Ly,$y,Uy,zy,By,Vy,qy,MT,vN,L3=(vN=class extends cc{constructor(e,r){super();U(this,at);U(this,Mr);U(this,Qe);U(this,iu);U(this,jr);U(this,Pa);U(this,fl);U(this,Oi);U(this,vs);U(this,au);U(this,pl);U(this,ml);U(this,Aa);U(this,Ra);U(this,Fi);U(this,gl,new Set);this.options=r,B(this,Mr,e),B(this,vs,null),B(this,Oi,Dy()),this.options.experimental_prefetchInRender||N(this,Oi).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(N(this,Qe).addObserver(this),Ww(N(this,Qe),this.options)?q(this,at,Vc).call(this):this.updateResult(),q(this,at,zy).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Hy(N(this,Qe),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Hy(N(this,Qe),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,q(this,at,By).call(this),q(this,at,Vy).call(this),N(this,Qe).removeObserver(this)}setOptions(e,r){const n=this.options,s=N(this,Qe);if(this.options=N(this,Mr).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Vn(this.options.enabled,N(this,Qe))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");q(this,at,qy).call(this),N(this,Qe).setOptions(this.options),n._defaulted&&!$f(this.options,n)&&N(this,Mr).getQueryCache().notify({type:"observerOptionsUpdated",query:N(this,Qe),observer:this});const a=this.hasListeners();a&&Gw(N(this,Qe),s,this.options,n)&&q(this,at,Vc).call(this),this.updateResult(r),a&&(N(this,Qe)!==s||Vn(this.options.enabled,N(this,Qe))!==Vn(n.enabled,N(this,Qe))||Ko(this.options.staleTime,N(this,Qe))!==Ko(n.staleTime,N(this,Qe)))&&q(this,at,Ly).call(this);const o=q(this,at,$y).call(this);a&&(N(this,Qe)!==s||Vn(this.options.enabled,N(this,Qe))!==Vn(n.enabled,N(this,Qe))||o!==N(this,Fi))&&q(this,at,Uy).call(this,o)}getOptimisticResult(e){const r=N(this,Mr).getQueryCache().build(N(this,Mr),e),n=this.createResult(r,e);return U3(this,n)&&(B(this,jr,n),B(this,fl,this.options),B(this,Pa,N(this,Qe).state)),n}getCurrentResult(){return N(this,jr)}trackResult(e,r){const n={};return Object.keys(e).forEach(s=>{Object.defineProperty(n,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),r==null||r(s),e[s])})}),n}trackProp(e){N(this,gl).add(e)}getCurrentQuery(){return N(this,Qe)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=N(this,Mr).defaultQueryOptions(e),n=N(this,Mr).getQueryCache().build(N(this,Mr),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(e){return q(this,at,Vc).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),N(this,jr)))}createResult(e,r){var A;const n=N(this,Qe),s=this.options,a=N(this,jr),o=N(this,Pa),l=N(this,fl),d=e!==n?e.state:N(this,iu),{state:u}=e;let h={...u},f=!1,g;if(r._optimisticResults){const O=this.hasListeners(),M=!O&&Ww(e,r),G=O&&Gw(e,n,r,s);(M||G)&&(h={...h,...FT(u.data,e.options)}),r._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:j,errorUpdatedAt:m,status:v}=h;if(r.select&&h.data!==void 0)if(a&&h.data===(o==null?void 0:o.data)&&r.select===N(this,au))g=N(this,pl);else try{B(this,au,r.select),g=r.select(h.data),g=My(a==null?void 0:a.data,g,r),B(this,pl,g),B(this,vs,null)}catch(O){B(this,vs,O)}else g=h.data;if(r.placeholderData!==void 0&&g===void 0&&v==="pending"){let O;if(a!=null&&a.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData))O=a.data;else if(O=typeof r.placeholderData=="function"?r.placeholderData((A=N(this,ml))==null?void 0:A.state.data,N(this,ml)):r.placeholderData,r.select&&O!==void 0)try{O=r.select(O),B(this,vs,null)}catch(M){B(this,vs,M)}O!==void 0&&(v="success",g=My(a==null?void 0:a.data,O,r),f=!0)}N(this,vs)&&(j=N(this,vs),g=N(this,pl),m=Date.now(),v="error");const w=h.fetchStatus==="fetching",y=v==="pending",x=v==="error",b=y&&w,E=g!==void 0,T={status:v,fetchStatus:h.fetchStatus,isPending:y,isSuccess:v==="success",isError:x,isInitialLoading:b,isLoading:b,data:g,dataUpdatedAt:h.dataUpdatedAt,error:j,errorUpdatedAt:m,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>d.dataUpdateCount||h.errorUpdateCount>d.errorUpdateCount,isFetching:w,isRefetching:w&&!y,isLoadingError:x&&!E,isPaused:h.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:x&&E,isStale:s0(e,r),refetch:this.refetch,promise:N(this,Oi)};if(this.options.experimental_prefetchInRender){const O=L=>{T.status==="error"?L.reject(T.error):T.data!==void 0&&L.resolve(T.data)},M=()=>{const L=B(this,Oi,T.promise=Dy());O(L)},G=N(this,Oi);switch(G.status){case"pending":e.queryHash===n.queryHash&&O(G);break;case"fulfilled":(T.status==="error"||T.data!==G.value)&&M();break;case"rejected":(T.status!=="error"||T.error!==G.reason)&&M();break}}return T}updateResult(e){const r=N(this,jr),n=this.createResult(N(this,Qe),this.options);if(B(this,Pa,N(this,Qe).state),B(this,fl,this.options),N(this,Pa).data!==void 0&&B(this,ml,N(this,Qe)),$f(n,r))return;B(this,jr,n);const s={},a=()=>{if(!r)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!N(this,gl).size)return!0;const c=new Set(l??N(this,gl));return this.options.throwOnError&&c.add("error"),Object.keys(N(this,jr)).some(d=>{const u=d;return N(this,jr)[u]!==r[u]&&c.has(u)})};(e==null?void 0:e.listeners)!==!1&&a()&&(s.listeners=!0),q(this,at,MT).call(this,{...s,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&q(this,at,zy).call(this)}},Mr=new WeakMap,Qe=new WeakMap,iu=new WeakMap,jr=new WeakMap,Pa=new WeakMap,fl=new WeakMap,Oi=new WeakMap,vs=new WeakMap,au=new WeakMap,pl=new WeakMap,ml=new WeakMap,Aa=new WeakMap,Ra=new WeakMap,Fi=new WeakMap,gl=new WeakMap,at=new WeakSet,Vc=function(e){q(this,at,qy).call(this);let r=N(this,Qe).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(dn)),r},Ly=function(){q(this,at,By).call(this);const e=Ko(this.options.staleTime,N(this,Qe));if(Ja||N(this,jr).isStale||!Fy(e))return;const n=ET(N(this,jr).dataUpdatedAt,e)+1;B(this,Aa,setTimeout(()=>{N(this,jr).isStale||this.updateResult()},n))},$y=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(N(this,Qe)):this.options.refetchInterval)??!1},Uy=function(e){q(this,at,Vy).call(this),B(this,Fi,e),!(Ja||Vn(this.options.enabled,N(this,Qe))===!1||!Fy(N(this,Fi))||N(this,Fi)===0)&&B(this,Ra,setInterval(()=>{(this.options.refetchIntervalInBackground||n0.isFocused())&&q(this,at,Vc).call(this)},N(this,Fi)))},zy=function(){q(this,at,Ly).call(this),q(this,at,Uy).call(this,q(this,at,$y).call(this))},By=function(){N(this,Aa)&&(clearTimeout(N(this,Aa)),B(this,Aa,void 0))},Vy=function(){N(this,Ra)&&(clearInterval(N(this,Ra)),B(this,Ra,void 0))},qy=function(){const e=N(this,Mr).getQueryCache().build(N(this,Mr),this.options);if(e===N(this,Qe))return;const r=N(this,Qe);B(this,Qe,e),B(this,iu,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},MT=function(e){Lt.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(N(this,jr))}),N(this,Mr).getQueryCache().notify({query:N(this,Qe),type:"observerResultsUpdated"})})},vN);function $3(t,e){return Vn(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Ww(t,e){return $3(t,e)||t.state.data!==void 0&&Hy(t,e,e.refetchOnMount)}function Hy(t,e,r){if(Vn(e.enabled,t)!==!1){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&s0(t,e)}return!1}function Gw(t,e,r,n){return(t!==e||Vn(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&s0(t,r)}function s0(t,e){return Vn(e.enabled,t)!==!1&&t.isStaleByTime(Ko(e.staleTime,t))}function U3(t,e){return!$f(t.getCurrentResult(),e)}var Ii,Mi,Dr,Gs,si,Kh,Wy,bN,z3=(bN=class extends cc{constructor(r,n){super();U(this,si);U(this,Ii);U(this,Mi);U(this,Dr);U(this,Gs);B(this,Ii,r),this.setOptions(n),this.bindMethods(),q(this,si,Kh).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const n=this.options;this.options=N(this,Ii).defaultMutationOptions(r),$f(this.options,n)||N(this,Ii).getMutationCache().notify({type:"observerOptionsUpdated",mutation:N(this,Dr),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&eo(n.mutationKey)!==eo(this.options.mutationKey)?this.reset():((s=N(this,Dr))==null?void 0:s.state.status)==="pending"&&N(this,Dr).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=N(this,Dr))==null||r.removeObserver(this)}onMutationUpdate(r){q(this,si,Kh).call(this),q(this,si,Wy).call(this,r)}getCurrentResult(){return N(this,Mi)}reset(){var r;(r=N(this,Dr))==null||r.removeObserver(this),B(this,Dr,void 0),q(this,si,Kh).call(this),q(this,si,Wy).call(this)}mutate(r,n){var s;return B(this,Gs,n),(s=N(this,Dr))==null||s.removeObserver(this),B(this,Dr,N(this,Ii).getMutationCache().build(N(this,Ii),this.options)),N(this,Dr).addObserver(this),N(this,Dr).execute(r)}},Ii=new WeakMap,Mi=new WeakMap,Dr=new WeakMap,Gs=new WeakMap,si=new WeakSet,Kh=function(){var n;const r=((n=N(this,Dr))==null?void 0:n.state)??IT();B(this,Mi,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Wy=function(r){Lt.batch(()=>{var n,s,a,o,l,c,d,u;if(N(this,Gs)&&this.hasListeners()){const h=N(this,Mi).variables,f=N(this,Mi).context;(r==null?void 0:r.type)==="success"?((s=(n=N(this,Gs)).onSuccess)==null||s.call(n,r.data,h,f),(o=(a=N(this,Gs)).onSettled)==null||o.call(a,r.data,null,h,f)):(r==null?void 0:r.type)==="error"&&((c=(l=N(this,Gs)).onError)==null||c.call(l,r.error,h,f),(u=(d=N(this,Gs)).onSettled)==null||u.call(d,void 0,r.error,h,f))}this.listeners.forEach(h=>{h(N(this,Mi))})})},bN),DT=p.createContext(void 0),ls=t=>{const e=p.useContext(DT);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},B3=({client:t,children:e})=>(p.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),i.jsx(DT.Provider,{value:t,children:e})),LT=p.createContext(!1),V3=()=>p.useContext(LT);LT.Provider;function q3(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var H3=p.createContext(q3()),W3=()=>p.useContext(H3);function $T(t,e){return typeof t=="function"?t(...e):!!t}function Gy(){}var G3=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},K3=t=>{p.useEffect(()=>{t.clearReset()},[t])},Q3=({result:t,errorResetBoundary:e,throwOnError:r,query:n})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&$T(r,[t.error,n]),X3=t=>{t.suspense&&(t.staleTime===void 0&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},Z3=(t,e)=>t.isLoading&&t.isFetching&&!e,Y3=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,Kw=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function J3(t,e,r){var u,h,f,g,j;const n=ls(),s=V3(),a=W3(),o=n.defaultQueryOptions(t);(h=(u=n.getDefaultOptions().queries)==null?void 0:u._experimental_beforeQuery)==null||h.call(u,o),o._optimisticResults=s?"isRestoring":"optimistic",X3(o),G3(o,a),K3(a);const l=!n.getQueryCache().get(o.queryHash),[c]=p.useState(()=>new e(n,o)),d=c.getOptimisticResult(o);if(p.useSyncExternalStore(p.useCallback(m=>{const v=s?Gy:c.subscribe(Lt.batchCalls(m));return c.updateResult(),v},[c,s]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),p.useEffect(()=>{c.setOptions(o,{listeners:!1})},[o,c]),Y3(o,d))throw Kw(o,c,a);if(Q3({result:d,errorResetBoundary:a,throwOnError:o.throwOnError,query:n.getQueryCache().get(o.queryHash)}))throw d.error;if((g=(f=n.getDefaultOptions().queries)==null?void 0:f._experimental_afterQuery)==null||g.call(f,o,d),o.experimental_prefetchInRender&&!Ja&&Z3(d,s)){const m=l?Kw(o,c,a):(j=n.getQueryCache().get(o.queryHash))==null?void 0:j.promise;m==null||m.catch(Gy).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?d:c.trackResult(d)}function nt(t,e){return J3(t,L3)}function rt(t,e){const r=ls(),[n]=p.useState(()=>new z3(r,t));p.useEffect(()=>{n.setOptions(t)},[n,t]);const s=p.useSyncExternalStore(p.useCallback(o=>n.subscribe(Lt.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),a=p.useCallback((o,l)=>{n.mutate(o,l).catch(Gy)},[n]);if(s.error&&$T(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:a,mutateAsync:s.mutate}}async function UT(t){if(!t.ok){const e=await t.text();try{const r=JSON.parse(e),n=r.error||r.message||e||t.statusText;throw new Error(n)}catch{throw new Error(e||t.statusText)}}}async function Be(t,e,r){const n=await fetch(e,{method:t,headers:r?{"Content-Type":"application/json"}:{},body:r?JSON.stringify(r):void 0,credentials:"include"});return await UT(n),n}const zT=({on401:t})=>async({queryKey:e})=>{const r=await fetch(e.join("/"),{credentials:"include"});return t==="returnNull"&&r.status===401?null:(await UT(r),await r.json())},Qh=new D3({defaultOptions:{queries:{queryFn:zT({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),eL=1,tL=1e6;let rg=0;function rL(){return rg=(rg+1)%Number.MAX_SAFE_INTEGER,rg.toString()}const ng=new Map,Qw=t=>{if(ng.has(t))return;const e=setTimeout(()=>{ng.delete(t),cd({type:"REMOVE_TOAST",toastId:t})},tL);ng.set(t,e)},nL=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,eL)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?Qw(r):t.toasts.forEach(n=>{Qw(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},Xh=[];let Zh={toasts:[]};function cd(t){Zh=nL(Zh,t),Xh.forEach(e=>{e(Zh)})}function sL({...t}){const e=rL(),r=s=>cd({type:"UPDATE_TOAST",toast:{...s,id:e}}),n=()=>cd({type:"DISMISS_TOAST",toastId:e});return cd({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||n()}}}),{id:e,dismiss:n,update:r}}function cr(){const[t,e]=p.useState(Zh);return p.useEffect(()=>(Xh.push(e),()=>{const r=Xh.indexOf(e);r>-1&&Xh.splice(r,1)}),[t]),{...t,toast:sL,dismiss:r=>cd({type:"DISMISS_TOAST",toastId:r})}}function re(t,e,{checkForDefaultPrevented:r=!0}={}){return function(s){if(t==null||t(s),r===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function Xw(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Xp(...t){return e=>{let r=!1;const n=t.map(s=>{const a=Xw(s,e);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let s=0;s<n.length;s++){const a=n[s];typeof a=="function"?a():Xw(t[s],null)}}}}function Ye(...t){return p.useCallback(Xp(...t),t)}function iL(t,e){const r=p.createContext(e),n=a=>{const{children:o,...l}=a,c=p.useMemo(()=>l,Object.values(l));return i.jsx(r.Provider,{value:c,children:o})};n.displayName=t+"Provider";function s(a){const o=p.useContext(r);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${t}\``)}return[n,s]}function Hr(t,e=[]){let r=[];function n(a,o){const l=p.createContext(o),c=r.length;r=[...r,o];const d=h=>{var w;const{scope:f,children:g,...j}=h,m=((w=f==null?void 0:f[t])==null?void 0:w[c])||l,v=p.useMemo(()=>j,Object.values(j));return i.jsx(m.Provider,{value:v,children:g})};d.displayName=a+"Provider";function u(h,f){var m;const g=((m=f==null?void 0:f[t])==null?void 0:m[c])||l,j=p.useContext(g);if(j)return j;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${a}\``)}return[d,u]}const s=()=>{const a=r.map(o=>p.createContext(o));return function(l){const c=(l==null?void 0:l[t])||a;return p.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[n,aL(s,...e)]}function aL(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:d})=>{const h=c(a)[`__scope${d}`];return{...l,...h}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}function to(t){const e=oL(t),r=p.forwardRef((n,s)=>{const{children:a,...o}=n,l=p.Children.toArray(a),c=l.find(cL);if(c){const d=c.props.children,u=l.map(h=>h===c?p.Children.count(d)>1?p.Children.only(null):p.isValidElement(d)?d.props.children:null:h);return i.jsx(e,{...o,ref:s,children:p.isValidElement(d)?p.cloneElement(d,void 0,u):null})}return i.jsx(e,{...o,ref:s,children:a})});return r.displayName=`${t}.Slot`,r}var BT=to("Slot");function oL(t){const e=p.forwardRef((r,n)=>{const{children:s,...a}=r;if(p.isValidElement(s)){const o=uL(s),l=dL(a,s.props);return s.type!==p.Fragment&&(l.ref=n?Xp(n,o):o),p.cloneElement(s,l)}return p.Children.count(s)>1?p.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var VT=Symbol("radix.slottable");function lL(t){const e=({children:r})=>i.jsx(i.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=VT,e}function cL(t){return p.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===VT}function dL(t,e){const r={...e};for(const n in e){const s=t[n],a=e[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...l)=>{a(...l),s(...l)}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...t,...r}}function uL(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function Zp(t){const e=t+"CollectionProvider",[r,n]=Hr(e),[s,a]=r(e,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:v,children:w}=m,y=Me.useRef(null),x=Me.useRef(new Map).current;return i.jsx(s,{scope:v,itemMap:x,collectionRef:y,children:w})};o.displayName=e;const l=t+"CollectionSlot",c=to(l),d=Me.forwardRef((m,v)=>{const{scope:w,children:y}=m,x=a(l,w),b=Ye(v,x.collectionRef);return i.jsx(c,{ref:b,children:y})});d.displayName=l;const u=t+"CollectionItemSlot",h="data-radix-collection-item",f=to(u),g=Me.forwardRef((m,v)=>{const{scope:w,children:y,...x}=m,b=Me.useRef(null),E=Ye(v,b),k=a(u,w);return Me.useEffect(()=>(k.itemMap.set(b,{ref:b,...x}),()=>void k.itemMap.delete(b))),i.jsx(f,{[h]:"",ref:E,children:y})});g.displayName=u;function j(m){const v=a(t+"CollectionConsumer",m);return Me.useCallback(()=>{const y=v.collectionRef.current;if(!y)return[];const x=Array.from(y.querySelectorAll(`[${h}]`));return Array.from(v.itemMap.values()).sort((k,T)=>x.indexOf(k.ref.current)-x.indexOf(T.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:d,ItemSlot:g},j,n]}var hL=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Te=hL.reduce((t,e)=>{const r=to(`Primitive.${e}`),n=p.forwardRef((s,a)=>{const{asChild:o,...l}=s,c=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function i0(t,e){t&&fo.flushSync(()=>t.dispatchEvent(e))}function lr(t){const e=p.useRef(t);return p.useEffect(()=>{e.current=t}),p.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function fL(t,e=globalThis==null?void 0:globalThis.document){const r=lr(t);p.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var pL="DismissableLayer",Ky="dismissableLayer.update",mL="dismissableLayer.pointerDownOutside",gL="dismissableLayer.focusOutside",Zw,qT=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),dc=p.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=t,d=p.useContext(qT),[u,h]=p.useState(null),f=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=p.useState({}),j=Ye(e,T=>h(T)),m=Array.from(d.layers),[v]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),w=m.indexOf(v),y=u?m.indexOf(u):-1,x=d.layersWithOutsidePointerEventsDisabled.size>0,b=y>=w,E=xL(T=>{const A=T.target,O=[...d.branches].some(M=>M.contains(A));!b||O||(s==null||s(T),o==null||o(T),T.defaultPrevented||l==null||l())},f),k=vL(T=>{const A=T.target;[...d.branches].some(M=>M.contains(A))||(a==null||a(T),o==null||o(T),T.defaultPrevented||l==null||l())},f);return fL(T=>{y===d.layers.size-1&&(n==null||n(T),!T.defaultPrevented&&l&&(T.preventDefault(),l()))},f),p.useEffect(()=>{if(u)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(Zw=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),Yw(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=Zw)}},[u,f,r,d]),p.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),Yw())},[u,d]),p.useEffect(()=>{const T=()=>g({});return document.addEventListener(Ky,T),()=>document.removeEventListener(Ky,T)},[]),i.jsx(Te.div,{...c,ref:j,style:{pointerEvents:x?b?"auto":"none":void 0,...t.style},onFocusCapture:re(t.onFocusCapture,k.onFocusCapture),onBlurCapture:re(t.onBlurCapture,k.onBlurCapture),onPointerDownCapture:re(t.onPointerDownCapture,E.onPointerDownCapture)})});dc.displayName=pL;var yL="DismissableLayerBranch",HT=p.forwardRef((t,e)=>{const r=p.useContext(qT),n=p.useRef(null),s=Ye(e,n);return p.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),i.jsx(Te.div,{...t,ref:s})});HT.displayName=yL;function xL(t,e=globalThis==null?void 0:globalThis.document){const r=lr(t),n=p.useRef(!1),s=p.useRef(()=>{});return p.useEffect(()=>{const a=l=>{if(l.target&&!n.current){let c=function(){WT(mL,r,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",a),e.removeEventListener("click",s.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function vL(t,e=globalThis==null?void 0:globalThis.document){const r=lr(t),n=p.useRef(!1);return p.useEffect(()=>{const s=a=>{a.target&&!n.current&&WT(gL,r,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Yw(){const t=new CustomEvent(Ky);document.dispatchEvent(t)}function WT(t,e,r,{discrete:n}){const s=r.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&s.addEventListener(t,e,{once:!0}),n?i0(s,a):s.dispatchEvent(a)}var bL=dc,wL=HT,zt=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},jL="Portal",Ou=p.forwardRef((t,e)=>{var l;const{container:r,...n}=t,[s,a]=p.useState(!1);zt(()=>a(!0),[]);const o=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?HD.createPortal(i.jsx(Te.div,{...n,ref:e}),o):null});Ou.displayName=jL;function NL(t,e){return p.useReducer((r,n)=>e[r][n]??r,t)}var Sn=t=>{const{present:e,children:r}=t,n=SL(e),s=typeof r=="function"?r({present:n.isPresent}):p.Children.only(r),a=Ye(n.ref,CL(s));return typeof r=="function"||n.isPresent?p.cloneElement(s,{ref:a}):null};Sn.displayName="Presence";function SL(t){const[e,r]=p.useState(),n=p.useRef({}),s=p.useRef(t),a=p.useRef("none"),o=t?"mounted":"unmounted",[l,c]=NL(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const d=yh(n.current);a.current=l==="mounted"?d:"none"},[l]),zt(()=>{const d=n.current,u=s.current;if(u!==t){const f=a.current,g=yh(d);t?c("MOUNT"):g==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&f!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),zt(()=>{if(e){let d;const u=e.ownerDocument.defaultView??window,h=g=>{const m=yh(n.current).includes(g.animationName);if(g.target===e&&m&&(c("ANIMATION_END"),!s.current)){const v=e.style.animationFillMode;e.style.animationFillMode="forwards",d=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=v)})}},f=g=>{g.target===e&&(a.current=yh(n.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{u.clearTimeout(d),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:p.useCallback(d=>{d&&(n.current=getComputedStyle(d)),r(d)},[])}}function yh(t){return(t==null?void 0:t.animationName)||"none"}function CL(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function ci({prop:t,defaultProp:e,onChange:r=()=>{}}){const[n,s]=_L({defaultProp:e,onChange:r}),a=t!==void 0,o=a?t:n,l=lr(r),c=p.useCallback(d=>{if(a){const h=typeof d=="function"?d(t):d;h!==t&&l(h)}else s(d)},[a,t,s,l]);return[o,c]}function _L({defaultProp:t,onChange:e}){const r=p.useState(t),[n]=r,s=p.useRef(n),a=lr(e);return p.useEffect(()=>{s.current!==n&&(a(n),s.current=n)},[n,s,a]),r}var EL="VisuallyHidden",Fu=p.forwardRef((t,e)=>i.jsx(Te.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Fu.displayName=EL;var TL=Fu,a0="ToastProvider",[o0,kL,PL]=Zp("Toast"),[GT,QZ]=Hr("Toast",[PL]),[AL,Yp]=GT(a0),KT=t=>{const{__scopeToast:e,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:a=50,children:o}=t,[l,c]=p.useState(null),[d,u]=p.useState(0),h=p.useRef(!1),f=p.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${a0}\`. Expected non-empty \`string\`.`),i.jsx(o0.Provider,{scope:e,children:i.jsx(AL,{scope:e,label:r,duration:n,swipeDirection:s,swipeThreshold:a,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:p.useCallback(()=>u(g=>g+1),[]),onToastRemove:p.useCallback(()=>u(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:o})})};KT.displayName=a0;var QT="ToastViewport",RL=["F8"],Qy="toast.viewportPause",Xy="toast.viewportResume",XT=p.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:n=RL,label:s="Notifications ({hotkey})",...a}=t,o=Yp(QT,r),l=kL(r),c=p.useRef(null),d=p.useRef(null),u=p.useRef(null),h=p.useRef(null),f=Ye(e,h,o.onViewportChange),g=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),j=o.toastCount>0;p.useEffect(()=>{const v=w=>{var x;n.length!==0&&n.every(b=>w[b]||w.code===b)&&((x=h.current)==null||x.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[n]),p.useEffect(()=>{const v=c.current,w=h.current;if(j&&v&&w){const y=()=>{if(!o.isClosePausedRef.current){const k=new CustomEvent(Qy);w.dispatchEvent(k),o.isClosePausedRef.current=!0}},x=()=>{if(o.isClosePausedRef.current){const k=new CustomEvent(Xy);w.dispatchEvent(k),o.isClosePausedRef.current=!1}},b=k=>{!v.contains(k.relatedTarget)&&x()},E=()=>{v.contains(document.activeElement)||x()};return v.addEventListener("focusin",y),v.addEventListener("focusout",b),v.addEventListener("pointermove",y),v.addEventListener("pointerleave",E),window.addEventListener("blur",y),window.addEventListener("focus",x),()=>{v.removeEventListener("focusin",y),v.removeEventListener("focusout",b),v.removeEventListener("pointermove",y),v.removeEventListener("pointerleave",E),window.removeEventListener("blur",y),window.removeEventListener("focus",x)}}},[j,o.isClosePausedRef]);const m=p.useCallback(({tabbingDirection:v})=>{const y=l().map(x=>{const b=x.ref.current,E=[b,...HL(b)];return v==="forwards"?E:E.reverse()});return(v==="forwards"?y.reverse():y).flat()},[l]);return p.useEffect(()=>{const v=h.current;if(v){const w=y=>{var E,k,T;const x=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!x){const A=document.activeElement,O=y.shiftKey;if(y.target===v&&O){(E=d.current)==null||E.focus();return}const L=m({tabbingDirection:O?"backwards":"forwards"}),R=L.findIndex(I=>I===A);sg(L.slice(R+1))?y.preventDefault():O?(k=d.current)==null||k.focus():(T=u.current)==null||T.focus()}};return v.addEventListener("keydown",w),()=>v.removeEventListener("keydown",w)}},[l,m]),i.jsxs(wL,{ref:c,role:"region","aria-label":s.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:j?void 0:"none"},children:[j&&i.jsx(Zy,{ref:d,onFocusFromOutsideViewport:()=>{const v=m({tabbingDirection:"forwards"});sg(v)}}),i.jsx(o0.Slot,{scope:r,children:i.jsx(Te.ol,{tabIndex:-1,...a,ref:f})}),j&&i.jsx(Zy,{ref:u,onFocusFromOutsideViewport:()=>{const v=m({tabbingDirection:"backwards"});sg(v)}})]})});XT.displayName=QT;var ZT="ToastFocusProxy",Zy=p.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=t,a=Yp(ZT,r);return i.jsx(Fu,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=a.viewport)!=null&&d.contains(l))&&n()}})});Zy.displayName=ZT;var Jp="Toast",OL="toast.swipeStart",FL="toast.swipeMove",IL="toast.swipeCancel",ML="toast.swipeEnd",YT=p.forwardRef((t,e)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:a,...o}=t,[l=!0,c]=ci({prop:n,defaultProp:s,onChange:a});return i.jsx(Sn,{present:r||l,children:i.jsx($L,{open:l,...o,ref:e,onClose:()=>c(!1),onPause:lr(t.onPause),onResume:lr(t.onResume),onSwipeStart:re(t.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:re(t.onSwipeMove,d=>{const{x:u,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:re(t.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:re(t.onSwipeEnd,d=>{const{x:u,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});YT.displayName=Jp;var[DL,LL]=GT(Jp,{onClose(){}}),$L=p.forwardRef((t,e)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:a,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:u,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:g,...j}=t,m=Yp(Jp,r),[v,w]=p.useState(null),y=Ye(e,I=>w(I)),x=p.useRef(null),b=p.useRef(null),E=s||m.duration,k=p.useRef(0),T=p.useRef(E),A=p.useRef(0),{onToastAdd:O,onToastRemove:M}=m,G=lr(()=>{var ae;(v==null?void 0:v.contains(document.activeElement))&&((ae=m.viewport)==null||ae.focus()),o()}),L=p.useCallback(I=>{!I||I===1/0||(window.clearTimeout(A.current),k.current=new Date().getTime(),A.current=window.setTimeout(G,I))},[G]);p.useEffect(()=>{const I=m.viewport;if(I){const ae=()=>{L(T.current),d==null||d()},J=()=>{const ce=new Date().getTime()-k.current;T.current=T.current-ce,window.clearTimeout(A.current),c==null||c()};return I.addEventListener(Qy,J),I.addEventListener(Xy,ae),()=>{I.removeEventListener(Qy,J),I.removeEventListener(Xy,ae)}}},[m.viewport,E,c,d,L]),p.useEffect(()=>{a&&!m.isClosePausedRef.current&&L(E)},[a,E,m.isClosePausedRef,L]),p.useEffect(()=>(O(),()=>M()),[O,M]);const R=p.useMemo(()=>v?ik(v):null,[v]);return m.viewport?i.jsxs(i.Fragment,{children:[R&&i.jsx(UL,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:R}),i.jsx(DL,{scope:r,onClose:G,children:fo.createPortal(i.jsx(o0.ItemSlot,{scope:r,children:i.jsx(bL,{asChild:!0,onEscapeKeyDown:re(l,()=>{m.isFocusedToastEscapeKeyDownRef.current||G(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:i.jsx(Te.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":m.swipeDirection,...j,ref:y,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:re(t.onKeyDown,I=>{I.key==="Escape"&&(l==null||l(I.nativeEvent),I.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,G()))}),onPointerDown:re(t.onPointerDown,I=>{I.button===0&&(x.current={x:I.clientX,y:I.clientY})}),onPointerMove:re(t.onPointerMove,I=>{if(!x.current)return;const ae=I.clientX-x.current.x,J=I.clientY-x.current.y,ce=!!b.current,F=["left","right"].includes(m.swipeDirection),$=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,W=F?$(0,ae):0,ne=F?0:$(0,J),Ce=I.pointerType==="touch"?10:2,ut={x:W,y:ne},tt={originalEvent:I,delta:ut};ce?(b.current=ut,xh(FL,h,tt,{discrete:!1})):Jw(ut,m.swipeDirection,Ce)?(b.current=ut,xh(OL,u,tt,{discrete:!1}),I.target.setPointerCapture(I.pointerId)):(Math.abs(ae)>Ce||Math.abs(J)>Ce)&&(x.current=null)}),onPointerUp:re(t.onPointerUp,I=>{const ae=b.current,J=I.target;if(J.hasPointerCapture(I.pointerId)&&J.releasePointerCapture(I.pointerId),b.current=null,x.current=null,ae){const ce=I.currentTarget,F={originalEvent:I,delta:ae};Jw(ae,m.swipeDirection,m.swipeThreshold)?xh(ML,g,F,{discrete:!0}):xh(IL,f,F,{discrete:!0}),ce.addEventListener("click",$=>$.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),UL=t=>{const{__scopeToast:e,children:r,...n}=t,s=Yp(Jp,e),[a,o]=p.useState(!1),[l,c]=p.useState(!1);return VL(()=>o(!0)),p.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:i.jsx(Ou,{asChild:!0,children:i.jsx(Fu,{...n,children:a&&i.jsxs(i.Fragment,{children:[s.label," ",r]})})})},zL="ToastTitle",JT=p.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return i.jsx(Te.div,{...n,ref:e})});JT.displayName=zL;var BL="ToastDescription",ek=p.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return i.jsx(Te.div,{...n,ref:e})});ek.displayName=BL;var tk="ToastAction",rk=p.forwardRef((t,e)=>{const{altText:r,...n}=t;return r.trim()?i.jsx(sk,{altText:r,asChild:!0,children:i.jsx(l0,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${tk}\`. Expected non-empty \`string\`.`),null)});rk.displayName=tk;var nk="ToastClose",l0=p.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t,s=LL(nk,r);return i.jsx(sk,{asChild:!0,children:i.jsx(Te.button,{type:"button",...n,ref:e,onClick:re(t.onClick,s.onClose)})})});l0.displayName=nk;var sk=p.forwardRef((t,e)=>{const{__scopeToast:r,altText:n,...s}=t;return i.jsx(Te.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:e})});function ik(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),qL(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",a=n.dataset.radixToastAnnounceExclude==="";if(!s)if(a){const o=n.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...ik(n))}}),e}function xh(t,e,r,{discrete:n}){const s=r.originalEvent.currentTarget,a=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&s.addEventListener(t,e,{once:!0}),n?i0(s,a):s.dispatchEvent(a)}var Jw=(t,e,r=0)=>{const n=Math.abs(t.x),s=Math.abs(t.y),a=n>s;return e==="left"||e==="right"?a&&n>r:!a&&s>r};function VL(t=()=>{}){const e=lr(t);zt(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[e])}function qL(t){return t.nodeType===t.ELEMENT_NODE}function HL(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function sg(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var WL=KT,ak=XT,ok=YT,lk=JT,ck=ek,dk=rk,uk=l0;function hk(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(r=hk(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function fk(){for(var t,e,r=0,n="",s=arguments.length;r<s;r++)(t=arguments[r])&&(e=hk(t))&&(n&&(n+=" "),n+=e);return n}const e1=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,t1=fk,Iu=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return t1(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:a}=e,o=Object.keys(s).map(d=>{const u=r==null?void 0:r[d],h=a==null?void 0:a[d];if(u===null)return null;const f=e1(u)||e1(h);return s[d][f]}),l=r&&Object.entries(r).reduce((d,u)=>{let[h,f]=u;return f===void 0||(d[h]=f),d},{}),c=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((d,u)=>{let{class:h,className:f,...g}=u;return Object.entries(g).every(j=>{let[m,v]=j;return Array.isArray(v)?v.includes({...a,...l}[m]):{...a,...l}[m]===v})?[...d,h,f]:d},[]);return t1(t,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GL=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),pk=(...t)=>t.filter((e,r,n)=>!!e&&n.indexOf(e)===r).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var KL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QL=p.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:a,iconNode:o,...l},c)=>p.createElement("svg",{ref:c,...KL,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:pk("lucide",s),...l},[...o.map(([d,u])=>p.createElement(d,u)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=(t,e)=>{const r=p.forwardRef(({className:n,...s},a)=>p.createElement(QL,{ref:a,iconNode:e,className:pk(`lucide-${GL(t)}`,n),...s}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hl=le("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XL=le("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZL=le("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Od=le("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qo=le("Bolt",[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YL=le("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mk=le("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JL=le("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c0=le("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gk=le("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e6=le("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yk=le("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t6=le("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wl=le("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yh=le("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ni=le("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r6=le("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zf=le("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xk=le("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mn=le("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ig=le("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xo=le("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vk=le("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wa=le("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n6=le("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d0=le("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jh=le("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s6=le("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i6=le("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a6=le("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r1=le("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ag=le("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o6=le("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l6=le("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ef=le("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c6=le("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d6=le("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cs=le("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gl=le("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u6=le("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gn=le("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h6=le("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const og=le("Package2",[["path",{d:"M3 9h18v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V9Z",key:"1ront0"}],["path",{d:"m3 9 2.45-4.9A2 2 0 0 1 7.24 3h9.52a2 2 0 0 1 1.8 1.1L21 9",key:"19h2x1"}],["path",{d:"M12 3v6",key:"1holv5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zr=le("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f6=le("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bk=le("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yy=le("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jn=le("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p6=le("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wk=le("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bf=le("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vf=le("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m6=le("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jy=le("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kl=le("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n1=le("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ro=le("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kc=le("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fd=le("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g6=le("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y6=le("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dd=le("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const em=le("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s1=le("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jk=le("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i1=le("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u0=le("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tm=le("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qf=le("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ql=le("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pc=le("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x6=le("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mu=le("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v6=le("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b6=le("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),h0="-",w6=t=>{const e=N6(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:o=>{const l=o.split(h0);return l[0]===""&&l.length!==1&&l.shift(),Nk(l,e)||j6(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},Nk=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),s=n?Nk(t.slice(1),n):void 0;if(s)return s;if(e.validators.length===0)return;const a=t.join(h0);return(o=e.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},a1=/^\[(.+)\]$/,j6=t=>{if(a1.test(t)){const e=a1.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},N6=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return C6(Object.entries(t.classGroups),r).forEach(([a,o])=>{ex(o,n,a,e)}),n},ex=(t,e,r,n)=>{t.forEach(s=>{if(typeof s=="string"){const a=s===""?e:o1(e,s);a.classGroupId=r;return}if(typeof s=="function"){if(S6(s)){ex(s(n),e,r,n);return}e.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([a,o])=>{ex(o,o1(e,a),r,n)})})},o1=(t,e)=>{let r=t;return e.split(h0).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},S6=t=>t.isThemeGetter,C6=(t,e)=>e?t.map(([r,n])=>{const s=n.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[e+o,l])):a);return[r,s]}):t,_6=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const s=(a,o)=>{r.set(a,o),e++,e>t&&(e=0,n=r,r=new Map)};return{get(a){let o=r.get(a);if(o!==void 0)return o;if((o=n.get(a))!==void 0)return s(a,o),o},set(a,o){r.has(a)?r.set(a,o):s(a,o)}}},Sk="!",E6=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,s=e[0],a=e.length,o=l=>{const c=[];let d=0,u=0,h;for(let v=0;v<l.length;v++){let w=l[v];if(d===0){if(w===s&&(n||l.slice(v,v+a)===e)){c.push(l.slice(u,v)),u=v+a;continue}if(w==="/"){h=v;continue}}w==="["?d++:w==="]"&&d--}const f=c.length===0?l:l.substring(u),g=f.startsWith(Sk),j=g?f.substring(1):f,m=h&&h>u?h-u:void 0;return{modifiers:c,hasImportantModifier:g,baseClassName:j,maybePostfixModifierPosition:m}};return r?l=>r({className:l,parseClassName:o}):o},T6=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},k6=t=>({cache:_6(t.cacheSize),parseClassName:E6(t),...w6(t)}),P6=/\s+/,A6=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=e,a=[],o=t.trim().split(P6);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:u,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:g}=r(d);let j=!!g,m=n(j?f.substring(0,g):f);if(!m){if(!j){l=d+(l.length>0?" "+l:l);continue}if(m=n(f),!m){l=d+(l.length>0?" "+l:l);continue}j=!1}const v=T6(u).join(":"),w=h?v+Sk:v,y=w+m;if(a.includes(y))continue;a.push(y);const x=s(m,j);for(let b=0;b<x.length;++b){const E=x[b];a.push(w+E)}l=d+(l.length>0?" "+l:l)}return l};function R6(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=Ck(e))&&(n&&(n+=" "),n+=r);return n}const Ck=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=Ck(t[n]))&&(r&&(r+=" "),r+=e);return r};function O6(t,...e){let r,n,s,a=o;function o(c){const d=e.reduce((u,h)=>h(u),t());return r=k6(d),n=r.cache.get,s=r.cache.set,a=l,l(c)}function l(c){const d=n(c);if(d)return d;const u=A6(c,r);return s(c,u),u}return function(){return a(R6.apply(null,arguments))}}const ft=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},_k=/^\[(?:([a-z-]+):)?(.+)\]$/i,F6=/^\d+\/\d+$/,I6=new Set(["px","full","screen"]),M6=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,D6=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,L6=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,$6=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,U6=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Us=t=>Zo(t)||I6.has(t)||F6.test(t),xi=t=>uc(t,"length",K6),Zo=t=>!!t&&!Number.isNaN(Number(t)),lg=t=>uc(t,"number",Zo),Ac=t=>!!t&&Number.isInteger(Number(t)),z6=t=>t.endsWith("%")&&Zo(t.slice(0,-1)),$e=t=>_k.test(t),vi=t=>M6.test(t),B6=new Set(["length","size","percentage"]),V6=t=>uc(t,B6,Ek),q6=t=>uc(t,"position",Ek),H6=new Set(["image","url"]),W6=t=>uc(t,H6,X6),G6=t=>uc(t,"",Q6),Rc=()=>!0,uc=(t,e,r)=>{const n=_k.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},K6=t=>D6.test(t)&&!L6.test(t),Ek=()=>!1,Q6=t=>$6.test(t),X6=t=>U6.test(t),Z6=()=>{const t=ft("colors"),e=ft("spacing"),r=ft("blur"),n=ft("brightness"),s=ft("borderColor"),a=ft("borderRadius"),o=ft("borderSpacing"),l=ft("borderWidth"),c=ft("contrast"),d=ft("grayscale"),u=ft("hueRotate"),h=ft("invert"),f=ft("gap"),g=ft("gradientColorStops"),j=ft("gradientColorStopPositions"),m=ft("inset"),v=ft("margin"),w=ft("opacity"),y=ft("padding"),x=ft("saturate"),b=ft("scale"),E=ft("sepia"),k=ft("skew"),T=ft("space"),A=ft("translate"),O=()=>["auto","contain","none"],M=()=>["auto","hidden","clip","visible","scroll"],G=()=>["auto",$e,e],L=()=>[$e,e],R=()=>["",Us,xi],I=()=>["auto",Zo,$e],ae=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],J=()=>["solid","dashed","dotted","double","none"],ce=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],F=()=>["start","end","center","between","around","evenly","stretch"],$=()=>["","0",$e],W=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ne=()=>[Zo,$e];return{cacheSize:500,separator:":",theme:{colors:[Rc],spacing:[Us,xi],blur:["none","",vi,$e],brightness:ne(),borderColor:[t],borderRadius:["none","","full",vi,$e],borderSpacing:L(),borderWidth:R(),contrast:ne(),grayscale:$(),hueRotate:ne(),invert:$(),gap:L(),gradientColorStops:[t],gradientColorStopPositions:[z6,xi],inset:G(),margin:G(),opacity:ne(),padding:L(),saturate:ne(),scale:ne(),sepia:$(),skew:ne(),space:L(),translate:L()},classGroups:{aspect:[{aspect:["auto","square","video",$e]}],container:["container"],columns:[{columns:[vi]}],"break-after":[{"break-after":W()}],"break-before":[{"break-before":W()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ae(),$e]}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ac,$e]}],basis:[{basis:G()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",$e]}],grow:[{grow:$()}],shrink:[{shrink:$()}],order:[{order:["first","last","none",Ac,$e]}],"grid-cols":[{"grid-cols":[Rc]}],"col-start-end":[{col:["auto",{span:["full",Ac,$e]},$e]}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":[Rc]}],"row-start-end":[{row:["auto",{span:[Ac,$e]},$e]}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",$e]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",$e]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...F()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...F(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...F(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[T]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[T]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",$e,e]}],"min-w":[{"min-w":[$e,e,"min","max","fit"]}],"max-w":[{"max-w":[$e,e,"none","full","min","max","fit","prose",{screen:[vi]},vi]}],h:[{h:[$e,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[$e,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[$e,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[$e,e,"auto","min","max","fit"]}],"font-size":[{text:["base",vi,xi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",lg]}],"font-family":[{font:[Rc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",$e]}],"line-clamp":[{"line-clamp":["none",Zo,lg]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Us,$e]}],"list-image":[{"list-image":["none",$e]}],"list-style-type":[{list:["none","disc","decimal",$e]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...J(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Us,xi]}],"underline-offset":[{"underline-offset":["auto",Us,$e]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:L()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",$e]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",$e]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ae(),q6]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",V6]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},W6]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[j]}],"gradient-via-pos":[{via:[j]}],"gradient-to-pos":[{to:[j]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...J(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:J()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...J()]}],"outline-offset":[{"outline-offset":[Us,$e]}],"outline-w":[{outline:[Us,xi]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[Us,xi]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",vi,G6]}],"shadow-color":[{shadow:[Rc]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...ce(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ce()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",vi,$e]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[h]}],saturate:[{saturate:[x]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",$e]}],duration:[{duration:ne()}],ease:[{ease:["linear","in","out","in-out",$e]}],delay:[{delay:ne()}],animate:[{animate:["none","spin","ping","pulse","bounce",$e]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[Ac,$e]}],"translate-x":[{"translate-x":[A]}],"translate-y":[{"translate-y":[A]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",$e]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",$e]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":L()}],"scroll-mx":[{"scroll-mx":L()}],"scroll-my":[{"scroll-my":L()}],"scroll-ms":[{"scroll-ms":L()}],"scroll-me":[{"scroll-me":L()}],"scroll-mt":[{"scroll-mt":L()}],"scroll-mr":[{"scroll-mr":L()}],"scroll-mb":[{"scroll-mb":L()}],"scroll-ml":[{"scroll-ml":L()}],"scroll-p":[{"scroll-p":L()}],"scroll-px":[{"scroll-px":L()}],"scroll-py":[{"scroll-py":L()}],"scroll-ps":[{"scroll-ps":L()}],"scroll-pe":[{"scroll-pe":L()}],"scroll-pt":[{"scroll-pt":L()}],"scroll-pr":[{"scroll-pr":L()}],"scroll-pb":[{"scroll-pb":L()}],"scroll-pl":[{"scroll-pl":L()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",$e]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Us,xi,lg]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Y6=O6(Z6);function me(...t){return Y6(fk(t))}const J6=WL,Tk=p.forwardRef(({className:t,...e},r)=>i.jsx(ak,{ref:r,className:me("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));Tk.displayName=ak.displayName;const e8=Iu("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),kk=p.forwardRef(({className:t,variant:e,...r},n)=>i.jsx(ok,{ref:n,className:me(e8({variant:e}),t),...r}));kk.displayName=ok.displayName;const t8=p.forwardRef(({className:t,...e},r)=>i.jsx(dk,{ref:r,className:me("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));t8.displayName=dk.displayName;const Pk=p.forwardRef(({className:t,...e},r)=>i.jsx(uk,{ref:r,className:me("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:i.jsx(Mu,{className:"h-4 w-4"})}));Pk.displayName=uk.displayName;const Ak=p.forwardRef(({className:t,...e},r)=>i.jsx(lk,{ref:r,className:me("text-sm font-semibold",t),...e}));Ak.displayName=lk.displayName;const Rk=p.forwardRef(({className:t,...e},r)=>i.jsx(ck,{ref:r,className:me("text-sm opacity-90",t),...e}));Rk.displayName=ck.displayName;function r8(){const{toasts:t}=cr();return i.jsxs(J6,{children:[t.map(function({id:e,title:r,description:n,action:s,...a}){return i.jsxs(kk,{...a,children:[i.jsxs("div",{className:"grid gap-1",children:[r&&i.jsx(Ak,{children:r}),n&&i.jsx(Rk,{children:n})]}),s,i.jsx(Pk,{})]},e)}),i.jsx(Tk,{})]})}var n8=f2[" useId ".trim().toString()]||(()=>{}),s8=0;function Os(t){const[e,r]=p.useState(n8());return zt(()=>{r(n=>n??String(s8++))},[t]),e?`radix-${e}`:""}const i8=["top","right","bottom","left"],ta=Math.min,Qr=Math.max,Hf=Math.round,vh=Math.floor,Fs=t=>({x:t,y:t}),a8={left:"right",right:"left",bottom:"top",top:"bottom"},o8={start:"end",end:"start"};function tx(t,e,r){return Qr(t,ta(e,r))}function di(t,e){return typeof t=="function"?t(e):t}function ui(t){return t.split("-")[0]}function hc(t){return t.split("-")[1]}function f0(t){return t==="x"?"y":"x"}function p0(t){return t==="y"?"height":"width"}function ra(t){return["top","bottom"].includes(ui(t))?"y":"x"}function m0(t){return f0(ra(t))}function l8(t,e,r){r===void 0&&(r=!1);const n=hc(t),s=m0(t),a=p0(s);let o=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(o=Wf(o)),[o,Wf(o)]}function c8(t){const e=Wf(t);return[rx(t),e,rx(e)]}function rx(t){return t.replace(/start|end/g,e=>o8[e])}function d8(t,e,r){const n=["left","right"],s=["right","left"],a=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return r?e?s:n:e?n:s;case"left":case"right":return e?a:o;default:return[]}}function u8(t,e,r,n){const s=hc(t);let a=d8(ui(t),r==="start",n);return s&&(a=a.map(o=>o+"-"+s),e&&(a=a.concat(a.map(rx)))),a}function Wf(t){return t.replace(/left|right|bottom|top/g,e=>a8[e])}function h8(t){return{top:0,right:0,bottom:0,left:0,...t}}function Ok(t){return typeof t!="number"?h8(t):{top:t,right:t,bottom:t,left:t}}function Gf(t){const{x:e,y:r,width:n,height:s}=t;return{width:n,height:s,top:r,left:e,right:e+n,bottom:r+s,x:e,y:r}}function l1(t,e,r){let{reference:n,floating:s}=t;const a=ra(e),o=m0(e),l=p0(o),c=ui(e),d=a==="y",u=n.x+n.width/2-s.width/2,h=n.y+n.height/2-s.height/2,f=n[l]/2-s[l]/2;let g;switch(c){case"top":g={x:u,y:n.y-s.height};break;case"bottom":g={x:u,y:n.y+n.height};break;case"right":g={x:n.x+n.width,y:h};break;case"left":g={x:n.x-s.width,y:h};break;default:g={x:n.x,y:n.y}}switch(hc(e)){case"start":g[o]-=f*(r&&d?-1:1);break;case"end":g[o]+=f*(r&&d?-1:1);break}return g}const f8=async(t,e,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:a=[],platform:o}=r,l=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:u,y:h}=l1(d,n,c),f=n,g={},j=0;for(let m=0;m<l.length;m++){const{name:v,fn:w}=l[m],{x:y,y:x,data:b,reset:E}=await w({x:u,y:h,initialPlacement:n,placement:f,strategy:s,middlewareData:g,rects:d,platform:o,elements:{reference:t,floating:e}});u=y??u,h=x??h,g={...g,[v]:{...g[v],...b}},E&&j<=50&&(j++,typeof E=="object"&&(E.placement&&(f=E.placement),E.rects&&(d=E.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):E.rects),{x:u,y:h}=l1(d,f,c)),m=-1)}return{x:u,y:h,placement:f,strategy:s,middlewareData:g}};async function Id(t,e){var r;e===void 0&&(e={});const{x:n,y:s,platform:a,rects:o,elements:l,strategy:c}=t,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:f=!1,padding:g=0}=di(e,t),j=Ok(g),v=l[f?h==="floating"?"reference":"floating":h],w=Gf(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(v)))==null||r?v:v.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),y=h==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,x=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),b=await(a.isElement==null?void 0:a.isElement(x))?await(a.getScale==null?void 0:a.getScale(x))||{x:1,y:1}:{x:1,y:1},E=Gf(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:x,strategy:c}):y);return{top:(w.top-E.top+j.top)/b.y,bottom:(E.bottom-w.bottom+j.bottom)/b.y,left:(w.left-E.left+j.left)/b.x,right:(E.right-w.right+j.right)/b.x}}const p8=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:s,rects:a,platform:o,elements:l,middlewareData:c}=e,{element:d,padding:u=0}=di(t,e)||{};if(d==null)return{};const h=Ok(u),f={x:r,y:n},g=m0(s),j=p0(g),m=await o.getDimensions(d),v=g==="y",w=v?"top":"left",y=v?"bottom":"right",x=v?"clientHeight":"clientWidth",b=a.reference[j]+a.reference[g]-f[g]-a.floating[j],E=f[g]-a.reference[g],k=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let T=k?k[x]:0;(!T||!await(o.isElement==null?void 0:o.isElement(k)))&&(T=l.floating[x]||a.floating[j]);const A=b/2-E/2,O=T/2-m[j]/2-1,M=ta(h[w],O),G=ta(h[y],O),L=M,R=T-m[j]-G,I=T/2-m[j]/2+A,ae=tx(L,I,R),J=!c.arrow&&hc(s)!=null&&I!==ae&&a.reference[j]/2-(I<L?M:G)-m[j]/2<0,ce=J?I<L?I-L:I-R:0;return{[g]:f[g]+ce,data:{[g]:ae,centerOffset:I-ae-ce,...J&&{alignmentOffset:ce}},reset:J}}}),m8=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:s,middlewareData:a,rects:o,initialPlacement:l,platform:c,elements:d}=e,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:j="none",flipAlignment:m=!0,...v}=di(t,e);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const w=ui(s),y=ra(l),x=ui(l)===l,b=await(c.isRTL==null?void 0:c.isRTL(d.floating)),E=f||(x||!m?[Wf(l)]:c8(l)),k=j!=="none";!f&&k&&E.push(...u8(l,m,j,b));const T=[l,...E],A=await Id(e,v),O=[];let M=((n=a.flip)==null?void 0:n.overflows)||[];if(u&&O.push(A[w]),h){const I=l8(s,o,b);O.push(A[I[0]],A[I[1]])}if(M=[...M,{placement:s,overflows:O}],!O.every(I=>I<=0)){var G,L;const I=(((G=a.flip)==null?void 0:G.index)||0)+1,ae=T[I];if(ae)return{data:{index:I,overflows:M},reset:{placement:ae}};let J=(L=M.filter(ce=>ce.overflows[0]<=0).sort((ce,F)=>ce.overflows[1]-F.overflows[1])[0])==null?void 0:L.placement;if(!J)switch(g){case"bestFit":{var R;const ce=(R=M.filter(F=>{if(k){const $=ra(F.placement);return $===y||$==="y"}return!0}).map(F=>[F.placement,F.overflows.filter($=>$>0).reduce(($,W)=>$+W,0)]).sort((F,$)=>F[1]-$[1])[0])==null?void 0:R[0];ce&&(J=ce);break}case"initialPlacement":J=l;break}if(s!==J)return{reset:{placement:J}}}return{}}}};function c1(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function d1(t){return i8.some(e=>t[e]>=0)}const g8=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...s}=di(t,e);switch(n){case"referenceHidden":{const a=await Id(e,{...s,elementContext:"reference"}),o=c1(a,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:d1(o)}}}case"escaped":{const a=await Id(e,{...s,altBoundary:!0}),o=c1(a,r.floating);return{data:{escapedOffsets:o,escaped:d1(o)}}}default:return{}}}}};async function y8(t,e){const{placement:r,platform:n,elements:s}=t,a=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=ui(r),l=hc(r),c=ra(r)==="y",d=["left","top"].includes(o)?-1:1,u=a&&c?-1:1,h=di(e,t);let{mainAxis:f,crossAxis:g,alignmentAxis:j}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof j=="number"&&(g=l==="end"?j*-1:j),c?{x:g*u,y:f*d}:{x:f*d,y:g*u}}const x8=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:s,y:a,placement:o,middlewareData:l}=e,c=await y8(e,t);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:a+c.y,data:{...c,placement:o}}}}},v8=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:s}=e,{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:v=>{let{x:w,y}=v;return{x:w,y}}},...c}=di(t,e),d={x:r,y:n},u=await Id(e,c),h=ra(ui(s)),f=f0(h);let g=d[f],j=d[h];if(a){const v=f==="y"?"top":"left",w=f==="y"?"bottom":"right",y=g+u[v],x=g-u[w];g=tx(y,g,x)}if(o){const v=h==="y"?"top":"left",w=h==="y"?"bottom":"right",y=j+u[v],x=j-u[w];j=tx(y,j,x)}const m=l.fn({...e,[f]:g,[h]:j});return{...m,data:{x:m.x-r,y:m.y-n,enabled:{[f]:a,[h]:o}}}}}},b8=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:s,rects:a,middlewareData:o}=e,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=di(t,e),u={x:r,y:n},h=ra(s),f=f0(h);let g=u[f],j=u[h];const m=di(l,e),v=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(c){const x=f==="y"?"height":"width",b=a.reference[f]-a.floating[x]+v.mainAxis,E=a.reference[f]+a.reference[x]-v.mainAxis;g<b?g=b:g>E&&(g=E)}if(d){var w,y;const x=f==="y"?"width":"height",b=["top","left"].includes(ui(s)),E=a.reference[h]-a.floating[x]+(b&&((w=o.offset)==null?void 0:w[h])||0)+(b?0:v.crossAxis),k=a.reference[h]+a.reference[x]+(b?0:((y=o.offset)==null?void 0:y[h])||0)-(b?v.crossAxis:0);j<E?j=E:j>k&&(j=k)}return{[f]:g,[h]:j}}}},w8=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:s,rects:a,platform:o,elements:l}=e,{apply:c=()=>{},...d}=di(t,e),u=await Id(e,d),h=ui(s),f=hc(s),g=ra(s)==="y",{width:j,height:m}=a.floating;let v,w;h==="top"||h==="bottom"?(v=h,w=f===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(w=h,v=f==="end"?"top":"bottom");const y=m-u.top-u.bottom,x=j-u.left-u.right,b=ta(m-u[v],y),E=ta(j-u[w],x),k=!e.middlewareData.shift;let T=b,A=E;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(A=x),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(T=y),k&&!f){const M=Qr(u.left,0),G=Qr(u.right,0),L=Qr(u.top,0),R=Qr(u.bottom,0);g?A=j-2*(M!==0||G!==0?M+G:Qr(u.left,u.right)):T=m-2*(L!==0||R!==0?L+R:Qr(u.top,u.bottom))}await c({...e,availableWidth:A,availableHeight:T});const O=await o.getDimensions(l.floating);return j!==O.width||m!==O.height?{reset:{rects:!0}}:{}}}};function rm(){return typeof window<"u"}function fc(t){return Fk(t)?(t.nodeName||"").toLowerCase():"#document"}function tn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function $s(t){var e;return(e=(Fk(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Fk(t){return rm()?t instanceof Node||t instanceof tn(t).Node:!1}function rs(t){return rm()?t instanceof Element||t instanceof tn(t).Element:!1}function Ms(t){return rm()?t instanceof HTMLElement||t instanceof tn(t).HTMLElement:!1}function u1(t){return!rm()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof tn(t).ShadowRoot}function Du(t){const{overflow:e,overflowX:r,overflowY:n,display:s}=ns(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!["inline","contents"].includes(s)}function j8(t){return["table","td","th"].includes(fc(t))}function nm(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function g0(t){const e=y0(),r=rs(t)?ns(t):t;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function N8(t){let e=na(t);for(;Ms(e)&&!Xl(e);){if(g0(e))return e;if(nm(e))return null;e=na(e)}return null}function y0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Xl(t){return["html","body","#document"].includes(fc(t))}function ns(t){return tn(t).getComputedStyle(t)}function sm(t){return rs(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function na(t){if(fc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||u1(t)&&t.host||$s(t);return u1(e)?e.host:e}function Ik(t){const e=na(t);return Xl(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ms(e)&&Du(e)?e:Ik(e)}function Md(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const s=Ik(t),a=s===((n=t.ownerDocument)==null?void 0:n.body),o=tn(s);if(a){const l=nx(o);return e.concat(o,o.visualViewport||[],Du(s)?s:[],l&&r?Md(l):[])}return e.concat(s,Md(s,[],r))}function nx(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Mk(t){const e=ns(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const s=Ms(t),a=s?t.offsetWidth:r,o=s?t.offsetHeight:n,l=Hf(r)!==a||Hf(n)!==o;return l&&(r=a,n=o),{width:r,height:n,$:l}}function x0(t){return rs(t)?t:t.contextElement}function Yo(t){const e=x0(t);if(!Ms(e))return Fs(1);const r=e.getBoundingClientRect(),{width:n,height:s,$:a}=Mk(e);let o=(a?Hf(r.width):r.width)/n,l=(a?Hf(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const S8=Fs(0);function Dk(t){const e=tn(t);return!y0()||!e.visualViewport?S8:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function C8(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==tn(t)?!1:e}function no(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const s=t.getBoundingClientRect(),a=x0(t);let o=Fs(1);e&&(n?rs(n)&&(o=Yo(n)):o=Yo(t));const l=C8(a,r,n)?Dk(a):Fs(0);let c=(s.left+l.x)/o.x,d=(s.top+l.y)/o.y,u=s.width/o.x,h=s.height/o.y;if(a){const f=tn(a),g=n&&rs(n)?tn(n):n;let j=f,m=nx(j);for(;m&&n&&g!==j;){const v=Yo(m),w=m.getBoundingClientRect(),y=ns(m),x=w.left+(m.clientLeft+parseFloat(y.paddingLeft))*v.x,b=w.top+(m.clientTop+parseFloat(y.paddingTop))*v.y;c*=v.x,d*=v.y,u*=v.x,h*=v.y,c+=x,d+=b,j=tn(m),m=nx(j)}}return Gf({width:u,height:h,x:c,y:d})}function v0(t,e){const r=sm(t).scrollLeft;return e?e.left+r:no($s(t)).left+r}function Lk(t,e,r){r===void 0&&(r=!1);const n=t.getBoundingClientRect(),s=n.left+e.scrollLeft-(r?0:v0(t,n)),a=n.top+e.scrollTop;return{x:s,y:a}}function _8(t){let{elements:e,rect:r,offsetParent:n,strategy:s}=t;const a=s==="fixed",o=$s(n),l=e?nm(e.floating):!1;if(n===o||l&&a)return r;let c={scrollLeft:0,scrollTop:0},d=Fs(1);const u=Fs(0),h=Ms(n);if((h||!h&&!a)&&((fc(n)!=="body"||Du(o))&&(c=sm(n)),Ms(n))){const g=no(n);d=Yo(n),u.x=g.x+n.clientLeft,u.y=g.y+n.clientTop}const f=o&&!h&&!a?Lk(o,c,!0):Fs(0);return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-c.scrollLeft*d.x+u.x+f.x,y:r.y*d.y-c.scrollTop*d.y+u.y+f.y}}function E8(t){return Array.from(t.getClientRects())}function T8(t){const e=$s(t),r=sm(t),n=t.ownerDocument.body,s=Qr(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),a=Qr(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+v0(t);const l=-r.scrollTop;return ns(n).direction==="rtl"&&(o+=Qr(e.clientWidth,n.clientWidth)-s),{width:s,height:a,x:o,y:l}}function k8(t,e){const r=tn(t),n=$s(t),s=r.visualViewport;let a=n.clientWidth,o=n.clientHeight,l=0,c=0;if(s){a=s.width,o=s.height;const d=y0();(!d||d&&e==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:a,height:o,x:l,y:c}}function P8(t,e){const r=no(t,!0,e==="fixed"),n=r.top+t.clientTop,s=r.left+t.clientLeft,a=Ms(t)?Yo(t):Fs(1),o=t.clientWidth*a.x,l=t.clientHeight*a.y,c=s*a.x,d=n*a.y;return{width:o,height:l,x:c,y:d}}function h1(t,e,r){let n;if(e==="viewport")n=k8(t,r);else if(e==="document")n=T8($s(t));else if(rs(e))n=P8(e,r);else{const s=Dk(t);n={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Gf(n)}function $k(t,e){const r=na(t);return r===e||!rs(r)||Xl(r)?!1:ns(r).position==="fixed"||$k(r,e)}function A8(t,e){const r=e.get(t);if(r)return r;let n=Md(t,[],!1).filter(l=>rs(l)&&fc(l)!=="body"),s=null;const a=ns(t).position==="fixed";let o=a?na(t):t;for(;rs(o)&&!Xl(o);){const l=ns(o),c=g0(o);!c&&l.position==="fixed"&&(s=null),(a?!c&&!s:!c&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Du(o)&&!c&&$k(t,o))?n=n.filter(u=>u!==o):s=l,o=na(o)}return e.set(t,n),n}function R8(t){let{element:e,boundary:r,rootBoundary:n,strategy:s}=t;const o=[...r==="clippingAncestors"?nm(e)?[]:A8(e,this._c):[].concat(r),n],l=o[0],c=o.reduce((d,u)=>{const h=h1(e,u,s);return d.top=Qr(h.top,d.top),d.right=ta(h.right,d.right),d.bottom=ta(h.bottom,d.bottom),d.left=Qr(h.left,d.left),d},h1(e,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function O8(t){const{width:e,height:r}=Mk(t);return{width:e,height:r}}function F8(t,e,r){const n=Ms(e),s=$s(e),a=r==="fixed",o=no(t,!0,a,e);let l={scrollLeft:0,scrollTop:0};const c=Fs(0);if(n||!n&&!a)if((fc(e)!=="body"||Du(s))&&(l=sm(e)),n){const f=no(e,!0,a,e);c.x=f.x+e.clientLeft,c.y=f.y+e.clientTop}else s&&(c.x=v0(s));const d=s&&!n&&!a?Lk(s,l):Fs(0),u=o.left+l.scrollLeft-c.x-d.x,h=o.top+l.scrollTop-c.y-d.y;return{x:u,y:h,width:o.width,height:o.height}}function cg(t){return ns(t).position==="static"}function f1(t,e){if(!Ms(t)||ns(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return $s(t)===r&&(r=r.ownerDocument.body),r}function Uk(t,e){const r=tn(t);if(nm(t))return r;if(!Ms(t)){let s=na(t);for(;s&&!Xl(s);){if(rs(s)&&!cg(s))return s;s=na(s)}return r}let n=f1(t,e);for(;n&&j8(n)&&cg(n);)n=f1(n,e);return n&&Xl(n)&&cg(n)&&!g0(n)?r:n||N8(t)||r}const I8=async function(t){const e=this.getOffsetParent||Uk,r=this.getDimensions,n=await r(t.floating);return{reference:F8(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function M8(t){return ns(t).direction==="rtl"}const D8={convertOffsetParentRelativeRectToViewportRelativeRect:_8,getDocumentElement:$s,getClippingRect:R8,getOffsetParent:Uk,getElementRects:I8,getClientRects:E8,getDimensions:O8,getScale:Yo,isElement:rs,isRTL:M8};function zk(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function L8(t,e){let r=null,n;const s=$s(t);function a(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const d=t.getBoundingClientRect(),{left:u,top:h,width:f,height:g}=d;if(l||e(),!f||!g)return;const j=vh(h),m=vh(s.clientWidth-(u+f)),v=vh(s.clientHeight-(h+g)),w=vh(u),x={rootMargin:-j+"px "+-m+"px "+-v+"px "+-w+"px",threshold:Qr(0,ta(1,c))||1};let b=!0;function E(k){const T=k[0].intersectionRatio;if(T!==c){if(!b)return o();T?o(!1,T):n=setTimeout(()=>{o(!1,1e-7)},1e3)}T===1&&!zk(d,t.getBoundingClientRect())&&o(),b=!1}try{r=new IntersectionObserver(E,{...x,root:s.ownerDocument})}catch{r=new IntersectionObserver(E,x)}r.observe(t)}return o(!0),a}function $8(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,d=x0(t),u=s||a?[...d?Md(d):[],...Md(e)]:[];u.forEach(w=>{s&&w.addEventListener("scroll",r,{passive:!0}),a&&w.addEventListener("resize",r)});const h=d&&l?L8(d,r):null;let f=-1,g=null;o&&(g=new ResizeObserver(w=>{let[y]=w;y&&y.target===d&&g&&(g.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var x;(x=g)==null||x.observe(e)})),r()}),d&&!c&&g.observe(d),g.observe(e));let j,m=c?no(t):null;c&&v();function v(){const w=no(t);m&&!zk(m,w)&&r(),m=w,j=requestAnimationFrame(v)}return r(),()=>{var w;u.forEach(y=>{s&&y.removeEventListener("scroll",r),a&&y.removeEventListener("resize",r)}),h==null||h(),(w=g)==null||w.disconnect(),g=null,c&&cancelAnimationFrame(j)}}const U8=x8,z8=v8,B8=m8,V8=w8,q8=g8,p1=p8,H8=b8,W8=(t,e,r)=>{const n=new Map,s={platform:D8,...r},a={...s.platform,_c:n};return f8(t,e,{...s,platform:a})};var tf=typeof document<"u"?p.useLayoutEffect:p.useEffect;function Kf(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!Kf(t[n],e[n]))return!1;return!0}if(s=Object.keys(t),r=s.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,s[n]))return!1;for(n=r;n--!==0;){const a=s[n];if(!(a==="_owner"&&t.$$typeof)&&!Kf(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function Bk(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function m1(t,e){const r=Bk(t);return Math.round(e*r)/r}function dg(t){const e=p.useRef(t);return tf(()=>{e.current=t}),e}function G8(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:a,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=t,[u,h]=p.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[f,g]=p.useState(n);Kf(f,n)||g(n);const[j,m]=p.useState(null),[v,w]=p.useState(null),y=p.useCallback(F=>{F!==k.current&&(k.current=F,m(F))},[]),x=p.useCallback(F=>{F!==T.current&&(T.current=F,w(F))},[]),b=a||j,E=o||v,k=p.useRef(null),T=p.useRef(null),A=p.useRef(u),O=c!=null,M=dg(c),G=dg(s),L=dg(d),R=p.useCallback(()=>{if(!k.current||!T.current)return;const F={placement:e,strategy:r,middleware:f};G.current&&(F.platform=G.current),W8(k.current,T.current,F).then($=>{const W={...$,isPositioned:L.current!==!1};I.current&&!Kf(A.current,W)&&(A.current=W,fo.flushSync(()=>{h(W)}))})},[f,e,r,G,L]);tf(()=>{d===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,h(F=>({...F,isPositioned:!1})))},[d]);const I=p.useRef(!1);tf(()=>(I.current=!0,()=>{I.current=!1}),[]),tf(()=>{if(b&&(k.current=b),E&&(T.current=E),b&&E){if(M.current)return M.current(b,E,R);R()}},[b,E,R,M,O]);const ae=p.useMemo(()=>({reference:k,floating:T,setReference:y,setFloating:x}),[y,x]),J=p.useMemo(()=>({reference:b,floating:E}),[b,E]),ce=p.useMemo(()=>{const F={position:r,left:0,top:0};if(!J.floating)return F;const $=m1(J.floating,u.x),W=m1(J.floating,u.y);return l?{...F,transform:"translate("+$+"px, "+W+"px)",...Bk(J.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:$,top:W}},[r,l,J.floating,u.x,u.y]);return p.useMemo(()=>({...u,update:R,refs:ae,elements:J,floatingStyles:ce}),[u,R,ae,J,ce])}const K8=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:s}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?p1({element:n.current,padding:s}).fn(r):{}:n?p1({element:n,padding:s}).fn(r):{}}}},Q8=(t,e)=>({...U8(t),options:[t,e]}),X8=(t,e)=>({...z8(t),options:[t,e]}),Z8=(t,e)=>({...H8(t),options:[t,e]}),Y8=(t,e)=>({...B8(t),options:[t,e]}),J8=(t,e)=>({...V8(t),options:[t,e]}),e$=(t,e)=>({...q8(t),options:[t,e]}),t$=(t,e)=>({...K8(t),options:[t,e]});var r$="Arrow",Vk=p.forwardRef((t,e)=>{const{children:r,width:n=10,height:s=5,...a}=t;return i.jsx(Te.svg,{...a,ref:e,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});Vk.displayName=r$;var n$=Vk;function b0(t){const[e,r]=p.useState(void 0);return zt(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let o,l;if("borderBoxSize"in a){const c=a.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=t.offsetWidth,l=t.offsetHeight;r({width:o,height:l})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var w0="Popper",[qk,pc]=Hr(w0),[s$,Hk]=qk(w0),Wk=t=>{const{__scopePopper:e,children:r}=t,[n,s]=p.useState(null);return i.jsx(s$,{scope:e,anchor:n,onAnchorChange:s,children:r})};Wk.displayName=w0;var Gk="PopperAnchor",Kk=p.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...s}=t,a=Hk(Gk,r),o=p.useRef(null),l=Ye(e,o);return p.useEffect(()=>{a.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:i.jsx(Te.div,{...s,ref:l})});Kk.displayName=Gk;var j0="PopperContent",[i$,a$]=qk(j0),Qk=p.forwardRef((t,e)=>{var xe,Re,Ke,Ie,ue,qe;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:g="optimized",onPlaced:j,...m}=t,v=Hk(j0,r),[w,y]=p.useState(null),x=Ye(e,Bt=>y(Bt)),[b,E]=p.useState(null),k=b0(b),T=(k==null?void 0:k.width)??0,A=(k==null?void 0:k.height)??0,O=n+(a!=="center"?"-"+a:""),M=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},G=Array.isArray(d)?d:[d],L=G.length>0,R={padding:M,boundary:G.filter(l$),altBoundary:L},{refs:I,floatingStyles:ae,placement:J,isPositioned:ce,middlewareData:F}=G8({strategy:"fixed",placement:O,whileElementsMounted:(...Bt)=>$8(...Bt,{animationFrame:g==="always"}),elements:{reference:v.anchor},middleware:[Q8({mainAxis:s+A,alignmentAxis:o}),c&&X8({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?Z8():void 0,...R}),c&&Y8({...R}),J8({...R,apply:({elements:Bt,rects:Yt,availableWidth:Tn,availableHeight:ds})=>{const{width:on,height:pa}=Yt.reference,gi=Bt.floating.style;gi.setProperty("--radix-popper-available-width",`${Tn}px`),gi.setProperty("--radix-popper-available-height",`${ds}px`),gi.setProperty("--radix-popper-anchor-width",`${on}px`),gi.setProperty("--radix-popper-anchor-height",`${pa}px`)}}),b&&t$({element:b,padding:l}),c$({arrowWidth:T,arrowHeight:A}),f&&e$({strategy:"referenceHidden",...R})]}),[$,W]=Yk(J),ne=lr(j);zt(()=>{ce&&(ne==null||ne())},[ce,ne]);const Ce=(xe=F.arrow)==null?void 0:xe.x,ut=(Re=F.arrow)==null?void 0:Re.y,tt=((Ke=F.arrow)==null?void 0:Ke.centerOffset)!==0,[_t,ot]=p.useState();return zt(()=>{w&&ot(window.getComputedStyle(w).zIndex)},[w]),i.jsx("div",{ref:I.setFloating,"data-radix-popper-content-wrapper":"",style:{...ae,transform:ce?ae.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:_t,"--radix-popper-transform-origin":[(Ie=F.transformOrigin)==null?void 0:Ie.x,(ue=F.transformOrigin)==null?void 0:ue.y].join(" "),...((qe=F.hide)==null?void 0:qe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:i.jsx(i$,{scope:r,placedSide:$,onArrowChange:E,arrowX:Ce,arrowY:ut,shouldHideArrow:tt,children:i.jsx(Te.div,{"data-side":$,"data-align":W,...m,ref:x,style:{...m.style,animation:ce?void 0:"none"}})})})});Qk.displayName=j0;var Xk="PopperArrow",o$={top:"bottom",right:"left",bottom:"top",left:"right"},Zk=p.forwardRef(function(e,r){const{__scopePopper:n,...s}=e,a=a$(Xk,n),o=o$[a.placedSide];return i.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:i.jsx(n$,{...s,ref:r,style:{...s.style,display:"block"}})})});Zk.displayName=Xk;function l$(t){return t!==null}var c$=t=>({name:"transformOrigin",options:t,fn(e){var v,w,y;const{placement:r,rects:n,middlewareData:s}=e,o=((v=s.arrow)==null?void 0:v.centerOffset)!==0,l=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[d,u]=Yk(r),h={start:"0%",center:"50%",end:"100%"}[u],f=(((w=s.arrow)==null?void 0:w.x)??0)+l/2,g=(((y=s.arrow)==null?void 0:y.y)??0)+c/2;let j="",m="";return d==="bottom"?(j=o?h:`${f}px`,m=`${-c}px`):d==="top"?(j=o?h:`${f}px`,m=`${n.floating.height+c}px`):d==="right"?(j=`${-c}px`,m=o?h:`${g}px`):d==="left"&&(j=`${n.floating.width+c}px`,m=o?h:`${g}px`),{data:{x:j,y:m}}}});function Yk(t){const[e,r="center"]=t.split("-");return[e,r]}var Jk=Wk,N0=Kk,S0=Qk,C0=Zk,[im,XZ]=Hr("Tooltip",[pc]),_0=pc(),eP="TooltipProvider",d$=700,g1="tooltip.open",[u$,tP]=im(eP),rP=t=>{const{__scopeTooltip:e,delayDuration:r=d$,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:a}=t,o=p.useRef(!0),l=p.useRef(!1),c=p.useRef(0);return p.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),i.jsx(u$,{scope:e,isOpenDelayedRef:o,delayDuration:r,onOpen:p.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:p.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:p.useCallback(d=>{l.current=d},[]),disableHoverableContent:s,children:a})};rP.displayName=eP;var nP="Tooltip",[ZZ,am]=im(nP),sx="TooltipTrigger",h$=p.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,s=am(sx,r),a=tP(sx,r),o=_0(r),l=p.useRef(null),c=Ye(e,l,s.onTriggerChange),d=p.useRef(!1),u=p.useRef(!1),h=p.useCallback(()=>d.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),i.jsx(N0,{asChild:!0,...o,children:i.jsx(Te.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:c,onPointerMove:re(t.onPointerMove,f=>{f.pointerType!=="touch"&&!u.current&&!a.isPointerInTransitRef.current&&(s.onTriggerEnter(),u.current=!0)}),onPointerLeave:re(t.onPointerLeave,()=>{s.onTriggerLeave(),u.current=!1}),onPointerDown:re(t.onPointerDown,()=>{s.open&&s.onClose(),d.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:re(t.onFocus,()=>{d.current||s.onOpen()}),onBlur:re(t.onBlur,s.onClose),onClick:re(t.onClick,s.onClose)})})});h$.displayName=sx;var f$="TooltipPortal",[YZ,p$]=im(f$,{forceMount:void 0}),Zl="TooltipContent",sP=p.forwardRef((t,e)=>{const r=p$(Zl,t.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...a}=t,o=am(Zl,t.__scopeTooltip);return i.jsx(Sn,{present:n||o.open,children:o.disableHoverableContent?i.jsx(iP,{side:s,...a,ref:e}):i.jsx(m$,{side:s,...a,ref:e})})}),m$=p.forwardRef((t,e)=>{const r=am(Zl,t.__scopeTooltip),n=tP(Zl,t.__scopeTooltip),s=p.useRef(null),a=Ye(e,s),[o,l]=p.useState(null),{trigger:c,onClose:d}=r,u=s.current,{onPointerInTransitChange:h}=n,f=p.useCallback(()=>{l(null),h(!1)},[h]),g=p.useCallback((j,m)=>{const v=j.currentTarget,w={x:j.clientX,y:j.clientY},y=b$(w,v.getBoundingClientRect()),x=w$(w,y),b=j$(m.getBoundingClientRect()),E=S$([...x,...b]);l(E),h(!0)},[h]);return p.useEffect(()=>()=>f(),[f]),p.useEffect(()=>{if(c&&u){const j=v=>g(v,u),m=v=>g(v,c);return c.addEventListener("pointerleave",j),u.addEventListener("pointerleave",m),()=>{c.removeEventListener("pointerleave",j),u.removeEventListener("pointerleave",m)}}},[c,u,g,f]),p.useEffect(()=>{if(o){const j=m=>{const v=m.target,w={x:m.clientX,y:m.clientY},y=(c==null?void 0:c.contains(v))||(u==null?void 0:u.contains(v)),x=!N$(w,o);y?f():x&&(f(),d())};return document.addEventListener("pointermove",j),()=>document.removeEventListener("pointermove",j)}},[c,u,o,d,f]),i.jsx(iP,{...t,ref:a})}),[g$,y$]=im(nP,{isInside:!1}),x$=lL("TooltipContent"),iP=p.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:a,onPointerDownOutside:o,...l}=t,c=am(Zl,r),d=_0(r),{onClose:u}=c;return p.useEffect(()=>(document.addEventListener(g1,u),()=>document.removeEventListener(g1,u)),[u]),p.useEffect(()=>{if(c.trigger){const h=f=>{const g=f.target;g!=null&&g.contains(c.trigger)&&u()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,u]),i.jsx(dc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:u,children:i.jsxs(S0,{"data-state":c.stateAttribute,...d,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[i.jsx(x$,{children:n}),i.jsx(g$,{scope:r,isInside:!0,children:i.jsx(TL,{id:c.contentId,role:"tooltip",children:s||n})})]})})});sP.displayName=Zl;var aP="TooltipArrow",v$=p.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,s=_0(r);return y$(aP,r).isInside?null:i.jsx(C0,{...s,...n,ref:e})});v$.displayName=aP;function b$(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),a=Math.abs(e.left-t.x);switch(Math.min(r,n,s,a)){case a:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function w$(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function j$(t){const{top:e,right:r,bottom:n,left:s}=t;return[{x:s,y:e},{x:r,y:e},{x:r,y:n},{x:s,y:n}]}function N$(t,e){const{x:r,y:n}=t;let s=!1;for(let a=0,o=e.length-1;a<e.length;o=a++){const l=e[a].x,c=e[a].y,d=e[o].x,u=e[o].y;c>n!=u>n&&r<(d-l)*(n-c)/(u-c)+l&&(s=!s)}return s}function S$(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),C$(e)}function C$(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const s=t[n];for(;e.length>=2;){const a=e[e.length-1],o=e[e.length-2];if((a.x-o.x)*(s.y-o.y)>=(a.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const s=t[n];for(;r.length>=2;){const a=r[r.length-1],o=r[r.length-2];if((a.x-o.x)*(s.y-o.y)>=(a.y-o.y)*(s.x-o.x))r.pop();else break}r.push(s)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var _$=rP,oP=sP;const E$=_$,T$=p.forwardRef(({className:t,sideOffset:e=4,...r},n)=>i.jsx(oP,{ref:n,sideOffset:e,className:me("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...r}));T$.displayName=oP.displayName;const lP=p.createContext(null);function k$({children:t}){const{toast:e}=cr(),{data:r,error:n,isLoading:s}=nt({queryKey:["/api/user"],queryFn:zT({on401:"returnNull"}),retry:!1}),a=rt({mutationFn:async c=>await(await Be("POST","/api/login",c)).json(),onSuccess:c=>{Qh.setQueryData(["/api/user"],c)},onError:c=>{e({title:"Login failed",description:c.message,variant:"destructive"})}}),o=rt({mutationFn:async c=>await(await Be("POST","/api/register",c)).json(),onSuccess:c=>{Qh.setQueryData(["/api/user"],c)},onError:c=>{e({title:"Registration failed",description:c.message,variant:"destructive"})}}),l=rt({mutationFn:async()=>{await Be("POST","/api/logout")},onSuccess:()=>{Qh.setQueryData(["/api/user"],null)},onError:c=>{e({title:"Logout failed",description:c.message,variant:"destructive"})}});return i.jsx(lP.Provider,{value:{user:r??null,isLoading:s,error:n,loginMutation:a,logoutMutation:l,registerMutation:o},children:t})}function Cn(){const t=p.useContext(lP);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t}const cP=p.createContext(null);function P$(t,e){switch(e.type){case"ADD_ITEM":{const r=t.items.findIndex(n=>n.product.id===e.product.id);if(r>=0){const n=[...t.items];return n[r].quantity+=e.quantity,{...t,items:n}}return{...t,items:[...t.items,{product:e.product,quantity:e.quantity}]}}case"REMOVE_ITEM":return{...t,items:t.items.filter(r=>r.product.id!==e.productId)};case"UPDATE_QUANTITY":return e.quantity<=0?{...t,items:t.items.filter(r=>r.product.id!==e.productId)}:{...t,items:t.items.map(r=>r.product.id===e.productId?{...r,quantity:e.quantity}:r)};case"CLEAR_CART":return{...t,items:[]};case"TOGGLE_CART":return{...t,isOpen:!t.isOpen};case"OPEN_CART":return{...t,isOpen:!0};case"CLOSE_CART":return{...t,isOpen:!1};default:return t}}function A$({children:t}){const[e,r]=p.useReducer(P$,{items:[],isOpen:!1}),n=(f,g=1)=>{r({type:"ADD_ITEM",product:f,quantity:g})},s=f=>{r({type:"REMOVE_ITEM",productId:f})},a=(f,g)=>{r({type:"UPDATE_QUANTITY",productId:f,quantity:g})},o=()=>{r({type:"CLEAR_CART"})},l=()=>{r({type:"TOGGLE_CART"})},c=()=>{r({type:"OPEN_CART"})},d=()=>{r({type:"CLOSE_CART"})},u=()=>e.items.reduce((f,g)=>f+g.quantity,0),h=()=>e.items.reduce((f,g)=>{const j=parseFloat(g.product.price);return f+j*g.quantity},0);return i.jsx(cP.Provider,{value:{state:e,dispatch:r,addToCart:n,removeFromCart:s,updateQuantity:a,clearCart:o,toggleCart:l,openCart:c,closeCart:d,getTotalItems:u,getTotalPrice:h},children:t})}function po(){const t=p.useContext(cP);if(!t)throw new Error("useCart must be used within a CartProvider");return t}function ug({path:t,component:e}){const{user:r,isLoading:n}=Cn();return n?i.jsx(ps,{path:t,children:i.jsx("div",{className:"flex items-center justify-center min-h-screen",children:i.jsx(ef,{className:"h-8 w-8 animate-spin text-border"})})}):r?i.jsx(e,{}):i.jsx(ps,{path:t,children:i.jsx(j3,{to:"/auth"})})}const R$=Iu("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),z=p.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...s},a)=>{const o=n?BT:"button";return i.jsx(o,{className:me(R$({variant:e,size:r,className:t})),ref:a,...s})});z.displayName="Button";const pe=p.forwardRef(({className:t,type:e,...r},n)=>i.jsx("input",{type:e,className:me("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...r}));pe.displayName="Input";var E0="Avatar",[O$,JZ]=Hr(E0),[F$,dP]=O$(E0),uP=p.forwardRef((t,e)=>{const{__scopeAvatar:r,...n}=t,[s,a]=p.useState("idle");return i.jsx(F$,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:a,children:i.jsx(Te.span,{...n,ref:e})})});uP.displayName=E0;var hP="AvatarImage",fP=p.forwardRef((t,e)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:s=()=>{},...a}=t,o=dP(hP,r),l=I$(n,a),c=lr(d=>{s(d),o.onImageLoadingStatusChange(d)});return zt(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?i.jsx(Te.img,{...a,ref:e,src:n}):null});fP.displayName=hP;var pP="AvatarFallback",mP=p.forwardRef((t,e)=>{const{__scopeAvatar:r,delayMs:n,...s}=t,a=dP(pP,r),[o,l]=p.useState(n===void 0);return p.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&a.imageLoadingStatus!=="loaded"?i.jsx(Te.span,{...s,ref:e}):null});mP.displayName=pP;function y1(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function I$(t,{referrerPolicy:e,crossOrigin:r}){const n=D$(),s=p.useRef(null),a=n?(s.current||(s.current=new window.Image),s.current):null,[o,l]=p.useState(()=>y1(a,t));return zt(()=>{l(y1(a,t))},[a,t]),zt(()=>{const c=h=>()=>{l(h)};if(!a)return;const d=c("loaded"),u=c("error");return a.addEventListener("load",d),a.addEventListener("error",u),e&&(a.referrerPolicy=e),typeof r=="string"&&(a.crossOrigin=r),()=>{a.removeEventListener("load",d),a.removeEventListener("error",u)}},[a,r,e]),o}function M$(){return()=>{}}function D$(){return p.useSyncExternalStore(M$,()=>!0,()=>!1)}var gP=uP,yP=fP,xP=mP;const T0=p.forwardRef(({className:t,...e},r)=>i.jsx(gP,{ref:r,className:me("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));T0.displayName=gP.displayName;const L$=p.forwardRef(({className:t,...e},r)=>i.jsx(yP,{ref:r,className:me("aspect-square h-full w-full",t),...e}));L$.displayName=yP.displayName;const k0=p.forwardRef(({className:t,...e},r)=>i.jsx(xP,{ref:r,className:me("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));k0.displayName=xP.displayName;const $$=Iu("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function _e({className:t,variant:e,...r}){return i.jsx("div",{className:me($$({variant:e}),t),...r})}var U$=p.createContext(void 0);function Lu(t){const e=p.useContext(U$);return t||e||"ltr"}var hg=0;function P0(){p.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??x1()),document.body.insertAdjacentElement("beforeend",t[1]??x1()),hg++,()=>{hg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),hg--}},[])}function x1(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var fg="focusScope.autoFocusOnMount",pg="focusScope.autoFocusOnUnmount",v1={bubbles:!1,cancelable:!0},z$="FocusScope",om=p.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...o}=t,[l,c]=p.useState(null),d=lr(s),u=lr(a),h=p.useRef(null),f=Ye(e,m=>c(m)),g=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(n){let m=function(x){if(g.paused||!l)return;const b=x.target;l.contains(b)?h.current=b:wi(h.current,{select:!0})},v=function(x){if(g.paused||!l)return;const b=x.relatedTarget;b!==null&&(l.contains(b)||wi(h.current,{select:!0}))},w=function(x){if(document.activeElement===document.body)for(const E of x)E.removedNodes.length>0&&wi(l)};document.addEventListener("focusin",m),document.addEventListener("focusout",v);const y=new MutationObserver(w);return l&&y.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",v),y.disconnect()}}},[n,l,g.paused]),p.useEffect(()=>{if(l){w1.add(g);const m=document.activeElement;if(!l.contains(m)){const w=new CustomEvent(fg,v1);l.addEventListener(fg,d),l.dispatchEvent(w),w.defaultPrevented||(B$(G$(vP(l)),{select:!0}),document.activeElement===m&&wi(l))}return()=>{l.removeEventListener(fg,d),setTimeout(()=>{const w=new CustomEvent(pg,v1);l.addEventListener(pg,u),l.dispatchEvent(w),w.defaultPrevented||wi(m??document.body,{select:!0}),l.removeEventListener(pg,u),w1.remove(g)},0)}}},[l,d,u,g]);const j=p.useCallback(m=>{if(!r&&!n||g.paused)return;const v=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,w=document.activeElement;if(v&&w){const y=m.currentTarget,[x,b]=V$(y);x&&b?!m.shiftKey&&w===b?(m.preventDefault(),r&&wi(x,{select:!0})):m.shiftKey&&w===x&&(m.preventDefault(),r&&wi(b,{select:!0})):w===y&&m.preventDefault()}},[r,n,g.paused]);return i.jsx(Te.div,{tabIndex:-1,...o,ref:f,onKeyDown:j})});om.displayName=z$;function B$(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(wi(n,{select:e}),document.activeElement!==r)return}function V$(t){const e=vP(t),r=b1(e,t),n=b1(e.reverse(),t);return[r,n]}function vP(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function b1(t,e){for(const r of t)if(!q$(r,{upTo:e}))return r}function q$(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function H$(t){return t instanceof HTMLInputElement&&"select"in t}function wi(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&H$(t)&&e&&t.select()}}var w1=W$();function W$(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=j1(t,e),t.unshift(e)},remove(e){var r;t=j1(t,e),(r=t[0])==null||r.resume()}}}function j1(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function G$(t){return t.filter(e=>e.tagName!=="A")}var mg="rovingFocusGroup.onEntryFocus",K$={bubbles:!1,cancelable:!0},lm="RovingFocusGroup",[ix,bP,Q$]=Zp(lm),[X$,mc]=Hr(lm,[Q$]),[Z$,Y$]=X$(lm),wP=p.forwardRef((t,e)=>i.jsx(ix.Provider,{scope:t.__scopeRovingFocusGroup,children:i.jsx(ix.Slot,{scope:t.__scopeRovingFocusGroup,children:i.jsx(J$,{...t,ref:e})})}));wP.displayName=lm;var J$=p.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...h}=t,f=p.useRef(null),g=Ye(e,f),j=Lu(a),[m=null,v]=ci({prop:o,defaultProp:l,onChange:c}),[w,y]=p.useState(!1),x=lr(d),b=bP(r),E=p.useRef(!1),[k,T]=p.useState(0);return p.useEffect(()=>{const A=f.current;if(A)return A.addEventListener(mg,x),()=>A.removeEventListener(mg,x)},[x]),i.jsx(Z$,{scope:r,orientation:n,dir:j,loop:s,currentTabStopId:m,onItemFocus:p.useCallback(A=>v(A),[v]),onItemShiftTab:p.useCallback(()=>y(!0),[]),onFocusableItemAdd:p.useCallback(()=>T(A=>A+1),[]),onFocusableItemRemove:p.useCallback(()=>T(A=>A-1),[]),children:i.jsx(Te.div,{tabIndex:w||k===0?-1:0,"data-orientation":n,...h,ref:g,style:{outline:"none",...t.style},onMouseDown:re(t.onMouseDown,()=>{E.current=!0}),onFocus:re(t.onFocus,A=>{const O=!E.current;if(A.target===A.currentTarget&&O&&!w){const M=new CustomEvent(mg,K$);if(A.currentTarget.dispatchEvent(M),!M.defaultPrevented){const G=b().filter(J=>J.focusable),L=G.find(J=>J.active),R=G.find(J=>J.id===m),ae=[L,R,...G].filter(Boolean).map(J=>J.ref.current);SP(ae,u)}}E.current=!1}),onBlur:re(t.onBlur,()=>y(!1))})})}),jP="RovingFocusGroupItem",NP=p.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:a,...o}=t,l=Os(),c=a||l,d=Y$(jP,r),u=d.currentTabStopId===c,h=bP(r),{onFocusableItemAdd:f,onFocusableItemRemove:g}=d;return p.useEffect(()=>{if(n)return f(),()=>g()},[n,f,g]),i.jsx(ix.ItemSlot,{scope:r,id:c,focusable:n,active:s,children:i.jsx(Te.span,{tabIndex:u?0:-1,"data-orientation":d.orientation,...o,ref:e,onMouseDown:re(t.onMouseDown,j=>{n?d.onItemFocus(c):j.preventDefault()}),onFocus:re(t.onFocus,()=>d.onItemFocus(c)),onKeyDown:re(t.onKeyDown,j=>{if(j.key==="Tab"&&j.shiftKey){d.onItemShiftTab();return}if(j.target!==j.currentTarget)return;const m=rU(j,d.orientation,d.dir);if(m!==void 0){if(j.metaKey||j.ctrlKey||j.altKey||j.shiftKey)return;j.preventDefault();let w=h().filter(y=>y.focusable).map(y=>y.ref.current);if(m==="last")w.reverse();else if(m==="prev"||m==="next"){m==="prev"&&w.reverse();const y=w.indexOf(j.currentTarget);w=d.loop?nU(w,y+1):w.slice(y+1)}setTimeout(()=>SP(w))}})})})});NP.displayName=jP;var eU={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function tU(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function rU(t,e,r){const n=tU(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return eU[n]}function SP(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function nU(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var A0=wP,R0=NP,sU=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},wo=new WeakMap,bh=new WeakMap,wh={},gg=0,CP=function(t){return t&&(t.host||CP(t.parentNode))},iU=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=CP(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},aU=function(t,e,r,n){var s=iU(e,Array.isArray(t)?t:[t]);wh[r]||(wh[r]=new WeakMap);var a=wh[r],o=[],l=new Set,c=new Set(s),d=function(h){!h||l.has(h)||(l.add(h),d(h.parentNode))};s.forEach(d);var u=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(f){if(l.has(f))u(f);else try{var g=f.getAttribute(n),j=g!==null&&g!=="false",m=(wo.get(f)||0)+1,v=(a.get(f)||0)+1;wo.set(f,m),a.set(f,v),o.push(f),m===1&&j&&bh.set(f,!0),v===1&&f.setAttribute(r,"true"),j||f.setAttribute(n,"true")}catch(w){console.error("aria-hidden: cannot operate on ",f,w)}})};return u(e),l.clear(),gg++,function(){o.forEach(function(h){var f=wo.get(h)-1,g=a.get(h)-1;wo.set(h,f),a.set(h,g),f||(bh.has(h)||h.removeAttribute(n),bh.delete(h)),g||h.removeAttribute(r)}),gg--,gg||(wo=new WeakMap,wo=new WeakMap,bh=new WeakMap,wh={})}},O0=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),s=sU(t);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),aU(n,s,r,"aria-hidden")):function(){return null}},_s=function(){return _s=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},_s.apply(this,arguments)};function _P(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function oU(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,a;n<s;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))}var rf="right-scroll-bar-position",nf="width-before-scroll-bar",lU="with-scroll-bars-hidden",cU="--removed-body-scroll-bar-size";function yg(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function dU(t,e){var r=p.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=e,r.facade}var uU=typeof window<"u"?p.useLayoutEffect:p.useEffect,N1=new WeakMap;function hU(t,e){var r=dU(null,function(n){return t.forEach(function(s){return yg(s,n)})});return uU(function(){var n=N1.get(r);if(n){var s=new Set(n),a=new Set(t),o=r.current;s.forEach(function(l){a.has(l)||yg(l,null)}),a.forEach(function(l){s.has(l)||yg(l,o)})}N1.set(r,t)},[t]),r}function fU(t){return t}function pU(t,e){e===void 0&&(e=fU);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(a){var o=e(a,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(a){for(n=!0;r.length;){var o=r;r=[],o.forEach(a)}r={push:function(l){return a(l)},filter:function(){return r}}},assignMedium:function(a){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(a),o=r}var c=function(){var u=o;o=[],u.forEach(a)},d=function(){return Promise.resolve().then(c)};d(),r={push:function(u){o.push(u),d()},filter:function(u){return o=o.filter(u),r}}}};return s}function mU(t){t===void 0&&(t={});var e=pU(null);return e.options=_s({async:!0,ssr:!1},t),e}var EP=function(t){var e=t.sideCar,r=_P(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return p.createElement(n,_s({},r))};EP.isSideCarExport=!0;function gU(t,e){return t.useMedium(e),EP}var TP=mU(),xg=function(){},cm=p.forwardRef(function(t,e){var r=p.useRef(null),n=p.useState({onScrollCapture:xg,onWheelCapture:xg,onTouchMoveCapture:xg}),s=n[0],a=n[1],o=t.forwardProps,l=t.children,c=t.className,d=t.removeScrollBar,u=t.enabled,h=t.shards,f=t.sideCar,g=t.noIsolation,j=t.inert,m=t.allowPinchZoom,v=t.as,w=v===void 0?"div":v,y=t.gapMode,x=_P(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),b=f,E=hU([r,e]),k=_s(_s({},x),s);return p.createElement(p.Fragment,null,u&&p.createElement(b,{sideCar:TP,removeScrollBar:d,shards:h,noIsolation:g,inert:j,setCallbacks:a,allowPinchZoom:!!m,lockRef:r,gapMode:y}),o?p.cloneElement(p.Children.only(l),_s(_s({},k),{ref:E})):p.createElement(w,_s({},k,{className:c,ref:E}),l))});cm.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};cm.classNames={fullWidth:nf,zeroRight:rf};var yU=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function xU(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=yU();return e&&t.setAttribute("nonce",e),t}function vU(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function bU(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var wU=function(){var t=0,e=null;return{add:function(r){t==0&&(e=xU())&&(vU(e,r),bU(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},jU=function(){var t=wU();return function(e,r){p.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},kP=function(){var t=jU(),e=function(r){var n=r.styles,s=r.dynamic;return t(n,s),null};return e},NU={left:0,top:0,right:0,gap:0},vg=function(t){return parseInt(t||"",10)||0},SU=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[vg(r),vg(n),vg(s)]},CU=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return NU;var e=SU(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},_U=kP(),Jo="data-scroll-locked",EU=function(t,e,r,n){var s=t.left,a=t.top,o=t.right,l=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(lU,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Jo,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(rf,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(nf,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(rf," .").concat(rf,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(nf," .").concat(nf,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Jo,`] {
    `).concat(cU,": ").concat(l,`px;
  }
`)},S1=function(){var t=parseInt(document.body.getAttribute(Jo)||"0",10);return isFinite(t)?t:0},TU=function(){p.useEffect(function(){return document.body.setAttribute(Jo,(S1()+1).toString()),function(){var t=S1()-1;t<=0?document.body.removeAttribute(Jo):document.body.setAttribute(Jo,t.toString())}},[])},kU=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,s=n===void 0?"margin":n;TU();var a=p.useMemo(function(){return CU(s)},[s]);return p.createElement(_U,{styles:EU(a,!e,s,r?"":"!important")})},ax=!1;if(typeof window<"u")try{var jh=Object.defineProperty({},"passive",{get:function(){return ax=!0,!0}});window.addEventListener("test",jh,jh),window.removeEventListener("test",jh,jh)}catch{ax=!1}var jo=ax?{passive:!1}:!1,PU=function(t){return t.tagName==="TEXTAREA"},PP=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!PU(t)&&r[e]==="visible")},AU=function(t){return PP(t,"overflowY")},RU=function(t){return PP(t,"overflowX")},C1=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=AP(t,n);if(s){var a=RP(t,n),o=a[1],l=a[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},OU=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},FU=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},AP=function(t,e){return t==="v"?AU(e):RU(e)},RP=function(t,e){return t==="v"?OU(e):FU(e)},IU=function(t,e){return t==="h"&&e==="rtl"?-1:1},MU=function(t,e,r,n,s){var a=IU(t,window.getComputedStyle(e).direction),o=a*n,l=r.target,c=e.contains(l),d=!1,u=o>0,h=0,f=0;do{var g=RP(t,l),j=g[0],m=g[1],v=g[2],w=m-v-a*j;(j||w)&&AP(t,l)&&(h+=w,f+=j),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(u&&(Math.abs(h)<1||!s)||!u&&(Math.abs(f)<1||!s))&&(d=!0),d},Nh=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},_1=function(t){return[t.deltaX,t.deltaY]},E1=function(t){return t&&"current"in t?t.current:t},DU=function(t,e){return t[0]===e[0]&&t[1]===e[1]},LU=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},$U=0,No=[];function UU(t){var e=p.useRef([]),r=p.useRef([0,0]),n=p.useRef(),s=p.useState($U++)[0],a=p.useState(kP)[0],o=p.useRef(t);p.useEffect(function(){o.current=t},[t]),p.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var m=oU([t.lockRef.current],(t.shards||[]).map(E1),!0).filter(Boolean);return m.forEach(function(v){return v.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),m.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var l=p.useCallback(function(m,v){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!o.current.allowPinchZoom;var w=Nh(m),y=r.current,x="deltaX"in m?m.deltaX:y[0]-w[0],b="deltaY"in m?m.deltaY:y[1]-w[1],E,k=m.target,T=Math.abs(x)>Math.abs(b)?"h":"v";if("touches"in m&&T==="h"&&k.type==="range")return!1;var A=C1(T,k);if(!A)return!0;if(A?E=T:(E=T==="v"?"h":"v",A=C1(T,k)),!A)return!1;if(!n.current&&"changedTouches"in m&&(x||b)&&(n.current=E),!E)return!0;var O=n.current||E;return MU(O,v,m,O==="h"?x:b,!0)},[]),c=p.useCallback(function(m){var v=m;if(!(!No.length||No[No.length-1]!==a)){var w="deltaY"in v?_1(v):Nh(v),y=e.current.filter(function(E){return E.name===v.type&&(E.target===v.target||v.target===E.shadowParent)&&DU(E.delta,w)})[0];if(y&&y.should){v.cancelable&&v.preventDefault();return}if(!y){var x=(o.current.shards||[]).map(E1).filter(Boolean).filter(function(E){return E.contains(v.target)}),b=x.length>0?l(v,x[0]):!o.current.noIsolation;b&&v.cancelable&&v.preventDefault()}}},[]),d=p.useCallback(function(m,v,w,y){var x={name:m,delta:v,target:w,should:y,shadowParent:zU(w)};e.current.push(x),setTimeout(function(){e.current=e.current.filter(function(b){return b!==x})},1)},[]),u=p.useCallback(function(m){r.current=Nh(m),n.current=void 0},[]),h=p.useCallback(function(m){d(m.type,_1(m),m.target,l(m,t.lockRef.current))},[]),f=p.useCallback(function(m){d(m.type,Nh(m),m.target,l(m,t.lockRef.current))},[]);p.useEffect(function(){return No.push(a),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",c,jo),document.addEventListener("touchmove",c,jo),document.addEventListener("touchstart",u,jo),function(){No=No.filter(function(m){return m!==a}),document.removeEventListener("wheel",c,jo),document.removeEventListener("touchmove",c,jo),document.removeEventListener("touchstart",u,jo)}},[]);var g=t.removeScrollBar,j=t.inert;return p.createElement(p.Fragment,null,j?p.createElement(a,{styles:LU(s)}):null,g?p.createElement(kU,{gapMode:t.gapMode}):null)}function zU(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const BU=gU(TP,UU);var dm=p.forwardRef(function(t,e){return p.createElement(cm,_s({},t,{ref:e,sideCar:BU}))});dm.classNames=cm.classNames;var ox=["Enter"," "],VU=["ArrowDown","PageUp","Home"],OP=["ArrowUp","PageDown","End"],qU=[...VU,...OP],HU={ltr:[...ox,"ArrowRight"],rtl:[...ox,"ArrowLeft"]},WU={ltr:["ArrowLeft"],rtl:["ArrowRight"]},$u="Menu",[Dd,GU,KU]=Zp($u),[mo,FP]=Hr($u,[KU,pc,mc]),um=pc(),IP=mc(),[QU,go]=mo($u),[XU,Uu]=mo($u),MP=t=>{const{__scopeMenu:e,open:r=!1,children:n,dir:s,onOpenChange:a,modal:o=!0}=t,l=um(e),[c,d]=p.useState(null),u=p.useRef(!1),h=lr(a),f=Lu(s);return p.useEffect(()=>{const g=()=>{u.current=!0,document.addEventListener("pointerdown",j,{capture:!0,once:!0}),document.addEventListener("pointermove",j,{capture:!0,once:!0})},j=()=>u.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",j,{capture:!0}),document.removeEventListener("pointermove",j,{capture:!0})}},[]),i.jsx(Jk,{...l,children:i.jsx(QU,{scope:e,open:r,onOpenChange:h,content:c,onContentChange:d,children:i.jsx(XU,{scope:e,onClose:p.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:u,dir:f,modal:o,children:n})})})};MP.displayName=$u;var ZU="MenuAnchor",F0=p.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,s=um(r);return i.jsx(N0,{...s,...n,ref:e})});F0.displayName=ZU;var I0="MenuPortal",[YU,DP]=mo(I0,{forceMount:void 0}),LP=t=>{const{__scopeMenu:e,forceMount:r,children:n,container:s}=t,a=go(I0,e);return i.jsx(YU,{scope:e,forceMount:r,children:i.jsx(Sn,{present:r||a.open,children:i.jsx(Ou,{asChild:!0,container:s,children:n})})})};LP.displayName=I0;var vn="MenuContent",[JU,M0]=mo(vn),$P=p.forwardRef((t,e)=>{const r=DP(vn,t.__scopeMenu),{forceMount:n=r.forceMount,...s}=t,a=go(vn,t.__scopeMenu),o=Uu(vn,t.__scopeMenu);return i.jsx(Dd.Provider,{scope:t.__scopeMenu,children:i.jsx(Sn,{present:n||a.open,children:i.jsx(Dd.Slot,{scope:t.__scopeMenu,children:o.modal?i.jsx(e7,{...s,ref:e}):i.jsx(t7,{...s,ref:e})})})})}),e7=p.forwardRef((t,e)=>{const r=go(vn,t.__scopeMenu),n=p.useRef(null),s=Ye(e,n);return p.useEffect(()=>{const a=n.current;if(a)return O0(a)},[]),i.jsx(D0,{...t,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:re(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),t7=p.forwardRef((t,e)=>{const r=go(vn,t.__scopeMenu);return i.jsx(D0,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),r7=to("MenuContent.ScrollLock"),D0=p.forwardRef((t,e)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:f,onDismiss:g,disableOutsideScroll:j,...m}=t,v=go(vn,r),w=Uu(vn,r),y=um(r),x=IP(r),b=GU(r),[E,k]=p.useState(null),T=p.useRef(null),A=Ye(e,T,v.onContentChange),O=p.useRef(0),M=p.useRef(""),G=p.useRef(0),L=p.useRef(null),R=p.useRef("right"),I=p.useRef(0),ae=j?dm:p.Fragment,J=j?{as:r7,allowPinchZoom:!0}:void 0,ce=$=>{var xe,Re;const W=M.current+$,ne=b().filter(Ke=>!Ke.disabled),Ce=document.activeElement,ut=(xe=ne.find(Ke=>Ke.ref.current===Ce))==null?void 0:xe.textValue,tt=ne.map(Ke=>Ke.textValue),_t=p7(tt,W,ut),ot=(Re=ne.find(Ke=>Ke.textValue===_t))==null?void 0:Re.ref.current;(function Ke(Ie){M.current=Ie,window.clearTimeout(O.current),Ie!==""&&(O.current=window.setTimeout(()=>Ke(""),1e3))})(W),ot&&setTimeout(()=>ot.focus())};p.useEffect(()=>()=>window.clearTimeout(O.current),[]),P0();const F=p.useCallback($=>{var ne,Ce;return R.current===((ne=L.current)==null?void 0:ne.side)&&g7($,(Ce=L.current)==null?void 0:Ce.area)},[]);return i.jsx(JU,{scope:r,searchRef:M,onItemEnter:p.useCallback($=>{F($)&&$.preventDefault()},[F]),onItemLeave:p.useCallback($=>{var W;F($)||((W=T.current)==null||W.focus(),k(null))},[F]),onTriggerLeave:p.useCallback($=>{F($)&&$.preventDefault()},[F]),pointerGraceTimerRef:G,onPointerGraceIntentChange:p.useCallback($=>{L.current=$},[]),children:i.jsx(ae,{...J,children:i.jsx(om,{asChild:!0,trapped:s,onMountAutoFocus:re(a,$=>{var W;$.preventDefault(),(W=T.current)==null||W.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:i.jsx(dc,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:f,onDismiss:g,children:i.jsx(A0,{asChild:!0,...x,dir:w.dir,orientation:"vertical",loop:n,currentTabStopId:E,onCurrentTabStopIdChange:k,onEntryFocus:re(c,$=>{w.isUsingKeyboardRef.current||$.preventDefault()}),preventScrollOnEntryFocus:!0,children:i.jsx(S0,{role:"menu","aria-orientation":"vertical","data-state":tA(v.open),"data-radix-menu-content":"",dir:w.dir,...y,...m,ref:A,style:{outline:"none",...m.style},onKeyDown:re(m.onKeyDown,$=>{const ne=$.target.closest("[data-radix-menu-content]")===$.currentTarget,Ce=$.ctrlKey||$.altKey||$.metaKey,ut=$.key.length===1;ne&&($.key==="Tab"&&$.preventDefault(),!Ce&&ut&&ce($.key));const tt=T.current;if($.target!==tt||!qU.includes($.key))return;$.preventDefault();const ot=b().filter(xe=>!xe.disabled).map(xe=>xe.ref.current);OP.includes($.key)&&ot.reverse(),h7(ot)}),onBlur:re(t.onBlur,$=>{$.currentTarget.contains($.target)||(window.clearTimeout(O.current),M.current="")}),onPointerMove:re(t.onPointerMove,Ld($=>{const W=$.target,ne=I.current!==$.clientX;if($.currentTarget.contains(W)&&ne){const Ce=$.clientX>I.current?"right":"left";R.current=Ce,I.current=$.clientX}}))})})})})})})});$P.displayName=vn;var n7="MenuGroup",L0=p.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return i.jsx(Te.div,{role:"group",...n,ref:e})});L0.displayName=n7;var s7="MenuLabel",UP=p.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return i.jsx(Te.div,{...n,ref:e})});UP.displayName=s7;var Qf="MenuItem",T1="menu.itemSelect",hm=p.forwardRef((t,e)=>{const{disabled:r=!1,onSelect:n,...s}=t,a=p.useRef(null),o=Uu(Qf,t.__scopeMenu),l=M0(Qf,t.__scopeMenu),c=Ye(e,a),d=p.useRef(!1),u=()=>{const h=a.current;if(!r&&h){const f=new CustomEvent(T1,{bubbles:!0,cancelable:!0});h.addEventListener(T1,g=>n==null?void 0:n(g),{once:!0}),i0(h,f),f.defaultPrevented?d.current=!1:o.onClose()}};return i.jsx(zP,{...s,ref:c,disabled:r,onClick:re(t.onClick,u),onPointerDown:h=>{var f;(f=t.onPointerDown)==null||f.call(t,h),d.current=!0},onPointerUp:re(t.onPointerUp,h=>{var f;d.current||(f=h.currentTarget)==null||f.click()}),onKeyDown:re(t.onKeyDown,h=>{const f=l.searchRef.current!=="";r||f&&h.key===" "||ox.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});hm.displayName=Qf;var zP=p.forwardRef((t,e)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...a}=t,o=M0(Qf,r),l=IP(r),c=p.useRef(null),d=Ye(e,c),[u,h]=p.useState(!1),[f,g]=p.useState("");return p.useEffect(()=>{const j=c.current;j&&g((j.textContent??"").trim())},[a.children]),i.jsx(Dd.ItemSlot,{scope:r,disabled:n,textValue:s??f,children:i.jsx(R0,{asChild:!0,...l,focusable:!n,children:i.jsx(Te.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...a,ref:d,onPointerMove:re(t.onPointerMove,Ld(j=>{n?o.onItemLeave(j):(o.onItemEnter(j),j.defaultPrevented||j.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:re(t.onPointerLeave,Ld(j=>o.onItemLeave(j))),onFocus:re(t.onFocus,()=>h(!0)),onBlur:re(t.onBlur,()=>h(!1))})})})}),i7="MenuCheckboxItem",BP=p.forwardRef((t,e)=>{const{checked:r=!1,onCheckedChange:n,...s}=t;return i.jsx(GP,{scope:t.__scopeMenu,checked:r,children:i.jsx(hm,{role:"menuitemcheckbox","aria-checked":Xf(r)?"mixed":r,...s,ref:e,"data-state":U0(r),onSelect:re(s.onSelect,()=>n==null?void 0:n(Xf(r)?!0:!r),{checkForDefaultPrevented:!1})})})});BP.displayName=i7;var VP="MenuRadioGroup",[a7,o7]=mo(VP,{value:void 0,onValueChange:()=>{}}),qP=p.forwardRef((t,e)=>{const{value:r,onValueChange:n,...s}=t,a=lr(n);return i.jsx(a7,{scope:t.__scopeMenu,value:r,onValueChange:a,children:i.jsx(L0,{...s,ref:e})})});qP.displayName=VP;var HP="MenuRadioItem",WP=p.forwardRef((t,e)=>{const{value:r,...n}=t,s=o7(HP,t.__scopeMenu),a=r===s.value;return i.jsx(GP,{scope:t.__scopeMenu,checked:a,children:i.jsx(hm,{role:"menuitemradio","aria-checked":a,...n,ref:e,"data-state":U0(a),onSelect:re(n.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,r)},{checkForDefaultPrevented:!1})})})});WP.displayName=HP;var $0="MenuItemIndicator",[GP,l7]=mo($0,{checked:!1}),KP=p.forwardRef((t,e)=>{const{__scopeMenu:r,forceMount:n,...s}=t,a=l7($0,r);return i.jsx(Sn,{present:n||Xf(a.checked)||a.checked===!0,children:i.jsx(Te.span,{...s,ref:e,"data-state":U0(a.checked)})})});KP.displayName=$0;var c7="MenuSeparator",QP=p.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return i.jsx(Te.div,{role:"separator","aria-orientation":"horizontal",...n,ref:e})});QP.displayName=c7;var d7="MenuArrow",XP=p.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,s=um(r);return i.jsx(C0,{...s,...n,ref:e})});XP.displayName=d7;var u7="MenuSub",[eY,ZP]=mo(u7),qc="MenuSubTrigger",YP=p.forwardRef((t,e)=>{const r=go(qc,t.__scopeMenu),n=Uu(qc,t.__scopeMenu),s=ZP(qc,t.__scopeMenu),a=M0(qc,t.__scopeMenu),o=p.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=a,d={__scopeMenu:t.__scopeMenu},u=p.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return p.useEffect(()=>u,[u]),p.useEffect(()=>{const h=l.current;return()=>{window.clearTimeout(h),c(null)}},[l,c]),i.jsx(F0,{asChild:!0,...d,children:i.jsx(zP,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":tA(r.open),...t,ref:Xp(e,s.onTriggerChange),onClick:h=>{var f;(f=t.onClick)==null||f.call(t,h),!(t.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:re(t.onPointerMove,Ld(h=>{a.onItemEnter(h),!h.defaultPrevented&&!t.disabled&&!r.open&&!o.current&&(a.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),u()},100))})),onPointerLeave:re(t.onPointerLeave,Ld(h=>{var g,j;u();const f=(g=r.content)==null?void 0:g.getBoundingClientRect();if(f){const m=(j=r.content)==null?void 0:j.dataset.side,v=m==="right",w=v?-5:5,y=f[v?"left":"right"],x=f[v?"right":"left"];a.onPointerGraceIntentChange({area:[{x:h.clientX+w,y:h.clientY},{x:y,y:f.top},{x,y:f.top},{x,y:f.bottom},{x:y,y:f.bottom}],side:m}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(h),h.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:re(t.onKeyDown,h=>{var g;const f=a.searchRef.current!=="";t.disabled||f&&h.key===" "||HU[n.dir].includes(h.key)&&(r.onOpenChange(!0),(g=r.content)==null||g.focus(),h.preventDefault())})})})});YP.displayName=qc;var JP="MenuSubContent",eA=p.forwardRef((t,e)=>{const r=DP(vn,t.__scopeMenu),{forceMount:n=r.forceMount,...s}=t,a=go(vn,t.__scopeMenu),o=Uu(vn,t.__scopeMenu),l=ZP(JP,t.__scopeMenu),c=p.useRef(null),d=Ye(e,c);return i.jsx(Dd.Provider,{scope:t.__scopeMenu,children:i.jsx(Sn,{present:n||a.open,children:i.jsx(Dd.Slot,{scope:t.__scopeMenu,children:i.jsx(D0,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var h;o.isUsingKeyboardRef.current&&((h=c.current)==null||h.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:re(t.onFocusOutside,u=>{u.target!==l.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:re(t.onEscapeKeyDown,u=>{o.onClose(),u.preventDefault()}),onKeyDown:re(t.onKeyDown,u=>{var g;const h=u.currentTarget.contains(u.target),f=WU[o.dir].includes(u.key);h&&f&&(a.onOpenChange(!1),(g=l.trigger)==null||g.focus(),u.preventDefault())})})})})})});eA.displayName=JP;function tA(t){return t?"open":"closed"}function Xf(t){return t==="indeterminate"}function U0(t){return Xf(t)?"indeterminate":t?"checked":"unchecked"}function h7(t){const e=document.activeElement;for(const r of t)if(r===e||(r.focus(),document.activeElement!==e))return}function f7(t,e){return t.map((r,n)=>t[(e+n)%t.length])}function p7(t,e,r){const s=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,a=r?t.indexOf(r):-1;let o=f7(t,Math.max(a,0));s.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function m7(t,e){const{x:r,y:n}=t;let s=!1;for(let a=0,o=e.length-1;a<e.length;o=a++){const l=e[a].x,c=e[a].y,d=e[o].x,u=e[o].y;c>n!=u>n&&r<(d-l)*(n-c)/(u-c)+l&&(s=!s)}return s}function g7(t,e){if(!e)return!1;const r={x:t.clientX,y:t.clientY};return m7(r,e)}function Ld(t){return e=>e.pointerType==="mouse"?t(e):void 0}var y7=MP,x7=F0,v7=LP,b7=$P,w7=L0,j7=UP,N7=hm,S7=BP,C7=qP,_7=WP,E7=KP,T7=QP,k7=XP,P7=YP,A7=eA,z0="DropdownMenu",[R7,tY]=Hr(z0,[FP]),Fr=FP(),[O7,rA]=R7(z0),nA=t=>{const{__scopeDropdownMenu:e,children:r,dir:n,open:s,defaultOpen:a,onOpenChange:o,modal:l=!0}=t,c=Fr(e),d=p.useRef(null),[u=!1,h]=ci({prop:s,defaultProp:a,onChange:o});return i.jsx(O7,{scope:e,triggerId:Os(),triggerRef:d,contentId:Os(),open:u,onOpenChange:h,onOpenToggle:p.useCallback(()=>h(f=>!f),[h]),modal:l,children:i.jsx(y7,{...c,open:u,onOpenChange:h,dir:n,modal:l,children:r})})};nA.displayName=z0;var sA="DropdownMenuTrigger",iA=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=t,a=rA(sA,r),o=Fr(r);return i.jsx(x7,{asChild:!0,...o,children:i.jsx(Te.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:Xp(e,a.triggerRef),onPointerDown:re(t.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(a.onOpenToggle(),a.open||l.preventDefault())}),onKeyDown:re(t.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&a.onOpenToggle(),l.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});iA.displayName=sA;var F7="DropdownMenuPortal",aA=t=>{const{__scopeDropdownMenu:e,...r}=t,n=Fr(e);return i.jsx(v7,{...n,...r})};aA.displayName=F7;var oA="DropdownMenuContent",lA=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=rA(oA,r),a=Fr(r),o=p.useRef(!1);return i.jsx(b7,{id:s.contentId,"aria-labelledby":s.triggerId,...a,...n,ref:e,onCloseAutoFocus:re(t.onCloseAutoFocus,l=>{var c;o.current||(c=s.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:re(t.onInteractOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,u=c.button===2||d;(!s.modal||u)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});lA.displayName=oA;var I7="DropdownMenuGroup",M7=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=Fr(r);return i.jsx(w7,{...s,...n,ref:e})});M7.displayName=I7;var D7="DropdownMenuLabel",cA=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=Fr(r);return i.jsx(j7,{...s,...n,ref:e})});cA.displayName=D7;var L7="DropdownMenuItem",dA=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=Fr(r);return i.jsx(N7,{...s,...n,ref:e})});dA.displayName=L7;var $7="DropdownMenuCheckboxItem",uA=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=Fr(r);return i.jsx(S7,{...s,...n,ref:e})});uA.displayName=$7;var U7="DropdownMenuRadioGroup",z7=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=Fr(r);return i.jsx(C7,{...s,...n,ref:e})});z7.displayName=U7;var B7="DropdownMenuRadioItem",hA=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=Fr(r);return i.jsx(_7,{...s,...n,ref:e})});hA.displayName=B7;var V7="DropdownMenuItemIndicator",fA=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=Fr(r);return i.jsx(E7,{...s,...n,ref:e})});fA.displayName=V7;var q7="DropdownMenuSeparator",pA=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=Fr(r);return i.jsx(T7,{...s,...n,ref:e})});pA.displayName=q7;var H7="DropdownMenuArrow",W7=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=Fr(r);return i.jsx(k7,{...s,...n,ref:e})});W7.displayName=H7;var G7="DropdownMenuSubTrigger",mA=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=Fr(r);return i.jsx(P7,{...s,...n,ref:e})});mA.displayName=G7;var K7="DropdownMenuSubContent",gA=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=Fr(r);return i.jsx(A7,{...s,...n,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});gA.displayName=K7;var Q7=nA,X7=iA,Z7=aA,yA=lA,xA=cA,vA=dA,bA=uA,wA=hA,jA=fA,NA=pA,SA=mA,CA=gA;const Y7=Q7,J7=X7,ez=p.forwardRef(({className:t,inset:e,children:r,...n},s)=>i.jsxs(SA,{ref:s,className:me("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...n,children:[r,i.jsx(yk,{className:"ml-auto"})]}));ez.displayName=SA.displayName;const tz=p.forwardRef(({className:t,...e},r)=>i.jsx(CA,{ref:r,className:me("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...e}));tz.displayName=CA.displayName;const _A=p.forwardRef(({className:t,sideOffset:e=4,...r},n)=>i.jsx(Z7,{children:i.jsx(yA,{ref:n,sideOffset:e,className:me("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...r})}));_A.displayName=yA.displayName;const Hc=p.forwardRef(({className:t,inset:e,...r},n)=>i.jsx(vA,{ref:n,className:me("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...r}));Hc.displayName=vA.displayName;const rz=p.forwardRef(({className:t,children:e,checked:r,...n},s)=>i.jsxs(bA,{ref:s,className:me("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:r,...n,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(jA,{children:i.jsx(c0,{className:"h-4 w-4"})})}),e]}));rz.displayName=bA.displayName;const nz=p.forwardRef(({className:t,children:e,...r},n)=>i.jsxs(wA,{ref:n,className:me("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(jA,{children:i.jsx(xk,{className:"h-2 w-2 fill-current"})})}),e]}));nz.displayName=wA.displayName;const sz=p.forwardRef(({className:t,inset:e,...r},n)=>i.jsx(xA,{ref:n,className:me("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...r}));sz.displayName=xA.displayName;const lx=p.forwardRef(({className:t,...e},r)=>i.jsx(NA,{ref:r,className:me("-mx-1 my-1 h-px bg-muted",t),...e}));lx.displayName=NA.displayName;const B0="/assets/LOGO_1754893994411-BFbUV8Gt.gif";var V0="Dialog",[EA,rY]=Hr(V0),[iz,cs]=EA(V0),TA=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:s,onOpenChange:a,modal:o=!0}=t,l=p.useRef(null),c=p.useRef(null),[d=!1,u]=ci({prop:n,defaultProp:s,onChange:a});return i.jsx(iz,{scope:e,triggerRef:l,contentRef:c,contentId:Os(),titleId:Os(),descriptionId:Os(),open:d,onOpenChange:u,onOpenToggle:p.useCallback(()=>u(h=>!h),[u]),modal:o,children:r})};TA.displayName=V0;var kA="DialogTrigger",PA=p.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=cs(kA,r),a=Ye(e,s.triggerRef);return i.jsx(Te.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":W0(s.open),...n,ref:a,onClick:re(t.onClick,s.onOpenToggle)})});PA.displayName=kA;var q0="DialogPortal",[az,AA]=EA(q0,{forceMount:void 0}),RA=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:s}=t,a=cs(q0,e);return i.jsx(az,{scope:e,forceMount:r,children:p.Children.map(n,o=>i.jsx(Sn,{present:r||a.open,children:i.jsx(Ou,{asChild:!0,container:s,children:o})}))})};RA.displayName=q0;var Zf="DialogOverlay",OA=p.forwardRef((t,e)=>{const r=AA(Zf,t.__scopeDialog),{forceMount:n=r.forceMount,...s}=t,a=cs(Zf,t.__scopeDialog);return a.modal?i.jsx(Sn,{present:n||a.open,children:i.jsx(lz,{...s,ref:e})}):null});OA.displayName=Zf;var oz=to("DialogOverlay.RemoveScroll"),lz=p.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=cs(Zf,r);return i.jsx(dm,{as:oz,allowPinchZoom:!0,shards:[s.contentRef],children:i.jsx(Te.div,{"data-state":W0(s.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),so="DialogContent",FA=p.forwardRef((t,e)=>{const r=AA(so,t.__scopeDialog),{forceMount:n=r.forceMount,...s}=t,a=cs(so,t.__scopeDialog);return i.jsx(Sn,{present:n||a.open,children:a.modal?i.jsx(cz,{...s,ref:e}):i.jsx(dz,{...s,ref:e})})});FA.displayName=so;var cz=p.forwardRef((t,e)=>{const r=cs(so,t.__scopeDialog),n=p.useRef(null),s=Ye(e,r.contentRef,n);return p.useEffect(()=>{const a=n.current;if(a)return O0(a)},[]),i.jsx(IA,{...t,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:re(t.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:re(t.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:re(t.onFocusOutside,a=>a.preventDefault())})}),dz=p.forwardRef((t,e)=>{const r=cs(so,t.__scopeDialog),n=p.useRef(!1),s=p.useRef(!1);return i.jsx(IA,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,a),a.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),a.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:a=>{var c,d;(c=t.onInteractOutside)==null||c.call(t,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=a.target;((d=r.triggerRef.current)==null?void 0:d.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),IA=p.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:a,...o}=t,l=cs(so,r),c=p.useRef(null),d=Ye(e,c);return P0(),i.jsxs(i.Fragment,{children:[i.jsx(om,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:a,children:i.jsx(dc,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":W0(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(uz,{titleId:l.titleId}),i.jsx(fz,{contentRef:c,descriptionId:l.descriptionId})]})]})}),H0="DialogTitle",MA=p.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=cs(H0,r);return i.jsx(Te.h2,{id:s.titleId,...n,ref:e})});MA.displayName=H0;var DA="DialogDescription",LA=p.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=cs(DA,r);return i.jsx(Te.p,{id:s.descriptionId,...n,ref:e})});LA.displayName=DA;var $A="DialogClose",UA=p.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=cs($A,r);return i.jsx(Te.button,{type:"button",...n,ref:e,onClick:re(t.onClick,()=>s.onOpenChange(!1))})});UA.displayName=$A;function W0(t){return t?"open":"closed"}var zA="DialogTitleWarning",[nY,BA]=iL(zA,{contentName:so,titleName:H0,docsSlug:"dialog"}),uz=({titleId:t})=>{const e=BA(zA),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return p.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},hz="DialogDescriptionWarning",fz=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${BA(hz).contentName}}.`;return p.useEffect(()=>{var a;const s=(a=t.current)==null?void 0:a.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},pz=TA,mz=PA,gz=RA,VA=OA,qA=FA,HA=MA,WA=LA,yz=UA;const $r=pz,fm=mz,xz=gz,GA=p.forwardRef(({className:t,...e},r)=>i.jsx(VA,{ref:r,className:me("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));GA.displayName=VA.displayName;const Er=p.forwardRef(({className:t,children:e,...r},n)=>i.jsxs(xz,{children:[i.jsx(GA,{}),i.jsxs(qA,{ref:n,className:me("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[e,i.jsxs(yz,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[i.jsx(Mu,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Er.displayName=qA.displayName;const Tr=({className:t,...e})=>i.jsx("div",{className:me("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Tr.displayName="DialogHeader";const KA=({className:t,...e})=>i.jsx("div",{className:me("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});KA.displayName="DialogFooter";const kr=p.forwardRef(({className:t,...e},r)=>i.jsx(HA,{ref:r,className:me("text-lg font-semibold leading-none tracking-tight",t),...e}));kr.displayName=HA.displayName;const yo=p.forwardRef(({className:t,...e},r)=>i.jsx(WA,{ref:r,className:me("text-sm text-muted-foreground",t),...e}));yo.displayName=WA.displayName;var vz="Label",QA=p.forwardRef((t,e)=>i.jsx(Te.label,{...t,ref:e,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));QA.displayName=vz;var XA=QA;const bz=Iu("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Fe=p.forwardRef(({className:t,...e},r)=>i.jsx(XA,{ref:r,className:me(bz(),t),...e}));Fe.displayName=XA.displayName;function k1(t,[e,r]){return Math.min(r,Math.max(e,t))}function G0(t){const e=p.useRef({value:t,previous:t});return p.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var wz=[" ","Enter","ArrowUp","ArrowDown"],jz=[" ","Enter"],zu="Select",[pm,mm,Nz]=Zp(zu),[gc,sY]=Hr(zu,[Nz,pc]),gm=pc(),[Sz,ha]=gc(zu),[Cz,_z]=gc(zu),ZA=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:s,onOpenChange:a,value:o,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:h,disabled:f,required:g,form:j}=t,m=gm(e),[v,w]=p.useState(null),[y,x]=p.useState(null),[b,E]=p.useState(!1),k=Lu(d),[T=!1,A]=ci({prop:n,defaultProp:s,onChange:a}),[O,M]=ci({prop:o,defaultProp:l,onChange:c}),G=p.useRef(null),L=v?j||!!v.closest("form"):!0,[R,I]=p.useState(new Set),ae=Array.from(R).map(J=>J.props.value).join(";");return i.jsx(Jk,{...m,children:i.jsxs(Sz,{required:g,scope:e,trigger:v,onTriggerChange:w,valueNode:y,onValueNodeChange:x,valueNodeHasChildren:b,onValueNodeHasChildrenChange:E,contentId:Os(),value:O,onValueChange:M,open:T,onOpenChange:A,dir:k,triggerPointerDownPosRef:G,disabled:f,children:[i.jsx(pm.Provider,{scope:e,children:i.jsx(Cz,{scope:t.__scopeSelect,onNativeOptionAdd:p.useCallback(J=>{I(ce=>new Set(ce).add(J))},[]),onNativeOptionRemove:p.useCallback(J=>{I(ce=>{const F=new Set(ce);return F.delete(J),F})},[]),children:r})}),L?i.jsxs(j4,{"aria-hidden":!0,required:g,tabIndex:-1,name:u,autoComplete:h,value:O,onChange:J=>M(J.target.value),disabled:f,form:j,children:[O===void 0?i.jsx("option",{value:""}):null,Array.from(R)]},ae):null]})})};ZA.displayName=zu;var YA="SelectTrigger",JA=p.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...s}=t,a=gm(r),o=ha(YA,r),l=o.disabled||n,c=Ye(e,o.onTriggerChange),d=mm(r),u=p.useRef("touch"),[h,f,g]=N4(m=>{const v=d().filter(x=>!x.disabled),w=v.find(x=>x.value===o.value),y=S4(v,m,w);y!==void 0&&o.onValueChange(y.value)}),j=m=>{l||(o.onOpenChange(!0),g()),m&&(o.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return i.jsx(N0,{asChild:!0,...a,children:i.jsx(Te.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":w4(o.value)?"":void 0,...s,ref:c,onClick:re(s.onClick,m=>{m.currentTarget.focus(),u.current!=="mouse"&&j(m)}),onPointerDown:re(s.onPointerDown,m=>{u.current=m.pointerType;const v=m.target;v.hasPointerCapture(m.pointerId)&&v.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(j(m),m.preventDefault())}),onKeyDown:re(s.onKeyDown,m=>{const v=h.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&f(m.key),!(v&&m.key===" ")&&wz.includes(m.key)&&(j(),m.preventDefault())})})})});JA.displayName=YA;var e4="SelectValue",t4=p.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:s,children:a,placeholder:o="",...l}=t,c=ha(e4,r),{onValueNodeHasChildrenChange:d}=c,u=a!==void 0,h=Ye(e,c.onValueNodeChange);return zt(()=>{d(u)},[d,u]),i.jsx(Te.span,{...l,ref:h,style:{pointerEvents:"none"},children:w4(c.value)?i.jsx(i.Fragment,{children:o}):a})});t4.displayName=e4;var Ez="SelectIcon",r4=p.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...s}=t;return i.jsx(Te.span,{"aria-hidden":!0,...s,ref:e,children:n||""})});r4.displayName=Ez;var Tz="SelectPortal",n4=t=>i.jsx(Ou,{asChild:!0,...t});n4.displayName=Tz;var io="SelectContent",s4=p.forwardRef((t,e)=>{const r=ha(io,t.__scopeSelect),[n,s]=p.useState();if(zt(()=>{s(new DocumentFragment)},[]),!r.open){const a=n;return a?fo.createPortal(i.jsx(i4,{scope:t.__scopeSelect,children:i.jsx(pm.Slot,{scope:t.__scopeSelect,children:i.jsx("div",{children:t.children})})}),a):null}return i.jsx(a4,{...t,ref:e})});s4.displayName=io;var Pn=10,[i4,fa]=gc(io),kz="SelectContentImpl",Pz=to("SelectContent.RemoveScroll"),a4=p.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:a,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:f,collisionPadding:g,sticky:j,hideWhenDetached:m,avoidCollisions:v,...w}=t,y=ha(io,r),[x,b]=p.useState(null),[E,k]=p.useState(null),T=Ye(e,xe=>b(xe)),[A,O]=p.useState(null),[M,G]=p.useState(null),L=mm(r),[R,I]=p.useState(!1),ae=p.useRef(!1);p.useEffect(()=>{if(x)return O0(x)},[x]),P0();const J=p.useCallback(xe=>{const[Re,...Ke]=L().map(qe=>qe.ref.current),[Ie]=Ke.slice(-1),ue=document.activeElement;for(const qe of xe)if(qe===ue||(qe==null||qe.scrollIntoView({block:"nearest"}),qe===Re&&E&&(E.scrollTop=0),qe===Ie&&E&&(E.scrollTop=E.scrollHeight),qe==null||qe.focus(),document.activeElement!==ue))return},[L,E]),ce=p.useCallback(()=>J([A,x]),[J,A,x]);p.useEffect(()=>{R&&ce()},[R,ce]);const{onOpenChange:F,triggerPointerDownPosRef:$}=y;p.useEffect(()=>{if(x){let xe={x:0,y:0};const Re=Ie=>{var ue,qe;xe={x:Math.abs(Math.round(Ie.pageX)-(((ue=$.current)==null?void 0:ue.x)??0)),y:Math.abs(Math.round(Ie.pageY)-(((qe=$.current)==null?void 0:qe.y)??0))}},Ke=Ie=>{xe.x<=10&&xe.y<=10?Ie.preventDefault():x.contains(Ie.target)||F(!1),document.removeEventListener("pointermove",Re),$.current=null};return $.current!==null&&(document.addEventListener("pointermove",Re),document.addEventListener("pointerup",Ke,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Re),document.removeEventListener("pointerup",Ke,{capture:!0})}}},[x,F,$]),p.useEffect(()=>{const xe=()=>F(!1);return window.addEventListener("blur",xe),window.addEventListener("resize",xe),()=>{window.removeEventListener("blur",xe),window.removeEventListener("resize",xe)}},[F]);const[W,ne]=N4(xe=>{const Re=L().filter(ue=>!ue.disabled),Ke=Re.find(ue=>ue.ref.current===document.activeElement),Ie=S4(Re,xe,Ke);Ie&&setTimeout(()=>Ie.ref.current.focus())}),Ce=p.useCallback((xe,Re,Ke)=>{const Ie=!ae.current&&!Ke;(y.value!==void 0&&y.value===Re||Ie)&&(O(xe),Ie&&(ae.current=!0))},[y.value]),ut=p.useCallback(()=>x==null?void 0:x.focus(),[x]),tt=p.useCallback((xe,Re,Ke)=>{const Ie=!ae.current&&!Ke;(y.value!==void 0&&y.value===Re||Ie)&&G(xe)},[y.value]),_t=n==="popper"?cx:o4,ot=_t===cx?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:f,collisionPadding:g,sticky:j,hideWhenDetached:m,avoidCollisions:v}:{};return i.jsx(i4,{scope:r,content:x,viewport:E,onViewportChange:k,itemRefCallback:Ce,selectedItem:A,onItemLeave:ut,itemTextRefCallback:tt,focusSelectedItem:ce,selectedItemText:M,position:n,isPositioned:R,searchRef:W,children:i.jsx(dm,{as:Pz,allowPinchZoom:!0,children:i.jsx(om,{asChild:!0,trapped:y.open,onMountAutoFocus:xe=>{xe.preventDefault()},onUnmountAutoFocus:re(s,xe=>{var Re;(Re=y.trigger)==null||Re.focus({preventScroll:!0}),xe.preventDefault()}),children:i.jsx(dc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:xe=>xe.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:i.jsx(_t,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:xe=>xe.preventDefault(),...w,...ot,onPlaced:()=>I(!0),ref:T,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:re(w.onKeyDown,xe=>{const Re=xe.ctrlKey||xe.altKey||xe.metaKey;if(xe.key==="Tab"&&xe.preventDefault(),!Re&&xe.key.length===1&&ne(xe.key),["ArrowUp","ArrowDown","Home","End"].includes(xe.key)){let Ie=L().filter(ue=>!ue.disabled).map(ue=>ue.ref.current);if(["ArrowUp","End"].includes(xe.key)&&(Ie=Ie.slice().reverse()),["ArrowUp","ArrowDown"].includes(xe.key)){const ue=xe.target,qe=Ie.indexOf(ue);Ie=Ie.slice(qe+1)}setTimeout(()=>J(Ie)),xe.preventDefault()}})})})})})})});a4.displayName=kz;var Az="SelectItemAlignedPosition",o4=p.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...s}=t,a=ha(io,r),o=fa(io,r),[l,c]=p.useState(null),[d,u]=p.useState(null),h=Ye(e,T=>u(T)),f=mm(r),g=p.useRef(!1),j=p.useRef(!0),{viewport:m,selectedItem:v,selectedItemText:w,focusSelectedItem:y}=o,x=p.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&d&&m&&v&&w){const T=a.trigger.getBoundingClientRect(),A=d.getBoundingClientRect(),O=a.valueNode.getBoundingClientRect(),M=w.getBoundingClientRect();if(a.dir!=="rtl"){const ue=M.left-A.left,qe=O.left-ue,Bt=T.left-qe,Yt=T.width+Bt,Tn=Math.max(Yt,A.width),ds=window.innerWidth-Pn,on=k1(qe,[Pn,Math.max(Pn,ds-Tn)]);l.style.minWidth=Yt+"px",l.style.left=on+"px"}else{const ue=A.right-M.right,qe=window.innerWidth-O.right-ue,Bt=window.innerWidth-T.right-qe,Yt=T.width+Bt,Tn=Math.max(Yt,A.width),ds=window.innerWidth-Pn,on=k1(qe,[Pn,Math.max(Pn,ds-Tn)]);l.style.minWidth=Yt+"px",l.style.right=on+"px"}const G=f(),L=window.innerHeight-Pn*2,R=m.scrollHeight,I=window.getComputedStyle(d),ae=parseInt(I.borderTopWidth,10),J=parseInt(I.paddingTop,10),ce=parseInt(I.borderBottomWidth,10),F=parseInt(I.paddingBottom,10),$=ae+J+R+F+ce,W=Math.min(v.offsetHeight*5,$),ne=window.getComputedStyle(m),Ce=parseInt(ne.paddingTop,10),ut=parseInt(ne.paddingBottom,10),tt=T.top+T.height/2-Pn,_t=L-tt,ot=v.offsetHeight/2,xe=v.offsetTop+ot,Re=ae+J+xe,Ke=$-Re;if(Re<=tt){const ue=G.length>0&&v===G[G.length-1].ref.current;l.style.bottom="0px";const qe=d.clientHeight-m.offsetTop-m.offsetHeight,Bt=Math.max(_t,ot+(ue?ut:0)+qe+ce),Yt=Re+Bt;l.style.height=Yt+"px"}else{const ue=G.length>0&&v===G[0].ref.current;l.style.top="0px";const Bt=Math.max(tt,ae+m.offsetTop+(ue?Ce:0)+ot)+Ke;l.style.height=Bt+"px",m.scrollTop=Re-tt+m.offsetTop}l.style.margin=`${Pn}px 0`,l.style.minHeight=W+"px",l.style.maxHeight=L+"px",n==null||n(),requestAnimationFrame(()=>g.current=!0)}},[f,a.trigger,a.valueNode,l,d,m,v,w,a.dir,n]);zt(()=>x(),[x]);const[b,E]=p.useState();zt(()=>{d&&E(window.getComputedStyle(d).zIndex)},[d]);const k=p.useCallback(T=>{T&&j.current===!0&&(x(),y==null||y(),j.current=!1)},[x,y]);return i.jsx(Oz,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:g,onScrollButtonChange:k,children:i.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:b},children:i.jsx(Te.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});o4.displayName=Az;var Rz="SelectPopperPosition",cx=p.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=Pn,...a}=t,o=gm(r);return i.jsx(S0,{...o,...a,ref:e,align:n,collisionPadding:s,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});cx.displayName=Rz;var[Oz,K0]=gc(io,{}),dx="SelectViewport",l4=p.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...s}=t,a=fa(dx,r),o=K0(dx,r),l=Ye(e,a.onViewportChange),c=p.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),i.jsx(pm.Slot,{scope:r,children:i.jsx(Te.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:re(s.onScroll,d=>{const u=d.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&h){const g=Math.abs(c.current-u.scrollTop);if(g>0){const j=window.innerHeight-Pn*2,m=parseFloat(h.style.minHeight),v=parseFloat(h.style.height),w=Math.max(m,v);if(w<j){const y=w+g,x=Math.min(j,y),b=y-x;h.style.height=x+"px",h.style.bottom==="0px"&&(u.scrollTop=b>0?b:0,h.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});l4.displayName=dx;var c4="SelectGroup",[Fz,Iz]=gc(c4),Mz=p.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=Os();return i.jsx(Fz,{scope:r,id:s,children:i.jsx(Te.div,{role:"group","aria-labelledby":s,...n,ref:e})})});Mz.displayName=c4;var d4="SelectLabel",u4=p.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=Iz(d4,r);return i.jsx(Te.div,{id:s.id,...n,ref:e})});u4.displayName=d4;var Yf="SelectItem",[Dz,h4]=gc(Yf),f4=p.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:a,...o}=t,l=ha(Yf,r),c=fa(Yf,r),d=l.value===n,[u,h]=p.useState(a??""),[f,g]=p.useState(!1),j=Ye(e,y=>{var x;return(x=c.itemRefCallback)==null?void 0:x.call(c,y,n,s)}),m=Os(),v=p.useRef("touch"),w=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(Dz,{scope:r,value:n,disabled:s,textId:m,isSelected:d,onItemTextChange:p.useCallback(y=>{h(x=>x||((y==null?void 0:y.textContent)??"").trim())},[]),children:i.jsx(pm.ItemSlot,{scope:r,value:n,disabled:s,textValue:u,children:i.jsx(Te.div,{role:"option","aria-labelledby":m,"data-highlighted":f?"":void 0,"aria-selected":d&&f,"data-state":d?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:j,onFocus:re(o.onFocus,()=>g(!0)),onBlur:re(o.onBlur,()=>g(!1)),onClick:re(o.onClick,()=>{v.current!=="mouse"&&w()}),onPointerUp:re(o.onPointerUp,()=>{v.current==="mouse"&&w()}),onPointerDown:re(o.onPointerDown,y=>{v.current=y.pointerType}),onPointerMove:re(o.onPointerMove,y=>{var x;v.current=y.pointerType,s?(x=c.onItemLeave)==null||x.call(c):v.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:re(o.onPointerLeave,y=>{var x;y.currentTarget===document.activeElement&&((x=c.onItemLeave)==null||x.call(c))}),onKeyDown:re(o.onKeyDown,y=>{var b;((b=c.searchRef)==null?void 0:b.current)!==""&&y.key===" "||(jz.includes(y.key)&&w(),y.key===" "&&y.preventDefault())})})})})});f4.displayName=Yf;var Wc="SelectItemText",p4=p.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:s,...a}=t,o=ha(Wc,r),l=fa(Wc,r),c=h4(Wc,r),d=_z(Wc,r),[u,h]=p.useState(null),f=Ye(e,w=>h(w),c.onItemTextChange,w=>{var y;return(y=l.itemTextRefCallback)==null?void 0:y.call(l,w,c.value,c.disabled)}),g=u==null?void 0:u.textContent,j=p.useMemo(()=>i.jsx("option",{value:c.value,disabled:c.disabled,children:g},c.value),[c.disabled,c.value,g]),{onNativeOptionAdd:m,onNativeOptionRemove:v}=d;return zt(()=>(m(j),()=>v(j)),[m,v,j]),i.jsxs(i.Fragment,{children:[i.jsx(Te.span,{id:c.textId,...a,ref:f}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?fo.createPortal(a.children,o.valueNode):null]})});p4.displayName=Wc;var m4="SelectItemIndicator",g4=p.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return h4(m4,r).isSelected?i.jsx(Te.span,{"aria-hidden":!0,...n,ref:e}):null});g4.displayName=m4;var ux="SelectScrollUpButton",y4=p.forwardRef((t,e)=>{const r=fa(ux,t.__scopeSelect),n=K0(ux,t.__scopeSelect),[s,a]=p.useState(!1),o=Ye(e,n.onScrollButtonChange);return zt(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollTop>0;a(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?i.jsx(v4,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});y4.displayName=ux;var hx="SelectScrollDownButton",x4=p.forwardRef((t,e)=>{const r=fa(hx,t.__scopeSelect),n=K0(hx,t.__scopeSelect),[s,a]=p.useState(!1),o=Ye(e,n.onScrollButtonChange);return zt(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;a(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?i.jsx(v4,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});x4.displayName=hx;var v4=p.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=t,a=fa("SelectScrollButton",r),o=p.useRef(null),l=mm(r),c=p.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return p.useEffect(()=>()=>c(),[c]),zt(()=>{var u;const d=l().find(h=>h.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),i.jsx(Te.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:re(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:re(s.onPointerMove,()=>{var d;(d=a.onItemLeave)==null||d.call(a),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:re(s.onPointerLeave,()=>{c()})})}),Lz="SelectSeparator",b4=p.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return i.jsx(Te.div,{"aria-hidden":!0,...n,ref:e})});b4.displayName=Lz;var fx="SelectArrow",$z=p.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=gm(r),a=ha(fx,r),o=fa(fx,r);return a.open&&o.position==="popper"?i.jsx(C0,{...s,...n,ref:e}):null});$z.displayName=fx;function w4(t){return t===""||t===void 0}var j4=p.forwardRef((t,e)=>{const{value:r,...n}=t,s=p.useRef(null),a=Ye(e,s),o=G0(r);return p.useEffect(()=>{const l=s.current,c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==r&&u){const h=new Event("change",{bubbles:!0});u.call(l,r),l.dispatchEvent(h)}},[o,r]),i.jsx(Fu,{asChild:!0,children:i.jsx("select",{...n,ref:a,defaultValue:r})})});j4.displayName="BubbleSelect";function N4(t){const e=lr(t),r=p.useRef(""),n=p.useRef(0),s=p.useCallback(o=>{const l=r.current+o;e(l),function c(d){r.current=d,window.clearTimeout(n.current),d!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),a=p.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,a]}function S4(t,e,r){const s=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,a=r?t.indexOf(r):-1;let o=Uz(t,Math.max(a,0));s.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function Uz(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var zz=ZA,C4=JA,Bz=t4,Vz=r4,qz=n4,_4=s4,Hz=l4,E4=u4,T4=f4,Wz=p4,Gz=g4,k4=y4,P4=x4,A4=b4;const sr=zz,ir=Bz,Wt=p.forwardRef(({className:t,children:e,...r},n)=>i.jsxs(C4,{ref:n,className:me("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,i.jsx(Vz,{asChild:!0,children:i.jsx(gk,{className:"h-4 w-4 opacity-50"})})]}));Wt.displayName=C4.displayName;const R4=p.forwardRef(({className:t,...e},r)=>i.jsx(k4,{ref:r,className:me("flex cursor-default items-center justify-center py-1",t),...e,children:i.jsx(t6,{className:"h-4 w-4"})}));R4.displayName=k4.displayName;const O4=p.forwardRef(({className:t,...e},r)=>i.jsx(P4,{ref:r,className:me("flex cursor-default items-center justify-center py-1",t),...e,children:i.jsx(gk,{className:"h-4 w-4"})}));O4.displayName=P4.displayName;const Gt=p.forwardRef(({className:t,children:e,position:r="popper",...n},s)=>i.jsx(qz,{children:i.jsxs(_4,{ref:s,className:me("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[i.jsx(R4,{}),i.jsx(Hz,{className:me("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),i.jsx(O4,{})]})}));Gt.displayName=_4.displayName;const Kz=p.forwardRef(({className:t,...e},r)=>i.jsx(E4,{ref:r,className:me("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));Kz.displayName=E4.displayName;const fe=p.forwardRef(({className:t,children:e,...r},n)=>i.jsxs(T4,{ref:n,className:me("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(Gz,{children:i.jsx(c0,{className:"h-4 w-4"})})}),i.jsx(Wz,{children:e})]}));fe.displayName=T4.displayName;const Qz=p.forwardRef(({className:t,...e},r)=>i.jsx(A4,{ref:r,className:me("-mx-1 my-1 h-px bg-muted",t),...e}));Qz.displayName=A4.displayName;const te=p.forwardRef(({className:t,...e},r)=>i.jsx("div",{ref:r,className:me("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));te.displayName="Card";const He=p.forwardRef(({className:t,...e},r)=>i.jsx("div",{ref:r,className:me("flex flex-col space-y-1.5 p-6",t),...e}));He.displayName="CardHeader";const We=p.forwardRef(({className:t,...e},r)=>i.jsx("div",{ref:r,className:me("text-2xl font-semibold leading-none tracking-tight",t),...e}));We.displayName="CardTitle";const Yl=p.forwardRef(({className:t,...e},r)=>i.jsx("div",{ref:r,className:me("text-sm text-muted-foreground",t),...e}));Yl.displayName="CardDescription";const ie=p.forwardRef(({className:t,...e},r)=>i.jsx("div",{ref:r,className:me("p-6 pt-0",t),...e}));ie.displayName="CardContent";const Xz=p.forwardRef(({className:t,...e},r)=>i.jsx("div",{ref:r,className:me("flex items-center p-6 pt-0",t),...e}));Xz.displayName="CardFooter";var Zz="Separator",P1="horizontal",Yz=["horizontal","vertical"],F4=p.forwardRef((t,e)=>{const{decorative:r,orientation:n=P1,...s}=t,a=Jz(n)?n:P1,l=r?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return i.jsx(Te.div,{"data-orientation":a,...l,...s,ref:e})});F4.displayName=Zz;function Jz(t){return Yz.includes(t)}var I4=F4;const Q0=p.forwardRef(({className:t,orientation:e="horizontal",decorative:r=!0,...n},s)=>i.jsx(I4,{ref:s,decorative:r,orientation:e,className:me("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...n}));Q0.displayName=I4.displayName;var X0="Radio",[e9,M4]=Hr(X0),[t9,r9]=e9(X0),D4=p.forwardRef((t,e)=>{const{__scopeRadio:r,name:n,checked:s=!1,required:a,disabled:o,value:l="on",onCheck:c,form:d,...u}=t,[h,f]=p.useState(null),g=Ye(e,v=>f(v)),j=p.useRef(!1),m=h?d||!!h.closest("form"):!0;return i.jsxs(t9,{scope:r,checked:s,disabled:o,children:[i.jsx(Te.button,{type:"button",role:"radio","aria-checked":s,"data-state":U4(s),"data-disabled":o?"":void 0,disabled:o,value:l,...u,ref:g,onClick:re(t.onClick,v=>{s||c==null||c(),m&&(j.current=v.isPropagationStopped(),j.current||v.stopPropagation())})}),m&&i.jsx(n9,{control:h,bubbles:!j.current,name:n,value:l,checked:s,required:a,disabled:o,form:d,style:{transform:"translateX(-100%)"}})]})});D4.displayName=X0;var L4="RadioIndicator",$4=p.forwardRef((t,e)=>{const{__scopeRadio:r,forceMount:n,...s}=t,a=r9(L4,r);return i.jsx(Sn,{present:n||a.checked,children:i.jsx(Te.span,{"data-state":U4(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:e})})});$4.displayName=L4;var n9=t=>{const{control:e,checked:r,bubbles:n=!0,...s}=t,a=p.useRef(null),o=G0(r),l=b0(e);return p.useEffect(()=>{const c=a.current,d=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(d,"checked").set;if(o!==r&&h){const f=new Event("click",{bubbles:n});h.call(c,r),c.dispatchEvent(f)}},[o,r,n]),i.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:a,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function U4(t){return t?"checked":"unchecked"}var s9=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Z0="RadioGroup",[i9,iY]=Hr(Z0,[mc,M4]),z4=mc(),B4=M4(),[a9,o9]=i9(Z0),V4=p.forwardRef((t,e)=>{const{__scopeRadioGroup:r,name:n,defaultValue:s,value:a,required:o=!1,disabled:l=!1,orientation:c,dir:d,loop:u=!0,onValueChange:h,...f}=t,g=z4(r),j=Lu(d),[m,v]=ci({prop:a,defaultProp:s,onChange:h});return i.jsx(a9,{scope:r,name:n,required:o,disabled:l,value:m,onValueChange:v,children:i.jsx(A0,{asChild:!0,...g,orientation:c,dir:j,loop:u,children:i.jsx(Te.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":l?"":void 0,dir:j,...f,ref:e})})})});V4.displayName=Z0;var q4="RadioGroupItem",H4=p.forwardRef((t,e)=>{const{__scopeRadioGroup:r,disabled:n,...s}=t,a=o9(q4,r),o=a.disabled||n,l=z4(r),c=B4(r),d=p.useRef(null),u=Ye(e,d),h=a.value===s.value,f=p.useRef(!1);return p.useEffect(()=>{const g=m=>{s9.includes(m.key)&&(f.current=!0)},j=()=>f.current=!1;return document.addEventListener("keydown",g),document.addEventListener("keyup",j),()=>{document.removeEventListener("keydown",g),document.removeEventListener("keyup",j)}},[]),i.jsx(R0,{asChild:!0,...l,focusable:!o,active:h,children:i.jsx(D4,{disabled:o,required:a.required,checked:h,...c,...s,name:a.name,ref:u,onCheck:()=>a.onValueChange(s.value),onKeyDown:re(g=>{g.key==="Enter"&&g.preventDefault()}),onFocus:re(s.onFocus,()=>{var g;f.current&&((g=d.current)==null||g.click())})})})});H4.displayName=q4;var l9="RadioGroupIndicator",W4=p.forwardRef((t,e)=>{const{__scopeRadioGroup:r,...n}=t,s=B4(r);return i.jsx($4,{...s,...n,ref:e})});W4.displayName=l9;var G4=V4,K4=H4,c9=W4;const Q4=p.forwardRef(({className:t,...e},r)=>i.jsx(G4,{className:me("grid gap-2",t),...e,ref:r}));Q4.displayName=G4.displayName;const px=p.forwardRef(({className:t,...e},r)=>i.jsx(K4,{ref:r,className:me("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:i.jsx(c9,{className:"flex items-center justify-center",children:i.jsx(xk,{className:"h-2.5 w-2.5 fill-current text-current"})})}));px.displayName=K4.displayName;function ym({isOpen:t,onClose:e,product:r,initialQuantity:n=1,cartItems:s=[],onSuccess:a}){var ae,J,ce;const[o,l]=p.useState(n),[c,d]=p.useState(""),[u,h]=p.useState("mercadopago"),{toast:f}=cr(),g=ls(),{data:j=[]}=nt({queryKey:["/api/addresses"],enabled:t}),{data:m}=nt({queryKey:["/api/admin/transfer-discount-config"],enabled:t,retry:!1}),{data:v}=nt({queryKey:["/api/payments/config"],enabled:t}),w=rt({mutationFn:async F=>F.paymentType==="direct_transfer"?Be("POST","/api/payments/create-direct-transfer",F):Be("POST","/api/payments/create-preference",F),onSuccess:F=>{u==="direct_transfer"?(f({title:"Orden Creada!",description:"Tu orden ha sido creada. Revisa los datos de transferencia."}),e(),g.invalidateQueries({queryKey:["/api/orders"]})):F.initPoint?window.location.href=F.initPoint:f({title:"Error",description:"No se pudo inicializar el pago. Intntalo de nuevo.",variant:"destructive"})},onError:F=>{f({title:"Error de Pago",description:F.message||"Error al procesar el pago",variant:"destructive"})}}),y=s.length>0,x=y?(ae=s[0])==null?void 0:ae.product:r;if(!x)return null;const b=()=>{if(j.length>0&&!c){f({title:"Direccin Requerida",description:"Por favor selecciona una direccin de envo.",variant:"destructive"});return}u==="direct_transfer"?w.mutate({productId:x.id,quantity:y?s.reduce((F,$)=>F+$.quantity,0):o,shippingAddressId:c||void 0,paymentType:u,originalAmount:E.toString(),discountApplied:M.toString()}):w.mutate({productId:x.id,quantity:y?s.reduce((F,$)=>F+$.quantity,0):o,shippingAddressId:c||void 0,paymentType:u})},E=y?s.reduce((F,$)=>F+parseFloat($.product.price||"0")*$.quantity,0):parseFloat(x.price||"0")*o,k=((J=v==null?void 0:v.activePaymentMethods)==null?void 0:J.mercadopago)===!0,T=((ce=v==null?void 0:v.activePaymentMethods)==null?void 0:ce.bank_transfer)===!0,A=m!=null&&m.isActive?parseFloat(m.discountPercentage):3.5,O=(m==null?void 0:m.isActive)!==!1&&T;p.useEffect(()=>{if(v!=null&&v.activePaymentMethods){const $=k?"mercadopago":T?"direct_transfer":"mercadopago";h($)}},[v,k,T]);const M=u==="direct_transfer"&&O?E*A/100:0,G=E-M,L=99,R=G+L,I=E+L;return i.jsx($r,{open:t,onOpenChange:e,children:i.jsxs(Er,{className:"max-w-2xl max-h-[90vh] overflow-y-auto","data-testid":"checkout-dialog",children:[i.jsxs(Tr,{children:[i.jsxs(kr,{className:"flex items-center gap-2",children:[i.jsx(Xo,{className:"h-5 w-5"}),"Finalizar Compra"]}),i.jsxs(yo,{children:["Completa tu pedido ",y?`de ${s.length} producto(s)`:`para ${x.name}`]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs(te,{children:[i.jsx(He,{className:"pb-3",children:i.jsxs(We,{className:"text-lg flex items-center gap-2",children:[i.jsx(Zr,{className:"h-5 w-5"}),y?"Productos del Carrito":"Producto"]})}),i.jsxs(ie,{className:"space-y-3",children:[y?i.jsx("div",{className:"space-y-3",children:s.map(F=>i.jsxs("div",{className:"flex items-start gap-3",children:[F.product.imageUrl&&i.jsx("img",{src:F.product.imageUrl,alt:F.product.name,className:"w-12 h-12 object-cover rounded-md"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-medium text-sm",children:F.product.name}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["$",parseFloat(F.product.price).toLocaleString("es-MX",{minimumFractionDigits:2})," MXN  ",F.quantity]})]})]},F.product.id))}):i.jsxs("div",{className:"flex items-start gap-3",children:[x.imageUrl&&i.jsx("img",{src:x.imageUrl,alt:x.name,className:"w-16 h-16 object-cover rounded-md"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-medium text-sm",children:x.name}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["$",parseFloat(x.price).toLocaleString("es-MX",{minimumFractionDigits:2})," MXN"]})]})]}),!y&&i.jsxs("div",{className:"space-y-2",children:[i.jsx(Fe,{htmlFor:"quantity",children:"Cantidad"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(z,{variant:"outline",size:"sm",onClick:()=>l(Math.max(1,o-1)),disabled:o<=1,"data-testid":"button-decrease-quantity",children:"-"}),i.jsx(pe,{id:"quantity",type:"number",value:o,onChange:F=>l(Math.max(1,parseInt(F.target.value)||1)),className:"w-20 text-center",min:"1","data-testid":"input-quantity"}),i.jsx(z,{variant:"outline",size:"sm",onClick:()=>l(o+1),"data-testid":"button-increase-quantity",children:"+"})]})]})]})]}),j.length>0&&i.jsxs(te,{children:[i.jsx(He,{className:"pb-3",children:i.jsxs(We,{className:"text-lg flex items-center gap-2",children:[i.jsx(Gl,{className:"h-5 w-5"}),"Direccin de Envo"]})}),i.jsx(ie,{children:i.jsxs(sr,{value:c,onValueChange:d,children:[i.jsx(Wt,{"data-testid":"select-address",children:i.jsx(ir,{placeholder:"Selecciona una direccin"})}),i.jsx(Gt,{children:j.map(F=>i.jsxs(fe,{value:F.id,children:[F.street,", ",F.city,", ",F.state," ",F.postalCode]},F.id))})]})})]})]}),i.jsxs("div",{className:"space-y-4",children:[(k||O)&&i.jsxs(te,{children:[i.jsx(He,{className:"pb-3",children:i.jsx(We,{className:"text-lg",children:"Mtodo de Pago"})}),i.jsx(ie,{children:i.jsxs(Q4,{value:u,onValueChange:F=>h(F),className:"space-y-3",children:[k&&i.jsxs("div",{className:"flex items-center space-x-3 border rounded-lg p-3",children:[i.jsx(px,{value:"mercadopago",id:"mercadopago"}),i.jsx("div",{className:"flex-1",children:i.jsxs("label",{htmlFor:"mercadopago",className:"cursor-pointer",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Xo,{className:"h-5 w-5"}),i.jsx("span",{className:"font-medium",children:"MercadoPago"})]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Tarjetas, OXXO, transferencia"})]})})]}),O&&i.jsxs("div",{className:"flex items-center space-x-3 border rounded-lg p-3 bg-green-50 border-green-200",children:[i.jsx(px,{value:"direct_transfer",id:"direct_transfer"}),i.jsx("div",{className:"flex-1",children:i.jsxs("label",{htmlFor:"direct_transfer",className:"cursor-pointer",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Od,{className:"h-5 w-5 text-green-600"}),i.jsx("span",{className:"font-medium",children:"Transferencia Directa"}),M>0&&i.jsxs("span",{className:"bg-green-600 text-white text-xs px-2 py-1 rounded-full",children:["Ahorra $",M.toLocaleString("es-MX",{minimumFractionDigits:2})," MXN!"]})]}),i.jsx("p",{className:"text-sm text-green-700",children:A>0?`Descuento del ${A}% ${(m==null?void 0:m.discountText)||"por evitar comisiones"}`:(m==null?void 0:m.discountText)||"por evitar comisiones"})]})})]})]})})]}),i.jsxs(te,{children:[i.jsx(He,{className:"pb-3",children:i.jsx(We,{className:"text-lg",children:"Resumen del Pedido"})}),i.jsxs(ie,{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsxs("span",{children:["Subtotal (",o,"x)"]}),i.jsxs("span",{children:["$",E.toLocaleString("es-MX",{minimumFractionDigits:2})," MXN"]})]}),u==="direct_transfer"&&M>0&&i.jsxs("div",{className:"flex justify-between text-sm text-green-600",children:[i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(ni,{className:"h-4 w-4"}),A>0?`Descuento por transferencia (${A}%) - ${(m==null?void 0:m.discountText)||"por evitar comisiones"}`:(m==null?void 0:m.discountText)||"por evitar comisiones"]}),i.jsxs("span",{children:["-$",M.toLocaleString("es-MX",{minimumFractionDigits:2})," MXN"]})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(tm,{className:"h-4 w-4"}),"Envo"]}),i.jsxs("span",{children:["$",L.toLocaleString("es-MX",{minimumFractionDigits:2})," MXN"]})]}),i.jsx(Q0,{}),u==="direct_transfer"&&M>0&&i.jsxs("div",{className:"flex justify-between text-sm text-gray-500 line-through",children:[i.jsx("span",{children:"Total sin descuento"}),i.jsxs("span",{children:["$",I.toLocaleString("es-MX",{minimumFractionDigits:2})," MXN"]})]}),i.jsxs("div",{className:"flex justify-between font-medium",children:[i.jsx("span",{children:"Total a Pagar"}),i.jsxs("span",{className:`text-lg ${u==="direct_transfer"&&M>0?"text-green-600":""}`,children:["$",R.toLocaleString("es-MX",{minimumFractionDigits:2})," MXN"]})]}),i.jsxs("div",{className:"pt-4 space-y-3",children:[i.jsx(z,{onClick:b,disabled:w.isPending,className:`w-full ${u==="direct_transfer"?"bg-green-600 hover:bg-green-700":"bg-blue-600 hover:bg-blue-700"}`,"data-testid":"button-checkout",children:w.isPending?"Procesando...":u==="direct_transfer"?"Procesar con Transferencia Directa":"Pagar con MercadoPago"}),i.jsx("p",{className:"text-xs text-muted-foreground text-center",children:u==="direct_transfer"?"Recibirs los datos bancarios para realizar la transferencia":"Sers redirigido a MercadoPago para completar tu pago de forma segura"})]})]})]}),i.jsx(te,{className:"bg-muted/50",children:i.jsx(ie,{className:"pt-4",children:i.jsx("div",{className:"text-sm text-muted-foreground",children:u==="direct_transfer"?i.jsxs(i.Fragment,{children:[i.jsxs("p",{className:"font-medium mb-2 flex items-center gap-2",children:[i.jsx(Wl,{className:"h-4 w-4 text-amber-500"}),"Transferencia Directa:"]}),i.jsxs("ul",{className:"space-y-1 text-xs",children:[i.jsx("li",{children:" Recibirs los datos bancarios por email"}),i.jsx("li",{children:" Tienes 24 horas para realizar la transferencia"}),i.jsx("li",{children:" Enva comprobante para agilizar el proceso"}),i.jsx("li",{children:" Tu pedido se enviar una vez confirmado el pago"})]})]}):i.jsxs(i.Fragment,{children:[i.jsx("p",{className:"font-medium mb-2",children:"Mtodos de pago MercadoPago:"}),i.jsxs("ul",{className:"space-y-1 text-xs",children:[i.jsx("li",{children:" Tarjetas de crdito y dbito"}),i.jsx("li",{children:" OXXO y tiendas de conveniencia"}),i.jsx("li",{children:" Transferencias bancarias"}),i.jsx("li",{children:" Meses sin intereses disponibles"})]})]})})})})]})]})]})})}function d9(){const{state:t,removeFromCart:e,updateQuantity:r,closeCart:n,getTotalPrice:s,clearCart:a}=po(),[o,l]=p.useState(!1),c=d=>new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN"}).format(d);return p.useEffect(()=>{const d=u=>{u.key==="Escape"&&t.isOpen&&(u.preventDefault(),u.stopPropagation(),n())};return t.isOpen&&document.addEventListener("keydown",d,!0),()=>{document.removeEventListener("keydown",d,!0)}},[t.isOpen,n]),t.isOpen?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40",onClick:n}),i.jsxs("div",{className:"fixed right-0 top-0 h-full w-96 bg-white shadow-xl z-50 flex flex-col",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(n1,{className:"w-5 h-5 text-boom-red"}),i.jsx("h2",{className:"text-lg font-semibold",children:"Carrito de Compras"}),t.items.length>0&&i.jsx(_e,{variant:"secondary",children:t.items.length})]}),i.jsx(z,{variant:"ghost",size:"sm",onClick:n,children:i.jsx(Mu,{className:"w-5 h-5"})})]}),i.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:t.items.length===0?i.jsxs("div",{className:"text-center py-8",children:[i.jsx(n1,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Tu carrito est vaco"}),i.jsx("p",{className:"text-gray-600",children:"Agrega productos para comenzar tu compra"})]}):i.jsx("div",{className:"space-y-4",children:t.items.map(d=>i.jsxs("div",{className:"border rounded-lg p-3",children:[i.jsxs("div",{className:"flex gap-3",children:[i.jsx("img",{src:d.product.imageUrl||"",alt:d.product.name,className:"w-16 h-16 object-cover rounded"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-medium text-sm line-clamp-2",children:d.product.name}),i.jsx("p",{className:"text-boom-red font-bold text-sm",children:c(parseFloat(d.product.price))}),i.jsxs("div",{className:"flex items-center justify-between mt-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(z,{variant:"outline",size:"sm",onClick:()=>r(d.product.id,d.quantity-1),disabled:d.quantity<=1,className:"w-8 h-8 p-0",children:i.jsx(h6,{className:"w-3 h-3"})}),i.jsx("span",{className:"w-8 text-center font-medium",children:d.quantity}),i.jsx(z,{variant:"outline",size:"sm",onClick:()=>r(d.product.id,d.quantity+1),className:"w-8 h-8 p-0",children:i.jsx(jn,{className:"w-3 h-3"})})]}),i.jsx(z,{variant:"ghost",size:"sm",onClick:()=>e(d.product.id),className:"text-red-500 hover:text-red-700 p-1",children:i.jsx(em,{className:"w-4 h-4"})})]})]})]}),i.jsx("div",{className:"mt-2 pt-2 border-t text-right",children:i.jsxs("p",{className:"text-sm font-medium",children:["Subtotal: ",c(parseFloat(d.product.price)*d.quantity)]})})]},d.product.id))})}),t.items.length>0&&i.jsxs("div",{className:"border-t p-4 space-y-3",children:[i.jsxs("div",{className:"flex justify-between items-center text-lg font-bold",children:[i.jsx("span",{children:"Total:"}),i.jsx("span",{className:"text-boom-red",children:c(s())})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(z,{className:"w-full bg-boom-red hover:bg-boom-red/90 text-white",onClick:()=>l(!0),"data-testid":"button-checkout",children:"Proceder al Pago"}),i.jsx(z,{variant:"outline",className:"w-full",onClick:a,"data-testid":"button-clear-cart",children:"Vaciar Carrito"})]})]})]}),o&&i.jsx(ym,{isOpen:o,onClose:()=>l(!1),cartItems:t.items,onSuccess:()=>{a(),n(),l(!1)}})]}):null}function Zi(){const[,t]=os(),{user:e,logoutMutation:r,isLoading:n}=Cn(),{toggleCart:s,getTotalItems:a}=po(),[o,l]=p.useState(""),c=h=>h?h.split(" ").map(f=>f[0]).join("").toUpperCase():"U",d=()=>{r.mutate()},u=h=>{h.preventDefault(),console.log("Searching for:",o)};return i.jsxs("nav",{className:"bg-white shadow-lg sticky top-0 z-50",children:[i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[i.jsxs("div",{className:"flex justify-between items-center h-14 sm:h-16",children:[i.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4 flex-1",children:[i.jsx("button",{onClick:()=>t("/"),className:"flex items-center flex-shrink-0",children:i.jsx("img",{src:B0,alt:"MercadoBoom Logo",className:"h-8 sm:h-10 w-auto"})}),i.jsx("div",{className:"hidden md:block flex-1 max-w-md lg:max-w-lg",children:i.jsxs("form",{onSubmit:u,className:"relative",children:[i.jsx(pe,{type:"text",placeholder:"Buscar productos...",value:o,onChange:h=>l(h.target.value),className:"w-full pl-10 pr-4 py-2 text-sm focus:ring-boom-yellow focus:border-boom-yellow"}),i.jsx(Vf,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400"})]})})]}),i.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[i.jsxs(z,{variant:"ghost",onClick:s,className:"relative p-2","data-testid":"button-cart",children:[i.jsx(ro,{className:"w-5 h-5 text-gray-700"}),a()>0&&i.jsx(_e,{className:"absolute -top-1 -right-1 bg-boom-red text-white text-xs w-5 h-5 flex items-center justify-center p-0",children:a()})]}),e?i.jsxs(Y7,{children:[i.jsx(J7,{asChild:!0,children:i.jsxs(z,{variant:"ghost",className:"flex items-center space-x-1 sm:space-x-2 p-1 sm:p-2",children:[i.jsx(T0,{className:"w-6 h-6 sm:w-8 sm:h-8",children:i.jsx(k0,{className:"bg-boom-yellow text-black text-xs sm:text-sm font-semibold",children:c(e.fullName)})}),i.jsx("span",{className:"hidden lg:block text-gray-700 text-sm",children:e.fullName})]})}),i.jsxs(_A,{align:"end",className:"w-56",children:[i.jsxs(Hc,{onClick:()=>t("/dashboard"),children:[i.jsx(Ql,{className:"mr-2 h-4 w-4"}),"Mi Cuenta"]}),i.jsxs(Hc,{onClick:()=>t("/dashboard"),children:[i.jsx(Jy,{className:"mr-2 h-4 w-4"}),"Configuracin"]}),e.isAdmin&&i.jsxs(i.Fragment,{children:[i.jsx(lx,{}),i.jsxs(Hc,{onClick:()=>t("/admin"),children:[i.jsx(Kl,{className:"mr-2 h-4 w-4"}),"Panel Admin"]})]}),i.jsx(lx,{}),i.jsxs(Hc,{onClick:d,className:"text-red-600",children:[i.jsx(d6,{className:"mr-2 h-4 w-4"}),"Cerrar Sesin"]})]})]}):i.jsxs(z,{onClick:()=>t("/auth"),size:"sm",className:"bg-boom-yellow text-black hover:bg-boom-yellow/90 text-xs sm:text-sm px-2 sm:px-4",children:[i.jsx(Ql,{className:"mr-1 sm:mr-2 h-3 w-3 sm:h-4 sm:w-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Iniciar Sesin"}),i.jsx("span",{className:"sm:hidden",children:"Login"})]}),i.jsx(z,{variant:"ghost",className:"md:hidden p-1",children:i.jsx(u6,{className:"h-5 w-5 text-gray-700"})})]})]}),i.jsx("div",{className:"md:hidden px-4 pb-3",children:i.jsxs("form",{onSubmit:u,className:"relative",children:[i.jsx(pe,{type:"text",placeholder:"Buscar productos...",value:o,onChange:h=>l(h.target.value),className:"w-full pl-10 pr-4 py-2 text-sm focus:ring-boom-yellow focus:border-boom-yellow"}),i.jsx(Vf,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400"})]})})]}),i.jsx(d9,{})]})}function yc(){return i.jsx("footer",{className:"bg-gray-900 text-white py-8 md:py-12 mt-8 md:mt-16",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 md:gap-8",children:[i.jsxs("div",{className:"sm:col-span-2 lg:col-span-1",children:[i.jsx("div",{className:"bg-white p-2 rounded-lg inline-block mb-4",children:i.jsx("img",{src:B0,alt:"MercadoBoom Logo",className:"h-8 sm:h-10 md:h-12 w-auto"})}),i.jsx("p",{className:"text-gray-400 text-sm sm:text-base",children:"La tienda en lnea ms rpida de Mxico. Compra electrnicos al mayoreo con la confianza de MercadoBoom."})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-base sm:text-lg mb-3 sm:mb-4",children:"Productos"}),i.jsxs("ul",{className:"space-y-1 sm:space-y-2 text-gray-400 text-sm sm:text-base",children:[i.jsx("li",{children:i.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:" Smartphones"})}),i.jsx("li",{children:i.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:" Laptops"})}),i.jsx("li",{children:i.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:" Audio"})}),i.jsx("li",{children:i.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:" Cmaras"})})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-base sm:text-lg mb-3 sm:mb-4",children:"Ayuda"}),i.jsxs("ul",{className:"space-y-1 sm:space-y-2 text-gray-400 text-sm sm:text-base",children:[i.jsx("li",{children:i.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Centro de Ayuda"})}),i.jsx("li",{children:i.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Seguimiento"})}),i.jsx("li",{children:i.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Devoluciones"})}),i.jsx("li",{children:i.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Contacto"})})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Contacto"}),i.jsxs("ul",{className:"space-y-2 text-gray-400",children:[i.jsxs("li",{className:"flex items-center",children:[i.jsx(Yy,{className:"mr-2 h-4 w-4"}),"+52 55 1256 2704"]}),i.jsxs("li",{className:"flex items-center",children:[i.jsx(Cs,{className:"mr-2 h-4 w-4"}),"ventas@mercadoboom.com"]}),i.jsxs("li",{className:"flex items-center",children:[i.jsx(Gl,{className:"mr-2 h-4 w-4"}),"CDMX, Mxico"]})]})]})]}),i.jsx("div",{className:"border-t border-gray-800 mt-8 pt-8 text-center text-gray-400",children:i.jsx("p",{children:" 2024 MercadoBoom. Todos los derechos reservados."})})]})})}function u9({product:t,open:e,onOpenChange:r}){const[n,s]=p.useState(0),[a,o]=p.useState(1),[l,c]=p.useState(!1),{addToCart:d,openCart:u,state:h}=po(),{toast:f}=cr();if(!t)return null;const g=[t.imageUrl,...t.images||[]].filter(M=>!!M),j=g.length>0,v=j?g:["data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400'%3E%3Crect fill='%23e5e7eb' width='400' height='400'/%3E%3Ctext fill='%239ca3af' font-family='sans-serif' font-size='24' x='50%25' y='50%25' text-anchor='middle' dominant-baseline='middle'%3ESin imagen%3C/text%3E%3C/svg%3E"],w=()=>{s(M=>(M+1)%v.length),o(1)},y=()=>{s(M=>(M-1+v.length)%v.length),o(1)},x=()=>{o(M=>Math.min(M+.25,3))},b=()=>{o(M=>Math.max(M-.25,1))},E=()=>{h.isOpen||(r(!1),s(0),o(1))},k=()=>{c(!0),r(!1),s(0),o(1)},T=()=>{d(t,1),f({title:"Producto agregado",description:`${t.name} se agreg a tu carrito`}),u()},A=t.isAffiliate||t.isImported,O=t.stock!==void 0&&t.stock!==null&&t.stock<=0;return i.jsxs(i.Fragment,{children:[i.jsx($r,{open:e,onOpenChange:E,children:i.jsxs(Er,{className:"max-w-5xl max-h-[90vh] overflow-y-auto p-0","data-testid":"dialog-product-quickview",children:[i.jsx("div",{className:"sticky top-0 bg-background z-10 px-6 pt-6 pb-4 border-b",children:i.jsx(Tr,{children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsx(kr,{className:"text-2xl font-bold pr-8","data-testid":"text-product-name",children:t.name}),i.jsx(z,{variant:"ghost",size:"icon",onClick:E,className:"absolute right-4 top-4","data-testid":"button-close-quickview",children:i.jsx(Mu,{className:"h-4 w-4"})})]})})}),i.jsxs("div",{className:"grid md:grid-cols-2 gap-6 p-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"relative bg-gray-50 dark:bg-gray-900 rounded-lg overflow-hidden aspect-square",children:[i.jsx("div",{className:"w-full h-full flex items-center justify-center overflow-hidden cursor-move",style:{transform:`scale(${a})`,transition:"transform 0.2s ease"},"data-testid":"image-main",children:i.jsx("img",{src:v[n],alt:t.name,className:"max-w-full max-h-full object-contain"})}),j&&v.length>1&&i.jsxs(i.Fragment,{children:[i.jsx(z,{variant:"secondary",size:"icon",className:"absolute left-2 top-1/2 -translate-y-1/2 rounded-full shadow-lg",onClick:y,"data-testid":"button-prev-image",children:i.jsx(e6,{className:"h-4 w-4"})}),i.jsx(z,{variant:"secondary",size:"icon",className:"absolute right-2 top-1/2 -translate-y-1/2 rounded-full shadow-lg",onClick:w,"data-testid":"button-next-image",children:i.jsx(yk,{className:"h-4 w-4"})})]}),i.jsxs("div",{className:"absolute bottom-4 right-4 flex gap-2",children:[i.jsx(z,{variant:"secondary",size:"icon",className:"rounded-full shadow-lg",onClick:b,disabled:a<=1,"data-testid":"button-zoom-out",children:i.jsx(b6,{className:"h-4 w-4"})}),i.jsx(z,{variant:"secondary",size:"icon",className:"rounded-full shadow-lg",onClick:x,disabled:a>=3,"data-testid":"button-zoom-in",children:i.jsx(v6,{className:"h-4 w-4"})})]}),j&&v.length>1&&i.jsxs("div",{className:"absolute bottom-4 left-4 bg-black/70 text-white px-3 py-1 rounded-full text-sm","data-testid":"text-image-counter",children:[n+1," / ",v.length]})]}),j&&v.length>1&&i.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:v.map((M,G)=>i.jsx("button",{onClick:()=>{s(G),o(1)},className:`flex-shrink-0 w-20 h-20 rounded-lg overflow-hidden border-2 transition-all ${n===G?"border-primary ring-2 ring-primary/20":"border-gray-200 dark:border-gray-700 hover:border-primary/50"}`,"data-testid":`button-thumbnail-${G}`,children:i.jsx("img",{src:M,alt:`${t.name} ${G+1}`,className:"w-full h-full object-cover"})},G))})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"text-4xl font-bold text-primary","data-testid":"text-product-price",children:["$",Number(t.price).toLocaleString("es-MX")]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.promotionType==="BOOM"&&i.jsxs(_e,{variant:"default",className:"bg-yellow-500 hover:bg-yellow-600","data-testid":"badge-boom",children:[i.jsx(Qo,{className:"w-3 h-3 mr-1"}),"BOOM"]}),t.promotionType==="OFERTA"&&i.jsx(_e,{variant:"destructive","data-testid":"badge-oferta",children:"OFERTA"}),t.promotionType==="RELAMPAGO"&&i.jsxs(_e,{variant:"default",className:"bg-orange-500 hover:bg-orange-600","data-testid":"badge-relampago",children:[i.jsx(Qo,{className:"w-3 h-3 mr-1"}),"RELMPAGO"]}),t.promotionType==="NUEVO"&&i.jsx(_e,{variant:"secondary","data-testid":"badge-nuevo",children:"NUEVO"}),O&&i.jsx(_e,{variant:"outline",className:"bg-gray-100 dark:bg-gray-800","data-testid":"badge-agotado",children:"AGOTADO"}),t.isImported&&i.jsxs(_e,{variant:"outline",className:"border-blue-500 text-blue-600 dark:text-blue-400","data-testid":"badge-importacion",children:[i.jsx(Zr,{className:"w-3 h-3 mr-1"}),"IMPORTACIN"]}),t.isAffiliate&&i.jsxs(_e,{variant:"outline",className:"border-purple-500 text-purple-600 dark:text-purple-400","data-testid":"badge-externo",children:[i.jsx(Wa,{className:"w-3 h-3 mr-1"}),"EXTERNO"]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Descripcin"}),i.jsx("p",{className:"text-muted-foreground leading-relaxed","data-testid":"text-product-description",children:t.description})]}),t.isImported&&t.importDeliveryDays&&i.jsx(te,{className:"border-blue-200 dark:border-blue-900 bg-blue-50 dark:bg-blue-950/30",children:i.jsx(ie,{className:"pt-6",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(mn,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 mt-0.5"}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"font-semibold text-blue-900 dark:text-blue-100",children:"Producto de Importacin"}),i.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:["Entrega estimada: ",t.importDeliveryDays," das hbiles"]})]})]})})}),t.isAffiliate&&t.affiliateUrl&&i.jsx(te,{className:"border-purple-200 dark:border-purple-900 bg-purple-50 dark:bg-purple-950/30",children:i.jsx(ie,{className:"pt-6",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(Wa,{className:"w-5 h-5 text-purple-600 dark:text-purple-400 mt-0.5"}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"font-semibold text-purple-900 dark:text-purple-100",children:"Producto Externo"}),i.jsx("p",{className:"text-sm text-purple-700 dark:text-purple-300",children:"Sers redirigido al sitio del vendedor"})]})]})})}),t.stock!==void 0&&t.stock!==null&&t.stock>0&&i.jsxs("div",{className:"text-sm text-muted-foreground","data-testid":"text-stock",children:["Stock disponible: ",i.jsx("span",{className:"font-semibold text-foreground",children:t.stock})]}),i.jsxs("div",{className:"space-y-3 pt-4",children:[A&&t.affiliateUrl?i.jsxs(z,{className:"w-full",size:"lg",onClick:()=>t.affiliateUrl&&window.open(t.affiliateUrl,"_blank"),"data-testid":"button-affiliate-link",children:[i.jsx(Wa,{className:"w-4 h-4 mr-2"}),"Comprar en Sitio Externo"]}):i.jsxs(z,{className:"w-full",size:"lg",disabled:O,onClick:k,"data-testid":"button-buy-now",children:[i.jsx(Qo,{className:"w-4 h-4 mr-2"}),O?"Agotado":"Comprar Ahora"]}),!A&&i.jsxs(z,{variant:"outline",className:"w-full",size:"lg",disabled:O,onClick:T,"data-testid":"button-add-cart",children:[i.jsx(ro,{className:"w-4 h-4 mr-2"}),"Agregar al Carrito"]})]})]})]})]})}),l&&i.jsx(ym,{product:t,isOpen:l,onClose:()=>c(!1)})]})}function Y0({product:t}){const{toast:e}=cr(),[,r]=os(),{user:n}=Cn(),[s,a]=p.useState(!1),[o,l]=p.useState(!1),{addToCart:c,openCart:d}=po(),u=()=>{if(t.isAffiliate&&t.affiliateUrl){window.open(t.affiliateUrl,"_blank","noopener,noreferrer"),e({title:"Redirigiendo...",description:`Te hemos enviado a ${t.affiliateStore||"la tienda externa"}`});return}if(!n){e({title:"Inicia Sesin",description:"Debes iniciar sesin para realizar una compra",variant:"destructive"}),r("/auth");return}a(!0)},h=()=>{if(t.isAffiliate&&t.affiliateUrl){window.open(t.affiliateUrl,"_blank","noopener,noreferrer"),e({title:"Redirigiendo...",description:`Te hemos enviado a ${t.affiliateStore||"la tienda externa"}`});return}c(t,1),e({title:"Producto agregado!",description:`${t.name} se agreg al carrito`})},f=()=>{const v=[];if(!t.stock&&!t.isAffiliate)v.push(i.jsx(_e,{className:"bg-gray-500 text-white text-xs font-bold",children:"AGOTADO"},"agotado"));else if(t.isAffiliate)v.push(i.jsx(_e,{className:"bg-blue-600 text-white text-xs font-bold",children:"EXTERNO"},"externo"));else if(t.isImported)v.push(i.jsx(_e,{className:"bg-amber-600 text-white text-xs font-bold","data-testid":"badge-import",children:"IMPORTACIN"},"importado"));else if(t.promotionType){const y={BOOM:{text:"Promocin BOOM",className:"bg-boom-red text-white"},OFERTA:{text:"En Oferta",className:"bg-orange-500 text-white"},RELAMPAGO:{text:"Promocin Relmpago",className:"bg-purple-600 text-white"},NUEVO:{text:"Nuevo",className:"bg-green-600 text-white"}}[t.promotionType];y&&v.push(i.jsx(_e,{className:`${y.className} text-xs font-bold`,children:y.text},"promotion"))}return v.length>0?i.jsx("div",{className:"absolute top-2 left-2 z-10 flex flex-col gap-1",children:v}):null},g=v=>`$${Number(v).toLocaleString()}`,m=t.imageUrl||(t.images&&t.images.length>0?t.images[0]:null)||"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400'%3E%3Crect fill='%23e5e7eb' width='400' height='400'/%3E%3Ctext fill='%239ca3af' font-family='sans-serif' font-size='24' x='50%25' y='50%25' text-anchor='middle' dominant-baseline='middle'%3ESin imagen%3C/text%3E%3C/svg%3E";return i.jsxs(i.Fragment,{children:[i.jsxs(te,{className:"product-card-hover bg-white rounded-xl shadow-lg overflow-hidden relative h-full flex flex-col","data-testid":`card-product-${t.id}`,children:[f(),i.jsxs("div",{className:"cursor-pointer relative group",onClick:()=>l(!0),"data-testid":`link-product-detail-${t.id}`,children:[i.jsx("img",{src:m,alt:t.name,className:"w-full h-40 sm:h-48 object-cover transition-transform group-hover:scale-105","data-testid":`img-product-${t.id}`}),i.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-10 transition-all flex items-center justify-center",children:i.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity bg-white rounded-full p-2",children:i.jsx(d0,{className:"w-5 h-5 text-boom-red"})})})]}),i.jsxs(ie,{className:"p-3 sm:p-4 flex-1 flex flex-col",children:[i.jsx("h3",{className:"font-semibold text-gray-900 text-sm sm:text-base mb-1 sm:mb-2 line-clamp-2","data-testid":`text-product-name-${t.id}`,children:t.name}),i.jsx("p",{className:"text-gray-600 text-xs sm:text-sm mb-2 sm:mb-3 line-clamp-2 flex-1","data-testid":`text-product-description-${t.id}`,children:t.description}),t.isImported&&i.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-2 mb-3","data-testid":"info-import",children:[i.jsxs("div",{className:"flex items-center gap-2 text-amber-700",children:[i.jsx(mn,{className:"w-3 h-3"}),i.jsx("span",{className:"text-xs font-medium","data-testid":"text-import-description",children:t.importDescription||"Producto de importacin"})]}),i.jsxs("div",{className:"text-xs text-amber-600 mt-1","data-testid":"text-import-days",children:["Entrega estimada: ",t.importDeliveryDays||15," das hbiles"]})]}),i.jsxs("div",{className:"mt-auto",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2 sm:mb-3",children:[i.jsx("div",{className:"text-lg sm:text-xl font-bold text-green-600","data-testid":`text-product-price-${t.id}`,children:g(t.price)}),t.promotionType==="BOOM"&&i.jsxs("div",{className:"flex items-center text-boom-red",children:[i.jsx(Qo,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1"}),i.jsx("span",{className:"text-xs font-bold",children:"BOOM"})]})]}),t.isAffiliate?i.jsxs(z,{onClick:u,className:"w-full bg-boom-red hover:bg-red-700 text-white py-2 px-4 text-sm sm:text-base","data-testid":`button-buy-${t.id}`,children:[i.jsx(ro,{className:"w-4 h-4 mr-2"}),"Ver en Tienda Externa"]}):i.jsxs("div",{className:"space-y-2",children:[i.jsxs(z,{onClick:h,disabled:!t.stock,variant:"outline",className:"w-full border-boom-red text-boom-red hover:bg-boom-red hover:text-white py-2 px-4 text-sm sm:text-base","data-testid":`button-add-cart-${t.id}`,children:[i.jsx(jn,{className:"w-4 h-4 mr-2"}),t.stock?"Agregar al Carrito":"Agotado"]}),i.jsxs(z,{onClick:u,disabled:!t.stock,className:"w-full bg-boom-red hover:bg-red-700 text-white py-2 px-4 text-sm sm:text-base","data-testid":`button-buy-${t.id}`,children:[i.jsx(ro,{className:"w-4 h-4 mr-2"}),t.stock?"Comprar Ahora":"Agotado"]})]})]})]})]}),!t.isAffiliate&&i.jsx(ym,{isOpen:s,onClose:()=>a(!1),product:t}),i.jsx(u9,{product:t,open:o,onOpenChange:l})]})}function qn({className:t,...e}){return i.jsx("div",{className:me("animate-pulse rounded-md bg-muted",t),...e})}function h9({categoryId:t}){const{data:e=[],isLoading:r}=nt({queryKey:t?["/api/products","category",t]:["/api/products","featured"],queryFn:async()=>{const n=t?`/api/products?category=${t}`:"/api/products?featured=true",s=await fetch(n);if(!s.ok)throw new Error("Network response was not ok");return s.json()}});return r?i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:Array.from({length:4}).map((n,s)=>i.jsxs(te,{className:"overflow-hidden",children:[i.jsx(qn,{className:"h-48 w-full"}),i.jsxs(ie,{className:"p-4 space-y-3",children:[i.jsx(qn,{className:"h-4 w-3/4"}),i.jsx(qn,{className:"h-6 w-1/2"}),i.jsx(qn,{className:"h-4 w-2/3"}),i.jsx(qn,{className:"h-10 w-full"})]})]},s))}):e.length===0?i.jsx(te,{className:"p-8",children:i.jsxs("div",{className:"text-center",children:[i.jsx(Zr,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No hay productos disponibles"}),i.jsx("p",{className:"text-gray-500",children:t?"No se encontraron productos en esta categora":"No hay productos destacados"})]})}):i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 md:gap-6",children:e.map(n=>i.jsx(Y0,{product:n},n.id))})}function f9(){const[t,e]=p.useState(null),[r,n]=p.useState(0),[s,a]=p.useState(0),{user:o}=Cn(),[,l]=os(),{data:c=[]}=nt({queryKey:["/api/categories"]}),{data:d=[]}=nt({queryKey:["/api/banners"]}),{data:u=[]}=nt({queryKey:["/api/special-offers"]});p.useEffect(()=>{if(d.length>1){const j=setInterval(()=>{n(m=>(m+1)%d.length)},5e3);return()=>clearInterval(j)}},[d.length]),p.useEffect(()=>{if(u.length>1){const j=setInterval(()=>{a(m=>(m+1)%u.length)},4e3);return()=>clearInterval(j)}},[u.length]);const h=d.filter(j=>j.isActive).sort((j,m)=>(j.displayOrder||0)-(m.displayOrder||0)),f=u.filter(j=>j.isActive).sort((j,m)=>(j.displayOrder||0)-(m.displayOrder||0)),g=h[r];return f[s],i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsx(Zi,{}),g?i.jsxs("section",{className:"relative text-white py-8 md:py-12 min-h-[400px] flex items-center overflow-hidden",style:{background:g.isTransparent?"transparent":g.backgroundColor||"linear-gradient(to right, #ff4444, #ff6666)",color:g.textColor||"#ffffff"},children:[g.imageUrl&&i.jsx("div",{className:`absolute inset-0 bg-cover bg-center bg-no-repeat ${g.isTransparent?"opacity-100":"opacity-20"}`,style:{backgroundImage:`url(${g.imageUrl})`}}),i.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[i.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-black mb-4",children:g.title}),g.subtitle&&i.jsx("p",{className:"text-lg sm:text-xl md:text-2xl mb-6 md:mb-8 px-2",children:g.subtitle}),!o&&i.jsxs("p",{className:"text-sm sm:text-base md:text-lg mb-6 bg-white/10 backdrop-blur-sm rounded-lg p-3 md:p-4 max-w-xs sm:max-w-lg md:max-w-2xl mx-auto",children:[" ",i.jsx("strong",{children:"Explora nuestros productos"})," y encuentra las mejores ofertas.",i.jsx("br",{className:"hidden sm:block"}),i.jsx("span",{className:"block sm:inline",children:' Cuando encuentres algo que te guste, haz clic en "Comprar Ahora" para registrarte y completar tu compra!'})]}),g.buttonText&&g.buttonLink&&i.jsxs(z,{onClick:()=>{var j;(j=g.buttonLink)!=null&&j.startsWith("http")?window.open(g.buttonLink,"_blank"):l(g.buttonLink||"/")},className:`font-bold px-6 py-3 text-lg ${g.isTransparent?"bg-black/70 text-white hover:bg-black/80 backdrop-blur-sm border border-white/20":"bg-white text-black hover:bg-gray-100"}`,"data-testid":"button-banner-action",children:[g.buttonText,i.jsx(XL,{className:"ml-2 h-5 w-5"})]}),h.length>1&&i.jsx("div",{className:"flex justify-center mt-6 space-x-2",children:h.map((j,m)=>i.jsx("button",{onClick:()=>n(m),className:`w-3 h-3 rounded-full transition-all ${m===r?"bg-white":"bg-white/50 hover:bg-white/75"}`},m))})]})]}):i.jsx("section",{className:"bg-gradient-to-r from-boom-red to-boom-light-red text-white py-8 md:py-12",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[i.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-black mb-4",children:"COMPRA BOOM!"}),i.jsx("p",{className:"text-lg sm:text-xl md:text-2xl mb-6 md:mb-8 px-2",children:"Los mejores productos electrnicos al mayoreo. Compra rpido y seguro!"}),!o&&i.jsxs("p",{className:"text-sm sm:text-base md:text-lg mb-6 bg-white/10 backdrop-blur-sm rounded-lg p-3 md:p-4 max-w-xs sm:max-w-lg md:max-w-2xl mx-auto",children:[" ",i.jsx("strong",{children:"Explora nuestros productos"})," y encuentra las mejores ofertas.",i.jsx("br",{className:"hidden sm:block"}),i.jsx("span",{className:"block sm:inline",children:' Cuando encuentres algo que te guste, haz clic en "Comprar Ahora" para registrarte y completar tu compra!'})]}),i.jsx("div",{className:"boom-explosion w-16 h-16 sm:w-20 sm:h-20 md:w-24 md:h-24 mx-auto flex items-center justify-center",children:i.jsx("span",{className:"text-black font-black text-sm sm:text-base md:text-lg",children:"BOOM!"})})]})}),i.jsx("section",{className:"py-6 md:py-8 bg-white relative z-10",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"flex overflow-x-auto space-x-2 sm:space-x-3 md:space-x-4 pb-4 scrollbar-hide",children:[i.jsxs(z,{variant:t===null?"default":"outline",onClick:()=>e(null),className:`flex-shrink-0 px-3 py-2 sm:px-4 sm:py-2 md:px-6 md:py-3 rounded-full text-xs sm:text-sm md:text-base font-semibold whitespace-nowrap ${t===null?"bg-boom-yellow text-black hover:bg-boom-yellow/90":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[i.jsx("span",{className:"hidden sm:inline",children:"Todos los productos"}),i.jsx("span",{className:"sm:hidden",children:"Todos"})]}),c.map(j=>i.jsxs(z,{variant:t===j.id?"default":"outline",onClick:()=>e(j.id),title:j.name,className:`flex-shrink-0 px-3 py-2 sm:px-4 sm:py-2 md:px-6 md:py-3 rounded-full text-xs sm:text-sm md:text-base font-semibold whitespace-nowrap ${t===j.id?"bg-boom-yellow text-black hover:bg-boom-yellow/90":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[i.jsx("span",{className:"mr-1",children:j.emoji}),i.jsx("span",{className:"hidden sm:inline",children:j.name}),i.jsx("span",{className:"sm:hidden inline-block w-[12ch] truncate align-bottom",children:j.name})]},j.id))]})})}),i.jsx("section",{className:"py-8 md:py-12 bg-gray-50",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[i.jsx("div",{className:"flex justify-between items-center mb-6 md:mb-8",children:i.jsx("h2",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-gray-900",children:t?"Productos de la Categora":"Productos Destacados"})}),i.jsx(h9,{categoryId:t})]})}),i.jsx("section",{className:"py-12 md:py-16 bg-white",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8",children:[i.jsx(te,{className:"text-center",children:i.jsxs(ie,{className:"pt-6",children:[i.jsx("div",{className:"bg-boom-yellow w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(Qo,{className:"text-2xl text-black"})}),i.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Compra Instantnea"}),i.jsx("p",{className:"text-gray-600",children:"Sin carrito, sin esperas. Compra directamente con un clic."})]})}),i.jsx(te,{className:"text-center",children:i.jsxs(ie,{className:"pt-6",children:[i.jsx("div",{className:"bg-boom-red w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(Kl,{className:"text-2xl text-white"})}),i.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Compra Segura"}),i.jsx("p",{className:"text-gray-600",children:"Pagos protegidos y garanta en todos los productos."})]})}),i.jsx(te,{className:"text-center",children:i.jsxs(ie,{className:"pt-6",children:[i.jsx("div",{className:"bg-boom-yellow w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(tm,{className:"text-2xl text-black"})}),i.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Envo Rpido"}),i.jsx("p",{className:"text-gray-600",children:"Envos a toda la Repblica desde CDMX en 24-48hrs."})]})})]})})}),i.jsx(yc,{})]})}var J0="Tabs",[p9,aY]=Hr(J0,[mc]),X4=mc(),[m9,eb]=p9(J0),Z4=p.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:a,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=t,u=Lu(l),[h,f]=ci({prop:n,onChange:s,defaultProp:a});return i.jsx(m9,{scope:r,baseId:Os(),value:h,onValueChange:f,orientation:o,dir:u,activationMode:c,children:i.jsx(Te.div,{dir:u,"data-orientation":o,...d,ref:e})})});Z4.displayName=J0;var Y4="TabsList",J4=p.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...s}=t,a=eb(Y4,r),o=X4(r);return i.jsx(A0,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:n,children:i.jsx(Te.div,{role:"tablist","aria-orientation":a.orientation,...s,ref:e})})});J4.displayName=Y4;var eR="TabsTrigger",tR=p.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...a}=t,o=eb(eR,r),l=X4(r),c=sR(o.baseId,n),d=iR(o.baseId,n),u=n===o.value;return i.jsx(R0,{asChild:!0,...l,focusable:!s,active:u,children:i.jsx(Te.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...a,ref:e,onMouseDown:re(t.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?o.onValueChange(n):h.preventDefault()}),onKeyDown:re(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(n)}),onFocus:re(t.onFocus,()=>{const h=o.activationMode!=="manual";!u&&!s&&h&&o.onValueChange(n)})})})});tR.displayName=eR;var rR="TabsContent",nR=p.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:s,children:a,...o}=t,l=eb(rR,r),c=sR(l.baseId,n),d=iR(l.baseId,n),u=n===l.value,h=p.useRef(u);return p.useEffect(()=>{const f=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(f)},[]),i.jsx(Sn,{present:s||u,children:({present:f})=>i.jsx(Te.div,{"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!f,id:d,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:h.current?"0s":void 0},children:f&&a})})});nR.displayName=rR;function sR(t,e){return`${t}-trigger-${e}`}function iR(t,e){return`${t}-content-${e}`}var g9=Z4,aR=J4,oR=tR,lR=nR;const y9=g9,cR=p.forwardRef(({className:t,...e},r)=>i.jsx(aR,{ref:r,className:me("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));cR.displayName=aR.displayName;const mx=p.forwardRef(({className:t,...e},r)=>i.jsx(oR,{ref:r,className:me("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));mx.displayName=oR.displayName;const gx=p.forwardRef(({className:t,...e},r)=>i.jsx(lR,{ref:r,className:me("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));gx.displayName=lR.displayName;var Bu=t=>t.type==="checkbox",Sa=t=>t instanceof Date,_r=t=>t==null;const dR=t=>typeof t=="object";var Rt=t=>!_r(t)&&!Array.isArray(t)&&dR(t)&&!Sa(t),uR=t=>Rt(t)&&t.target?Bu(t.target)?t.target.checked:t.target.value:t,x9=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,hR=(t,e)=>t.has(x9(e)),v9=t=>{const e=t.constructor&&t.constructor.prototype;return Rt(e)&&e.hasOwnProperty("isPrototypeOf")},tb=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function tr(t){let e;const r=Array.isArray(t),n=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(tb&&(t instanceof Blob||n))&&(r||Rt(t)))if(e=r?[]:{},!r&&!v9(t))e=t;else for(const s in t)t.hasOwnProperty(s)&&(e[s]=tr(t[s]));else return t;return e}var xm=t=>Array.isArray(t)?t.filter(Boolean):[],Tt=t=>t===void 0,se=(t,e,r)=>{if(!e||!Rt(t))return r;const n=xm(e.split(/[,[\].]+?/)).reduce((s,a)=>_r(s)?s:s[a],t);return Tt(n)||n===t?Tt(t[e])?r:t[e]:n},Kr=t=>typeof t=="boolean",rb=t=>/^\w*$/.test(t),fR=t=>xm(t.replace(/["|']|\]/g,"").split(/\.|\[/)),st=(t,e,r)=>{let n=-1;const s=rb(e)?[e]:fR(e),a=s.length,o=a-1;for(;++n<a;){const l=s[n];let c=r;if(n!==o){const d=t[l];c=Rt(d)||Array.isArray(d)?d:isNaN(+s[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=c,t=t[l]}};const Jf={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Gn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},zs={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},pR=Me.createContext(null),vm=()=>Me.useContext(pR),b9=t=>{const{children:e,...r}=t;return Me.createElement(pR.Provider,{value:r},e)};var mR=(t,e,r,n=!0)=>{const s={defaultValues:e._defaultValues};for(const a in t)Object.defineProperty(s,a,{get:()=>{const o=a;return e._proxyFormState[o]!==Gn.all&&(e._proxyFormState[o]=!n||Gn.all),r&&(r[o]=!0),t[o]}});return s};function w9(t){const e=vm(),{control:r=e.control,disabled:n,name:s,exact:a}=t||{},[o,l]=Me.useState(r._formState),c=Me.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=Me.useRef(s);return d.current=s,Me.useEffect(()=>r._subscribe({name:d.current,formState:c.current,exact:a,callback:u=>{!n&&l({...r._formState,...u})}}),[r,n,a]),Me.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),Me.useMemo(()=>mR(o,r,c.current,!1),[o,r])}var Es=t=>typeof t=="string",gR=(t,e,r,n,s)=>Es(t)?(n&&e.watch.add(t),se(r,t,s)):Array.isArray(t)?t.map(a=>(n&&e.watch.add(a),se(r,a))):(n&&(e.watchAll=!0),r);function j9(t){const e=vm(),{control:r=e.control,name:n,defaultValue:s,disabled:a,exact:o}=t||{},l=Me.useRef(n),c=Me.useRef(s);l.current=n,Me.useEffect(()=>r._subscribe({name:l.current,formState:{values:!0},exact:o,callback:h=>!a&&u(gR(l.current,r._names,h.values||r._formValues,!1,c.current))}),[r,a,o]);const[d,u]=Me.useState(r._getWatch(n,s));return Me.useEffect(()=>r._removeUnmounted()),d}function N9(t){const e=vm(),{name:r,disabled:n,control:s=e.control,shouldUnregister:a}=t,o=hR(s._names.array,r),l=j9({control:s,name:r,defaultValue:se(s._formValues,r,se(s._defaultValues,r,t.defaultValue)),exact:!0}),c=w9({control:s,name:r,exact:!0}),d=Me.useRef(t),u=Me.useRef(s.register(r,{...t.rules,value:l,...Kr(t.disabled)?{disabled:t.disabled}:{}})),h=Me.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!se(c.errors,r)},isDirty:{enumerable:!0,get:()=>!!se(c.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!se(c.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!se(c.validatingFields,r)},error:{enumerable:!0,get:()=>se(c.errors,r)}}),[c,r]),f=Me.useCallback(v=>u.current.onChange({target:{value:uR(v),name:r},type:Jf.CHANGE}),[r]),g=Me.useCallback(()=>u.current.onBlur({target:{value:se(s._formValues,r),name:r},type:Jf.BLUR}),[r,s._formValues]),j=Me.useCallback(v=>{const w=se(s._fields,r);w&&v&&(w._f.ref={focus:()=>v.focus(),select:()=>v.select(),setCustomValidity:y=>v.setCustomValidity(y),reportValidity:()=>v.reportValidity()})},[s._fields,r]),m=Me.useMemo(()=>({name:r,value:l,...Kr(n)||c.disabled?{disabled:c.disabled||n}:{},onChange:f,onBlur:g,ref:j}),[r,n,c.disabled,f,g,j,l]);return Me.useEffect(()=>{const v=s._options.shouldUnregister||a;s.register(r,{...d.current.rules,...Kr(d.current.disabled)?{disabled:d.current.disabled}:{}});const w=(y,x)=>{const b=se(s._fields,y);b&&b._f&&(b._f.mount=x)};if(w(r,!0),v){const y=tr(se(s._options.defaultValues,r));st(s._defaultValues,r,y),Tt(se(s._formValues,r))&&st(s._formValues,r,y)}return!o&&s.register(r),()=>{(o?v&&!s._state.action:v)?s.unregister(r):w(r,!1)}},[r,s,o,a]),Me.useEffect(()=>{s._setDisabledField({disabled:n,name:r})},[n,r,s]),Me.useMemo(()=>({field:m,formState:c,fieldState:h}),[m,c,h])}const S9=t=>t.render(N9(t));var yR=(t,e,r,n,s)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:s||!0}}:{},ud=t=>Array.isArray(t)?t:[t],A1=()=>{let t=[];return{get observers(){return t},next:s=>{for(const a of t)a.next&&a.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(a=>a!==s)}}),unsubscribe:()=>{t=[]}}},yx=t=>_r(t)||!dR(t);function Ei(t,e){if(yx(t)||yx(e))return t===e;if(Sa(t)&&Sa(e))return t.getTime()===e.getTime();const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(const s of r){const a=t[s];if(!n.includes(s))return!1;if(s!=="ref"){const o=e[s];if(Sa(a)&&Sa(o)||Rt(a)&&Rt(o)||Array.isArray(a)&&Array.isArray(o)?!Ei(a,o):a!==o)return!1}}return!0}var Sr=t=>Rt(t)&&!Object.keys(t).length,nb=t=>t.type==="file",Kn=t=>typeof t=="function",ep=t=>{if(!tb)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},xR=t=>t.type==="select-multiple",sb=t=>t.type==="radio",C9=t=>sb(t)||Bu(t),bg=t=>ep(t)&&t.isConnected;function _9(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=Tt(t)?n++:t[e[n++]];return t}function E9(t){for(const e in t)if(t.hasOwnProperty(e)&&!Tt(t[e]))return!1;return!0}function It(t,e){const r=Array.isArray(e)?e:rb(e)?[e]:fR(e),n=r.length===1?t:_9(t,r),s=r.length-1,a=r[s];return n&&delete n[a],s!==0&&(Rt(n)&&Sr(n)||Array.isArray(n)&&E9(n))&&It(t,r.slice(0,-1)),t}var vR=t=>{for(const e in t)if(Kn(t[e]))return!0;return!1};function tp(t,e={}){const r=Array.isArray(t);if(Rt(t)||r)for(const n in t)Array.isArray(t[n])||Rt(t[n])&&!vR(t[n])?(e[n]=Array.isArray(t[n])?[]:{},tp(t[n],e[n])):_r(t[n])||(e[n]=!0);return e}function bR(t,e,r){const n=Array.isArray(t);if(Rt(t)||n)for(const s in t)Array.isArray(t[s])||Rt(t[s])&&!vR(t[s])?Tt(e)||yx(r[s])?r[s]=Array.isArray(t[s])?tp(t[s],[]):{...tp(t[s])}:bR(t[s],_r(e)?{}:e[s],r[s]):r[s]=!Ei(t[s],e[s]);return r}var Oc=(t,e)=>bR(t,e,tp(e));const R1={value:!1,isValid:!1},O1={value:!0,isValid:!0};var wR=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Tt(t[0].attributes.value)?Tt(t[0].value)||t[0].value===""?O1:{value:t[0].value,isValid:!0}:O1:R1}return R1},jR=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>Tt(t)?t:e?t===""?NaN:t&&+t:r&&Es(t)?new Date(t):n?n(t):t;const F1={isValid:!1,value:null};var NR=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,F1):F1;function I1(t){const e=t.ref;return nb(e)?e.files:sb(e)?NR(t.refs).value:xR(e)?[...e.selectedOptions].map(({value:r})=>r):Bu(e)?wR(t.refs).value:jR(Tt(e.value)?t.ref.value:e.value,t)}var T9=(t,e,r,n)=>{const s={};for(const a of t){const o=se(e,a);o&&st(s,a,o._f)}return{criteriaMode:r,names:[...t],fields:s,shouldUseNativeValidation:n}},rp=t=>t instanceof RegExp,Fc=t=>Tt(t)?t:rp(t)?t.source:Rt(t)?rp(t.value)?t.value.source:t.value:t,M1=t=>({isOnSubmit:!t||t===Gn.onSubmit,isOnBlur:t===Gn.onBlur,isOnChange:t===Gn.onChange,isOnAll:t===Gn.all,isOnTouch:t===Gn.onTouched});const D1="AsyncFunction";var k9=t=>!!t&&!!t.validate&&!!(Kn(t.validate)&&t.validate.constructor.name===D1||Rt(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===D1)),P9=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),L1=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const hd=(t,e,r,n)=>{for(const s of r||Object.keys(t)){const a=se(t,s);if(a){const{_f:o,...l}=a;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],s)&&!n)return!0;if(o.ref&&e(o.ref,o.name)&&!n)return!0;if(hd(l,e))break}else if(Rt(l)&&hd(l,e))break}}};function $1(t,e,r){const n=se(t,r);if(n||rb(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const a=s.join("."),o=se(e,a),l=se(t,a);if(o&&!Array.isArray(o)&&r!==a)return{name:r};if(l&&l.type)return{name:a,error:l};s.pop()}return{name:r}}var A9=(t,e,r,n)=>{r(t);const{name:s,...a}=t;return Sr(a)||Object.keys(a).length>=Object.keys(e).length||Object.keys(a).find(o=>e[o]===(!n||Gn.all))},R9=(t,e,r)=>!t||!e||t===e||ud(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n))),O9=(t,e,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(e||t):(r?n.isOnBlur:s.isOnBlur)?!t:(r?n.isOnChange:s.isOnChange)?t:!0,F9=(t,e)=>!xm(se(t,e)).length&&It(t,e),I9=(t,e,r)=>{const n=ud(se(t,r));return st(n,"root",e[r]),st(t,r,n),t},sf=t=>Es(t);function U1(t,e,r="validate"){if(sf(t)||Array.isArray(t)&&t.every(sf)||Kr(t)&&!t)return{type:r,message:sf(t)?t:"",ref:e}}var So=t=>Rt(t)&&!rp(t)?t:{value:t,message:""},z1=async(t,e,r,n,s,a)=>{const{ref:o,refs:l,required:c,maxLength:d,minLength:u,min:h,max:f,pattern:g,validate:j,name:m,valueAsNumber:v,mount:w}=t._f,y=se(r,m);if(!w||e.has(m))return{};const x=l?l[0]:o,b=L=>{s&&x.reportValidity&&(x.setCustomValidity(Kr(L)?"":L||""),x.reportValidity())},E={},k=sb(o),T=Bu(o),A=k||T,O=(v||nb(o))&&Tt(o.value)&&Tt(y)||ep(o)&&o.value===""||y===""||Array.isArray(y)&&!y.length,M=yR.bind(null,m,n,E),G=(L,R,I,ae=zs.maxLength,J=zs.minLength)=>{const ce=L?R:I;E[m]={type:L?ae:J,message:ce,ref:o,...M(L?ae:J,ce)}};if(a?!Array.isArray(y)||!y.length:c&&(!A&&(O||_r(y))||Kr(y)&&!y||T&&!wR(l).isValid||k&&!NR(l).isValid)){const{value:L,message:R}=sf(c)?{value:!!c,message:c}:So(c);if(L&&(E[m]={type:zs.required,message:R,ref:x,...M(zs.required,R)},!n))return b(R),E}if(!O&&(!_r(h)||!_r(f))){let L,R;const I=So(f),ae=So(h);if(!_r(y)&&!isNaN(y)){const J=o.valueAsNumber||y&&+y;_r(I.value)||(L=J>I.value),_r(ae.value)||(R=J<ae.value)}else{const J=o.valueAsDate||new Date(y),ce=W=>new Date(new Date().toDateString()+" "+W),F=o.type=="time",$=o.type=="week";Es(I.value)&&y&&(L=F?ce(y)>ce(I.value):$?y>I.value:J>new Date(I.value)),Es(ae.value)&&y&&(R=F?ce(y)<ce(ae.value):$?y<ae.value:J<new Date(ae.value))}if((L||R)&&(G(!!L,I.message,ae.message,zs.max,zs.min),!n))return b(E[m].message),E}if((d||u)&&!O&&(Es(y)||a&&Array.isArray(y))){const L=So(d),R=So(u),I=!_r(L.value)&&y.length>+L.value,ae=!_r(R.value)&&y.length<+R.value;if((I||ae)&&(G(I,L.message,R.message),!n))return b(E[m].message),E}if(g&&!O&&Es(y)){const{value:L,message:R}=So(g);if(rp(L)&&!y.match(L)&&(E[m]={type:zs.pattern,message:R,ref:o,...M(zs.pattern,R)},!n))return b(R),E}if(j){if(Kn(j)){const L=await j(y,r),R=U1(L,x);if(R&&(E[m]={...R,...M(zs.validate,R.message)},!n))return b(R.message),E}else if(Rt(j)){let L={};for(const R in j){if(!Sr(L)&&!n)break;const I=U1(await j[R](y,r),x,R);I&&(L={...I,...M(R,I.message)},b(I.message),n&&(E[m]=L))}if(!Sr(L)&&(E[m]={ref:x,...L},!n))return E}}return b(!0),E};const M9={mode:Gn.onSubmit,reValidateMode:Gn.onChange,shouldFocusError:!0};function D9(t={}){let e={...M9,...t},r={submitCount:0,isDirty:!1,isLoading:Kn(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const n={};let s=Rt(e.defaultValues)||Rt(e.values)?tr(e.values||e.defaultValues)||{}:{},a=e.shouldUnregister?{}:tr(s),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let h={...u};const f={array:A1(),state:A1()},g=M1(e.mode),j=M1(e.reValidateMode),m=e.criteriaMode===Gn.all,v=P=>D=>{clearTimeout(d),d=setTimeout(P,D)},w=async P=>{if(!e.disabled&&(u.isValid||h.isValid||P)){const D=e.resolver?Sr((await O()).errors):await G(n,!0);D!==r.isValid&&f.state.next({isValid:D})}},y=(P,D)=>{!e.disabled&&(u.isValidating||u.validatingFields||h.isValidating||h.validatingFields)&&((P||Array.from(l.mount)).forEach(H=>{H&&(D?st(r.validatingFields,H,D):It(r.validatingFields,H))}),f.state.next({validatingFields:r.validatingFields,isValidating:!Sr(r.validatingFields)}))},x=(P,D=[],H,de,ee=!0,Y=!0)=>{if(de&&H&&!e.disabled){if(o.action=!0,Y&&Array.isArray(se(n,P))){const ye=H(se(n,P),de.argA,de.argB);ee&&st(n,P,ye)}if(Y&&Array.isArray(se(r.errors,P))){const ye=H(se(r.errors,P),de.argA,de.argB);ee&&st(r.errors,P,ye),F9(r.errors,P)}if((u.touchedFields||h.touchedFields)&&Y&&Array.isArray(se(r.touchedFields,P))){const ye=H(se(r.touchedFields,P),de.argA,de.argB);ee&&st(r.touchedFields,P,ye)}(u.dirtyFields||h.dirtyFields)&&(r.dirtyFields=Oc(s,a)),f.state.next({name:P,isDirty:R(P,D),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else st(a,P,D)},b=(P,D)=>{st(r.errors,P,D),f.state.next({errors:r.errors})},E=P=>{r.errors=P,f.state.next({errors:r.errors,isValid:!1})},k=(P,D,H,de)=>{const ee=se(n,P);if(ee){const Y=se(a,P,Tt(H)?se(s,P):H);Tt(Y)||de&&de.defaultChecked||D?st(a,P,D?Y:I1(ee._f)):J(P,Y),o.mount&&w()}},T=(P,D,H,de,ee)=>{let Y=!1,ye=!1;const Xe={name:P};if(!e.disabled){if(!H||de){(u.isDirty||h.isDirty)&&(ye=r.isDirty,r.isDirty=Xe.isDirty=R(),Y=ye!==Xe.isDirty);const Nt=Ei(se(s,P),D);ye=!!se(r.dirtyFields,P),Nt?It(r.dirtyFields,P):st(r.dirtyFields,P,!0),Xe.dirtyFields=r.dirtyFields,Y=Y||(u.dirtyFields||h.dirtyFields)&&ye!==!Nt}if(H){const Nt=se(r.touchedFields,P);Nt||(st(r.touchedFields,P,H),Xe.touchedFields=r.touchedFields,Y=Y||(u.touchedFields||h.touchedFields)&&Nt!==H)}Y&&ee&&f.state.next(Xe)}return Y?Xe:{}},A=(P,D,H,de)=>{const ee=se(r.errors,P),Y=(u.isValid||h.isValid)&&Kr(D)&&r.isValid!==D;if(e.delayError&&H?(c=v(()=>b(P,H)),c(e.delayError)):(clearTimeout(d),c=null,H?st(r.errors,P,H):It(r.errors,P)),(H?!Ei(ee,H):ee)||!Sr(de)||Y){const ye={...de,...Y&&Kr(D)?{isValid:D}:{},errors:r.errors,name:P};r={...r,...ye},f.state.next(ye)}},O=async P=>{y(P,!0);const D=await e.resolver(a,e.context,T9(P||l.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return y(P),D},M=async P=>{const{errors:D}=await O(P);if(P)for(const H of P){const de=se(D,H);de?st(r.errors,H,de):It(r.errors,H)}else r.errors=D;return D},G=async(P,D,H={valid:!0})=>{for(const de in P){const ee=P[de];if(ee){const{_f:Y,...ye}=ee;if(Y){const Xe=l.array.has(Y.name),Nt=ee._f&&k9(ee._f);Nt&&u.validatingFields&&y([de],!0);const Vt=await z1(ee,l.disabled,a,m,e.shouldUseNativeValidation&&!D,Xe);if(Nt&&u.validatingFields&&y([de]),Vt[Y.name]&&(H.valid=!1,D))break;!D&&(se(Vt,Y.name)?Xe?I9(r.errors,Vt,Y.name):st(r.errors,Y.name,Vt[Y.name]):It(r.errors,Y.name))}!Sr(ye)&&await G(ye,D,H)}}return H.valid},L=()=>{for(const P of l.unMount){const D=se(n,P);D&&(D._f.refs?D._f.refs.every(H=>!bg(H)):!bg(D._f.ref))&&Ke(P)}l.unMount=new Set},R=(P,D)=>!e.disabled&&(P&&D&&st(a,P,D),!Ei(Ce(),s)),I=(P,D,H)=>gR(P,l,{...o.mount?a:Tt(D)?s:Es(P)?{[P]:D}:D},H,D),ae=P=>xm(se(o.mount?a:s,P,e.shouldUnregister?se(s,P,[]):[])),J=(P,D,H={})=>{const de=se(n,P);let ee=D;if(de){const Y=de._f;Y&&(!Y.disabled&&st(a,P,jR(D,Y)),ee=ep(Y.ref)&&_r(D)?"":D,xR(Y.ref)?[...Y.ref.options].forEach(ye=>ye.selected=ee.includes(ye.value)):Y.refs?Bu(Y.ref)?Y.refs.length>1?Y.refs.forEach(ye=>(!ye.defaultChecked||!ye.disabled)&&(ye.checked=Array.isArray(ee)?!!ee.find(Xe=>Xe===ye.value):ee===ye.value)):Y.refs[0]&&(Y.refs[0].checked=!!ee):Y.refs.forEach(ye=>ye.checked=ye.value===ee):nb(Y.ref)?Y.ref.value="":(Y.ref.value=ee,Y.ref.type||f.state.next({name:P,values:tr(a)})))}(H.shouldDirty||H.shouldTouch)&&T(P,ee,H.shouldTouch,H.shouldDirty,!0),H.shouldValidate&&ne(P)},ce=(P,D,H)=>{for(const de in D){const ee=D[de],Y=`${P}.${de}`,ye=se(n,Y);(l.array.has(P)||Rt(ee)||ye&&!ye._f)&&!Sa(ee)?ce(Y,ee,H):J(Y,ee,H)}},F=(P,D,H={})=>{const de=se(n,P),ee=l.array.has(P),Y=tr(D);st(a,P,Y),ee?(f.array.next({name:P,values:tr(a)}),(u.isDirty||u.dirtyFields||h.isDirty||h.dirtyFields)&&H.shouldDirty&&f.state.next({name:P,dirtyFields:Oc(s,a),isDirty:R(P,Y)})):de&&!de._f&&!_r(Y)?ce(P,Y,H):J(P,Y,H),L1(P,l)&&f.state.next({...r}),f.state.next({name:o.mount?P:void 0,values:tr(a)})},$=async P=>{o.mount=!0;const D=P.target;let H=D.name,de=!0;const ee=se(n,H),Y=ye=>{de=Number.isNaN(ye)||Sa(ye)&&isNaN(ye.getTime())||Ei(ye,se(a,H,ye))};if(ee){let ye,Xe;const Nt=D.type?I1(ee._f):uR(P),Vt=P.type===Jf.BLUR||P.type===Jf.FOCUS_OUT,Nm=!P9(ee._f)&&!e.resolver&&!se(r.errors,H)&&!ee._f.deps||O9(Vt,se(r.touchedFields,H),r.isSubmitted,j,g),vc=L1(H,l,Vt);st(a,H,Nt),Vt?(ee._f.onBlur&&ee._f.onBlur(P),c&&c(0)):ee._f.onChange&&ee._f.onChange(P);const bc=T(H,Nt,Vt),Sm=!Sr(bc)||vc;if(!Vt&&f.state.next({name:H,type:P.type,values:tr(a)}),Nm)return(u.isValid||h.isValid)&&(e.mode==="onBlur"?Vt&&w():Vt||w()),Sm&&f.state.next({name:H,...vc?{}:bc});if(!Vt&&vc&&f.state.next({...r}),e.resolver){const{errors:Ku}=await O([H]);if(Y(Nt),de){const Cm=$1(r.errors,n,H),Qu=$1(Ku,n,Cm.name||H);ye=Qu.error,H=Qu.name,Xe=Sr(Ku)}}else y([H],!0),ye=(await z1(ee,l.disabled,a,m,e.shouldUseNativeValidation))[H],y([H]),Y(Nt),de&&(ye?Xe=!1:(u.isValid||h.isValid)&&(Xe=await G(n,!0)));de&&(ee._f.deps&&ne(ee._f.deps),A(H,Xe,ye,bc))}},W=(P,D)=>{if(se(r.errors,D)&&P.focus)return P.focus(),1},ne=async(P,D={})=>{let H,de;const ee=ud(P);if(e.resolver){const Y=await M(Tt(P)?P:ee);H=Sr(Y),de=P?!ee.some(ye=>se(Y,ye)):H}else P?(de=(await Promise.all(ee.map(async Y=>{const ye=se(n,Y);return await G(ye&&ye._f?{[Y]:ye}:ye)}))).every(Boolean),!(!de&&!r.isValid)&&w()):de=H=await G(n);return f.state.next({...!Es(P)||(u.isValid||h.isValid)&&H!==r.isValid?{}:{name:P},...e.resolver||!P?{isValid:H}:{},errors:r.errors}),D.shouldFocus&&!de&&hd(n,W,P?ee:l.mount),de},Ce=P=>{const D={...o.mount?a:s};return Tt(P)?D:Es(P)?se(D,P):P.map(H=>se(D,H))},ut=(P,D)=>({invalid:!!se((D||r).errors,P),isDirty:!!se((D||r).dirtyFields,P),error:se((D||r).errors,P),isValidating:!!se(r.validatingFields,P),isTouched:!!se((D||r).touchedFields,P)}),tt=P=>{P&&ud(P).forEach(D=>It(r.errors,D)),f.state.next({errors:P?r.errors:{}})},_t=(P,D,H)=>{const de=(se(n,P,{_f:{}})._f||{}).ref,ee=se(r.errors,P)||{},{ref:Y,message:ye,type:Xe,...Nt}=ee;st(r.errors,P,{...Nt,...D,ref:de}),f.state.next({name:P,errors:r.errors,isValid:!1}),H&&H.shouldFocus&&de&&de.focus&&de.focus()},ot=(P,D)=>Kn(P)?f.state.subscribe({next:H=>P(I(void 0,D),H)}):I(P,D,!0),xe=P=>f.state.subscribe({next:D=>{R9(P.name,D.name,P.exact)&&A9(D,P.formState||u,gi,P.reRenderRoot)&&P.callback({values:{...a},...r,...D})}}).unsubscribe,Re=P=>(o.mount=!0,h={...h,...P.formState},xe({...P,formState:h})),Ke=(P,D={})=>{for(const H of P?ud(P):l.mount)l.mount.delete(H),l.array.delete(H),D.keepValue||(It(n,H),It(a,H)),!D.keepError&&It(r.errors,H),!D.keepDirty&&It(r.dirtyFields,H),!D.keepTouched&&It(r.touchedFields,H),!D.keepIsValidating&&It(r.validatingFields,H),!e.shouldUnregister&&!D.keepDefaultValue&&It(s,H);f.state.next({values:tr(a)}),f.state.next({...r,...D.keepDirty?{isDirty:R()}:{}}),!D.keepIsValid&&w()},Ie=({disabled:P,name:D})=>{(Kr(P)&&o.mount||P||l.disabled.has(D))&&(P?l.disabled.add(D):l.disabled.delete(D))},ue=(P,D={})=>{let H=se(n,P);const de=Kr(D.disabled)||Kr(e.disabled);return st(n,P,{...H||{},_f:{...H&&H._f?H._f:{ref:{name:P}},name:P,mount:!0,...D}}),l.mount.add(P),H?Ie({disabled:Kr(D.disabled)?D.disabled:e.disabled,name:P}):k(P,!0,D.value),{...de?{disabled:D.disabled||e.disabled}:{},...e.progressive?{required:!!D.required,min:Fc(D.min),max:Fc(D.max),minLength:Fc(D.minLength),maxLength:Fc(D.maxLength),pattern:Fc(D.pattern)}:{},name:P,onChange:$,onBlur:$,ref:ee=>{if(ee){ue(P,D),H=se(n,P);const Y=Tt(ee.value)&&ee.querySelectorAll&&ee.querySelectorAll("input,select,textarea")[0]||ee,ye=C9(Y),Xe=H._f.refs||[];if(ye?Xe.find(Nt=>Nt===Y):Y===H._f.ref)return;st(n,P,{_f:{...H._f,...ye?{refs:[...Xe.filter(bg),Y,...Array.isArray(se(s,P))?[{}]:[]],ref:{type:Y.type,name:P}}:{ref:Y}}}),k(P,!1,void 0,Y)}else H=se(n,P,{}),H._f&&(H._f.mount=!1),(e.shouldUnregister||D.shouldUnregister)&&!(hR(l.array,P)&&o.action)&&l.unMount.add(P)}}},qe=()=>e.shouldFocusError&&hd(n,W,l.mount),Bt=P=>{Kr(P)&&(f.state.next({disabled:P}),hd(n,(D,H)=>{const de=se(n,H);de&&(D.disabled=de._f.disabled||P,Array.isArray(de._f.refs)&&de._f.refs.forEach(ee=>{ee.disabled=de._f.disabled||P}))},0,!1))},Yt=(P,D)=>async H=>{let de;H&&(H.preventDefault&&H.preventDefault(),H.persist&&H.persist());let ee=tr(a);if(f.state.next({isSubmitting:!0}),e.resolver){const{errors:Y,values:ye}=await O();r.errors=Y,ee=ye}else await G(n);if(l.disabled.size)for(const Y of l.disabled)st(ee,Y,void 0);if(It(r.errors,"root"),Sr(r.errors)){f.state.next({errors:{}});try{await P(ee,H)}catch(Y){de=Y}}else D&&await D({...r.errors},H),qe(),setTimeout(qe);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Sr(r.errors)&&!de,submitCount:r.submitCount+1,errors:r.errors}),de)throw de},Tn=(P,D={})=>{se(n,P)&&(Tt(D.defaultValue)?F(P,tr(se(s,P))):(F(P,D.defaultValue),st(s,P,tr(D.defaultValue))),D.keepTouched||It(r.touchedFields,P),D.keepDirty||(It(r.dirtyFields,P),r.isDirty=D.defaultValue?R(P,tr(se(s,P))):R()),D.keepError||(It(r.errors,P),u.isValid&&w()),f.state.next({...r}))},ds=(P,D={})=>{const H=P?tr(P):s,de=tr(H),ee=Sr(P),Y=ee?s:de;if(D.keepDefaultValues||(s=H),!D.keepValues){if(D.keepDirtyValues){const ye=new Set([...l.mount,...Object.keys(Oc(s,a))]);for(const Xe of Array.from(ye))se(r.dirtyFields,Xe)?st(Y,Xe,se(a,Xe)):F(Xe,se(Y,Xe))}else{if(tb&&Tt(P))for(const ye of l.mount){const Xe=se(n,ye);if(Xe&&Xe._f){const Nt=Array.isArray(Xe._f.refs)?Xe._f.refs[0]:Xe._f.ref;if(ep(Nt)){const Vt=Nt.closest("form");if(Vt){Vt.reset();break}}}}for(const ye of l.mount)F(ye,se(Y,ye))}a=tr(Y),f.array.next({values:{...Y}}),f.state.next({values:{...Y}})}l={mount:D.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!D.keepIsValid||!!D.keepDirtyValues,o.watch=!!e.shouldUnregister,f.state.next({submitCount:D.keepSubmitCount?r.submitCount:0,isDirty:ee?!1:D.keepDirty?r.isDirty:!!(D.keepDefaultValues&&!Ei(P,s)),isSubmitted:D.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:ee?{}:D.keepDirtyValues?D.keepDefaultValues&&a?Oc(s,a):r.dirtyFields:D.keepDefaultValues&&P?Oc(s,P):D.keepDirty?r.dirtyFields:{},touchedFields:D.keepTouched?r.touchedFields:{},errors:D.keepErrors?r.errors:{},isSubmitSuccessful:D.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},on=(P,D)=>ds(Kn(P)?P(a):P,D),pa=(P,D={})=>{const H=se(n,P),de=H&&H._f;if(de){const ee=de.refs?de.refs[0]:de.ref;ee.focus&&(ee.focus(),D.shouldSelect&&Kn(ee.select)&&ee.select())}},gi=P=>{r={...r,...P}},vo={control:{register:ue,unregister:Ke,getFieldState:ut,handleSubmit:Yt,setError:_t,_subscribe:xe,_runSchema:O,_getWatch:I,_getDirty:R,_setValid:w,_setFieldArray:x,_setDisabledField:Ie,_setErrors:E,_getFieldArray:ae,_reset:ds,_resetDefaultValues:()=>Kn(e.defaultValues)&&e.defaultValues().then(P=>{on(P,e.resetOptions),f.state.next({isLoading:!1})}),_removeUnmounted:L,_disableForm:Bt,_subjects:f,_proxyFormState:u,get _fields(){return n},get _formValues(){return a},get _state(){return o},set _state(P){o=P},get _defaultValues(){return s},get _names(){return l},set _names(P){l=P},get _formState(){return r},get _options(){return e},set _options(P){e={...e,...P}}},subscribe:Re,trigger:ne,register:ue,handleSubmit:Yt,watch:ot,setValue:F,getValues:Ce,reset:on,resetField:Tn,clearErrors:tt,unregister:Ke,setError:_t,setFocus:pa,getFieldState:ut};return{...vo,formControl:vo}}function Ts(t={}){const e=Me.useRef(void 0),r=Me.useRef(void 0),[n,s]=Me.useState({isDirty:!1,isValidating:!1,isLoading:Kn(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Kn(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...t.formControl?t.formControl:D9(t),formState:n},t.formControl&&t.defaultValues&&!Kn(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions));const a=e.current.control;return a._options=t,Me.useLayoutEffect(()=>a._subscribe({formState:a._proxyFormState,callback:()=>s({...a._formState}),reRenderRoot:!0}),[a]),Me.useEffect(()=>a._disableForm(t.disabled),[a,t.disabled]),Me.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==n.isDirty&&a._subjects.state.next({isDirty:o})}},[a,n.isDirty]),Me.useEffect(()=>{t.values&&!Ei(t.values,r.current)?(a._reset(t.values,a._options.resetOptions),r.current=t.values,s(o=>({...o}))):a._resetDefaultValues()},[t.values,a]),Me.useEffect(()=>{t.errors&&!Sr(t.errors)&&a._setErrors(t.errors)},[t.errors,a]),Me.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),Me.useEffect(()=>{t.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[t.shouldUnregister,a]),e.current.formState=mR(n,a),e.current}const B1=(t,e,r)=>{if(t&&"reportValidity"in t){const n=se(r,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},SR=(t,e)=>{for(const r in e.fields){const n=e.fields[r];n&&n.ref&&"reportValidity"in n.ref?B1(n.ref,r,t):n.refs&&n.refs.forEach(s=>B1(s,r,t))}},L9=(t,e)=>{e.shouldUseNativeValidation&&SR(t,e);const r={};for(const n in t){const s=se(e.fields,n),a=Object.assign(t[n]||{},{ref:s&&s.ref});if($9(e.names||Object.keys(t),n)){const o=Object.assign({},se(r,n));st(o,"root",a),st(r,n,o)}else st(r,n,a)}return r},$9=(t,e)=>t.some(r=>r.startsWith(e+"."));var U9=function(t,e){for(var r={};t.length;){var n=t[0],s=n.code,a=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:a,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(u){return u.errors.forEach(function(h){return t.push(h)})}),e){var c=r[o].types,d=c&&c[n.code];r[o]=yR(o,e,r,s,d?[].concat(d,n.message):n.message)}t.shift()}return r},ks=function(t,e,r){return r===void 0&&(r={}),function(n,s,a){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](n,e)).then(function(d){return a.shouldUseNativeValidation&&SR({},a),{errors:{},values:r.raw?n:d}})}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:L9(U9(o.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw o}))}catch(o){return Promise.reject(o)}}};const Q=Symbol.for("drizzle:entityKind");function nr(t,e){if(!t||typeof t!="object")return!1;if(t instanceof e)return!0;if(!Object.prototype.hasOwnProperty.call(e,Q))throw new Error(`Class "${e.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let r=Object.getPrototypeOf(t).constructor;if(r)for(;r;){if(Q in r&&r[Q]===e[Q])return!0;r=Object.getPrototypeOf(r)}return!1}var wN;wN=Q;class Jl{constructor(e,r){C(this,"name");C(this,"keyAsName");C(this,"primary");C(this,"notNull");C(this,"default");C(this,"defaultFn");C(this,"onUpdateFn");C(this,"hasDefault");C(this,"isUnique");C(this,"uniqueName");C(this,"uniqueType");C(this,"dataType");C(this,"columnType");C(this,"enumValues");C(this,"generated");C(this,"generatedIdentity");C(this,"config");this.table=e,this.config=r,this.name=r.name,this.keyAsName=r.keyAsName,this.notNull=r.notNull,this.default=r.default,this.defaultFn=r.defaultFn,this.onUpdateFn=r.onUpdateFn,this.hasDefault=r.hasDefault,this.primary=r.primaryKey,this.isUnique=r.isUnique,this.uniqueName=r.uniqueName,this.uniqueType=r.uniqueType,this.dataType=r.dataType,this.columnType=r.columnType,this.generated=r.generated,this.generatedIdentity=r.generatedIdentity}mapFromDriverValue(e){return e}mapToDriverValue(e){return e}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}C(Jl,wN,"Column");var jN;jN=Q;class CR{constructor(e,r,n){C(this,"config");C(this,"$default",this.$defaultFn);C(this,"$onUpdate",this.$onUpdateFn);this.config={name:e,keyAsName:e==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:r,columnType:n,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(e){return this.config.default=e,this.config.hasDefault=!0,this}$defaultFn(e){return this.config.defaultFn=e,this.config.hasDefault=!0,this}$onUpdateFn(e){return this.config.onUpdateFn=e,this.config.hasDefault=!0,this}primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(e){this.config.name===""&&(this.config.name=e)}}C(CR,jN,"ColumnBuilder");const el=Symbol.for("drizzle:Name");var NN;NN=Q;class _R{constructor(e,r){C(this,"reference");C(this,"_onUpdate","no action");C(this,"_onDelete","no action");this.reference=()=>{const{name:n,columns:s,foreignColumns:a}=e();return{name:n,columns:s,foreignTable:a[0].table,foreignColumns:a}},r&&(this._onUpdate=r.onUpdate,this._onDelete=r.onDelete)}onUpdate(e){return this._onUpdate=e===void 0?"no action":e,this}onDelete(e){return this._onDelete=e===void 0?"no action":e,this}build(e){return new ER(e,this)}}C(_R,NN,"PgForeignKeyBuilder");var SN;SN=Q;class ER{constructor(e,r){C(this,"reference");C(this,"onUpdate");C(this,"onDelete");this.table=e,this.reference=r.reference,this.onUpdate=r._onUpdate,this.onDelete=r._onDelete}getName(){const{name:e,columns:r,foreignColumns:n}=this.reference(),s=r.map(l=>l.name),a=n.map(l=>l.name),o=[this.table[el],...s,n[0].table[el],...a];return e??`${o.join("_")}_fk`}}C(ER,SN,"PgForeignKey");function z9(t,...e){return t(...e)}function B9(t,e){return`${t[el]}_${e.join("_")}_unique`}function V1(t,e,r){for(let n=e;n<t.length;n++){const s=t[n];if(s==="\\"){n++;continue}if(s==='"')return[t.slice(e,n).replace(/\\/g,""),n+1];if(!r&&(s===","||s==="}"))return[t.slice(e,n).replace(/\\/g,""),n]}return[t.slice(e).replace(/\\/g,""),t.length]}function TR(t,e=0){const r=[];let n=e,s=!1;for(;n<t.length;){const a=t[n];if(a===","){(s||n===e)&&r.push(""),s=!0,n++;continue}if(s=!1,a==="\\"){n+=2;continue}if(a==='"'){const[c,d]=V1(t,n+1,!0);r.push(c),n=d;continue}if(a==="}")return[r,n+1];if(a==="{"){const[c,d]=TR(t,n+1);r.push(c),n=d;continue}const[o,l]=V1(t,n,!1);r.push(o),n=l}return[r,n]}function V9(t){const[e]=TR(t,1);return e}function kR(t){return`{${t.map(e=>Array.isArray(e)?kR(e):typeof e=="string"?`"${e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${e}`).join(",")}}`}var CN,_N;class Je extends(_N=CR,CN=Q,_N){constructor(){super(...arguments);C(this,"foreignKeyConfigs",[])}array(r){return new AR(this.config.name,this,r)}references(r,n={}){return this.foreignKeyConfigs.push({ref:r,actions:n}),this}unique(r,n){return this.config.isUnique=!0,this.config.uniqueName=r,this.config.uniqueType=n==null?void 0:n.nulls,this}generatedAlwaysAs(r){return this.config.generated={as:r,type:"always",mode:"stored"},this}buildForeignKeys(r,n){return this.foreignKeyConfigs.map(({ref:s,actions:a})=>z9((o,l)=>{const c=new _R(()=>{const d=o();return{columns:[r],foreignColumns:[d]}});return l.onUpdate&&c.onUpdate(l.onUpdate),l.onDelete&&c.onDelete(l.onDelete),c.build(n)},s,a))}buildExtraConfigColumn(r){return new PR(r,this.config)}}C(Je,CN,"PgColumnBuilder");var EN,TN;class Le extends(TN=Jl,EN=Q,TN){constructor(e,r){r.uniqueName||(r.uniqueName=B9(e,[r.name])),super(e,r),this.table=e}}C(Le,EN,"PgColumn");var kN,PN;class PR extends(PN=Le,kN=Q,PN){constructor(){super(...arguments);C(this,"indexConfig",{order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass});C(this,"defaultConfig",{order:"asc",nulls:"last",opClass:void 0})}getSQLType(){return this.getSQLType()}asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(r){return this.indexConfig.opClass=r,this}}C(PR,kN,"ExtraConfigColumn");var AN,RN;class AR extends(RN=Je,AN=Q,RN){constructor(e,r,n){super(e,"array","PgArray"),this.config.baseBuilder=r,this.config.size=n}build(e){const r=this.config.baseBuilder.build(e);return new xx(e,this.config,r)}}C(AR,AN,"PgArrayBuilder");var ON,FN;const xp=class xp extends(FN=Le,ON=Q,FN){constructor(r,n,s,a){super(r,n);C(this,"size");this.baseColumn=s,this.range=a,this.size=n.size}getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(r){return typeof r=="string"&&(r=V9(r)),r.map(n=>this.baseColumn.mapFromDriverValue(n))}mapToDriverValue(r,n=!1){const s=r.map(a=>a===null?null:nr(this.baseColumn,xp)?this.baseColumn.mapToDriverValue(a,!0):this.baseColumn.mapToDriverValue(a));return n?s:kR(s)}};C(xp,ON,"PgArray");let xx=xp;const q1=Symbol.for("drizzle:isPgEnum");function q9(t){return!!t&&typeof t=="function"&&q1 in t&&t[q1]===!0}var IN;IN=Q;class ib{constructor(e,r,n,s=!1){this._={brand:"Subquery",sql:e,selectedFields:r,alias:n,isWith:s}}}C(ib,IN,"Subquery");const H9={startActiveSpan(t,e){return e()}},tl=Symbol.for("drizzle:ViewBaseConfig"),wg=Symbol.for("drizzle:Schema"),H1=Symbol.for("drizzle:Columns"),W1=Symbol.for("drizzle:ExtraConfigColumns"),jg=Symbol.for("drizzle:OriginalName"),Ng=Symbol.for("drizzle:BaseName"),np=Symbol.for("drizzle:IsAlias"),G1=Symbol.for("drizzle:ExtraConfigBuilder"),RR=Symbol.for("drizzle:IsDrizzleTable");var MN,DN,LN,$N,UN,zN,BN,VN,qN,HN,Ih;let Xr=(HN=Q,qN=el,VN=jg,BN=wg,zN=H1,UN=W1,$N=Ng,LN=np,DN=RR,MN=G1,Ih=class{constructor(e,r,n){C(this,qN);C(this,VN);C(this,BN);C(this,zN);C(this,UN);C(this,$N);C(this,LN,!1);C(this,DN,!0);C(this,MN);this[el]=this[jg]=e,this[wg]=r,this[Ng]=n}},C(Ih,HN,"Table"),C(Ih,"Symbol",{Name:el,Schema:wg,OriginalName:jg,Columns:H1,ExtraConfigColumns:W1,BaseName:Ng,IsAlias:np,ExtraConfigBuilder:G1}),Ih);function OR(t){return typeof t=="object"&&t!==null&&RR in t}function W9(t){return t!=null&&typeof t.getSQL=="function"}function G9(t){var r;const e={sql:"",params:[]};for(const n of t)e.sql+=n.sql,e.params.push(...n.params),(r=n.typings)!=null&&r.length&&(e.typings||(e.typings=[]),e.typings.push(...n.typings));return e}var WN;WN=Q;class un{constructor(e){C(this,"value");this.value=Array.isArray(e)?e:[e]}getSQL(){return new Ut([this])}}C(un,WN,"StringChunk");var GN;GN=Q;const ba=class ba{constructor(e){C(this,"decoder",FR);C(this,"shouldInlineParams",!1);this.queryChunks=e}append(e){return this.queryChunks.push(...e.queryChunks),this}toQuery(e){return H9.startActiveSpan("drizzle.buildSQL",r=>{const n=this.buildQueryFromSourceParams(this.queryChunks,e);return r==null||r.setAttributes({"drizzle.query.text":n.sql,"drizzle.query.params":JSON.stringify(n.params)}),n})}buildQueryFromSourceParams(e,r){const n=Object.assign({},r,{inlineParams:r.inlineParams||this.shouldInlineParams,paramStartIndex:r.paramStartIndex||{value:0}}),{casing:s,escapeName:a,escapeParam:o,prepareTyping:l,inlineParams:c,paramStartIndex:d}=n;return G9(e.map(u=>{var h;if(nr(u,un))return{sql:u.value.join(""),params:[]};if(nr(u,sp))return{sql:a(u.value),params:[]};if(u===void 0)return{sql:"",params:[]};if(Array.isArray(u)){const f=[new un("(")];for(const[g,j]of u.entries())f.push(j),g<u.length-1&&f.push(new un(", "));return f.push(new un(")")),this.buildQueryFromSourceParams(f,n)}if(nr(u,ba))return this.buildQueryFromSourceParams(u.queryChunks,{...n,inlineParams:c||u.shouldInlineParams});if(nr(u,Xr)){const f=u[Xr.Symbol.Schema],g=u[Xr.Symbol.Name];return{sql:f===void 0||u[np]?a(g):a(f)+"."+a(g),params:[]}}if(nr(u,Jl)){const f=s.getColumnCasing(u);if(r.invokeSource==="indexes")return{sql:a(f),params:[]};const g=u.table[Xr.Symbol.Schema];return{sql:u.table[np]||g===void 0?a(u.table[Xr.Symbol.Name])+"."+a(f):a(g)+"."+a(u.table[Xr.Symbol.Name])+"."+a(f),params:[]}}if(nr(u,DR)){const f=u[tl].schema,g=u[tl].name;return{sql:f===void 0||u[tl].isAlias?a(g):a(f)+"."+a(g),params:[]}}if(nr(u,ab)){if(nr(u.value,ip))return{sql:o(d.value++,u),params:[u],typings:["none"]};const f=u.value===null?null:u.encoder.mapToDriverValue(u.value);if(nr(f,ba))return this.buildQueryFromSourceParams([f],n);if(c)return{sql:this.mapInlineParam(f,n),params:[]};let g=["none"];return l&&(g=[l(u.encoder)]),{sql:o(d.value++,f),params:[f],typings:g}}return nr(u,ip)?{sql:o(d.value++,u),params:[u],typings:["none"]}:nr(u,ba.Aliased)&&u.fieldAlias!==void 0?{sql:a(u.fieldAlias),params:[]}:nr(u,ib)?u._.isWith?{sql:a(u._.alias),params:[]}:this.buildQueryFromSourceParams([new un("("),u._.sql,new un(") "),new sp(u._.alias)],n):q9(u)?u.schema?{sql:a(u.schema)+"."+a(u.enumName),params:[]}:{sql:a(u.enumName),params:[]}:W9(u)?(h=u.shouldOmitSQLParens)!=null&&h.call(u)?this.buildQueryFromSourceParams([u.getSQL()],n):this.buildQueryFromSourceParams([new un("("),u.getSQL(),new un(")")],n):c?{sql:this.mapInlineParam(u,n),params:[]}:{sql:o(d.value++,u),params:[u],typings:["none"]}}))}mapInlineParam(e,{escapeString:r}){if(e===null)return"null";if(typeof e=="number"||typeof e=="boolean")return e.toString();if(typeof e=="string")return r(e);if(typeof e=="object"){const n=e.toString();return r(n==="[object Object]"?JSON.stringify(e):n)}throw new Error("Unexpected param value: "+e)}getSQL(){return this}as(e){return e===void 0?this:new ba.Aliased(this,e)}mapWith(e){return this.decoder=typeof e=="function"?{mapFromDriverValue:e}:e,this}inlineParams(){return this.shouldInlineParams=!0,this}if(e){return e?this:void 0}};C(ba,GN,"SQL");let Ut=ba;var KN;KN=Q;class sp{constructor(e){C(this,"brand");this.value=e}getSQL(){return new Ut([this])}}C(sp,KN,"Name");const FR={mapFromDriverValue:t=>t},IR={mapToDriverValue:t=>t};({...FR,...IR});var QN;QN=Q;class ab{constructor(e,r=IR){C(this,"brand");this.value=e,this.encoder=r}getSQL(){return new Ut([this])}}C(ab,QN,"Param");function xr(t,...e){const r=[];(e.length>0||t.length>0&&t[0]!=="")&&r.push(new un(t[0]));for(const[n,s]of e.entries())r.push(s,new un(t[n+1]));return new Ut(r)}(t=>{function e(){return new Ut([])}t.empty=e;function r(c){return new Ut(c)}t.fromList=r;function n(c){return new Ut([new un(c)])}t.raw=n;function s(c,d){const u=[];for(const[h,f]of c.entries())h>0&&d!==void 0&&u.push(d),u.push(f);return new Ut(u)}t.join=s;function a(c){return new sp(c)}t.identifier=a;function o(c){return new ip(c)}t.placeholder=o;function l(c,d){return new ab(c,d)}t.param=l})(xr||(xr={}));(t=>{var r;r=Q;const n=class n{constructor(a,o){C(this,"isSelectionField",!1);this.sql=a,this.fieldAlias=o}getSQL(){return this.sql}clone(){return new n(this.sql,this.fieldAlias)}};C(n,r,"SQL.Aliased");let e=n;t.Aliased=e})(Ut||(Ut={}));var XN;XN=Q;class ip{constructor(e){this.name=e}getSQL(){return new Ut([this])}}C(ip,XN,"Placeholder");const MR=Symbol.for("drizzle:IsDrizzleView");var ZN,YN,JN;JN=Q,YN=tl,ZN=MR;class DR{constructor({name:e,schema:r,selectedFields:n,query:s}){C(this,YN);C(this,ZN,!0);this[tl]={name:e,originalName:e,schema:r,selectedFields:n,query:s,isExisting:!s,isAlias:!1}}getSQL(){return new Ut([this])}}C(DR,JN,"View");function K9(t){return typeof t=="object"&&t!==null&&MR in t}Jl.prototype.getSQL=function(){return new Ut([this])};Xr.prototype.getSQL=function(){return new Ut([this])};ib.prototype.getSQL=function(){return new Ut([this])};function Q9(t){return t[Xr.Symbol.Columns]}function X9(t){return t[tl].selectedFields}function Zt(t,e){return{name:typeof t=="string"&&t.length>0?t:"",config:typeof t=="object"?t:e}}var eS,tS;class Vu extends(tS=Je,eS=Q,tS){generatedAlwaysAsIdentity(e){if(e){const{name:r,...n}=e;this.config.generatedIdentity={type:"always",sequenceName:r,sequenceOptions:n}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(e){if(e){const{name:r,...n}=e;this.config.generatedIdentity={type:"byDefault",sequenceName:r,sequenceOptions:n}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}C(Vu,eS,"PgIntColumnBaseBuilder");var rS,nS;class LR extends(nS=Vu,rS=Q,nS){constructor(e){super(e,"number","PgBigInt53")}build(e){return new $R(e,this.config)}}C(LR,rS,"PgBigInt53Builder");var sS,iS;class $R extends(iS=Le,sS=Q,iS){getSQLType(){return"bigint"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}}C($R,sS,"PgBigInt53");var aS,oS;class UR extends(oS=Vu,aS=Q,oS){constructor(e){super(e,"bigint","PgBigInt64")}build(e){return new zR(e,this.config)}}C(UR,aS,"PgBigInt64Builder");var lS,cS;class zR extends(cS=Le,lS=Q,cS){getSQLType(){return"bigint"}mapFromDriverValue(e){return BigInt(e)}}C(zR,lS,"PgBigInt64");function Z9(t,e){const{name:r,config:n}=Zt(t,e);return n.mode==="number"?new LR(r):new UR(r)}var dS,uS;class BR extends(uS=Je,dS=Q,uS){constructor(e){super(e,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new VR(e,this.config)}}C(BR,dS,"PgBigSerial53Builder");var hS,fS;class VR extends(fS=Le,hS=Q,fS){getSQLType(){return"bigserial"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}}C(VR,hS,"PgBigSerial53");var pS,mS;class qR extends(mS=Je,pS=Q,mS){constructor(e){super(e,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(e){return new HR(e,this.config)}}C(qR,pS,"PgBigSerial64Builder");var gS,yS;class HR extends(yS=Le,gS=Q,yS){getSQLType(){return"bigserial"}mapFromDriverValue(e){return BigInt(e)}}C(HR,gS,"PgBigSerial64");function Y9(t,e){const{name:r,config:n}=Zt(t,e);return n.mode==="number"?new BR(r):new qR(r)}var xS,vS;class WR extends(vS=Je,xS=Q,vS){constructor(e){super(e,"boolean","PgBoolean")}build(e){return new GR(e,this.config)}}C(WR,xS,"PgBooleanBuilder");var bS,wS;class GR extends(wS=Le,bS=Q,wS){getSQLType(){return"boolean"}}C(GR,bS,"PgBoolean");function At(t){return new WR(t??"")}var jS,NS;class KR extends(NS=Je,jS=Q,NS){constructor(e,r){super(e,"string","PgChar"),this.config.length=r.length,this.config.enumValues=r.enum}build(e){return new QR(e,this.config)}}C(KR,jS,"PgCharBuilder");var SS,CS;class QR extends(CS=Le,SS=Q,CS){constructor(){super(...arguments);C(this,"length",this.config.length);C(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}C(QR,SS,"PgChar");function J9(t,e={}){const{name:r,config:n}=Zt(t,e);return new KR(r,n)}var _S,ES;class XR extends(ES=Je,_S=Q,ES){constructor(e){super(e,"string","PgCidr")}build(e){return new ZR(e,this.config)}}C(XR,_S,"PgCidrBuilder");var TS,kS;class ZR extends(kS=Le,TS=Q,kS){getSQLType(){return"cidr"}}C(ZR,TS,"PgCidr");function eB(t){return new XR(t??"")}var PS,AS;class YR extends(AS=Je,PS=Q,AS){constructor(e,r,n){super(e,"custom","PgCustomColumn"),this.config.fieldConfig=r,this.config.customTypeParams=n}build(e){return new JR(e,this.config)}}C(YR,PS,"PgCustomColumnBuilder");var RS,OS;class JR extends(OS=Le,RS=Q,OS){constructor(r,n){super(r,n);C(this,"sqlName");C(this,"mapTo");C(this,"mapFrom");this.sqlName=n.customTypeParams.dataType(n.fieldConfig),this.mapTo=n.customTypeParams.toDriver,this.mapFrom=n.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(r){return typeof this.mapFrom=="function"?this.mapFrom(r):r}mapToDriverValue(r){return typeof this.mapTo=="function"?this.mapTo(r):r}}C(JR,RS,"PgCustomColumn");function tB(t){return(e,r)=>{const{name:n,config:s}=Zt(e,r);return new YR(n,s,t)}}var FS,IS;class xc extends(IS=Je,FS=Q,IS){defaultNow(){return this.default(xr`now()`)}}C(xc,FS,"PgDateColumnBaseBuilder");var MS,DS;class eO extends(DS=xc,MS=Q,DS){constructor(e){super(e,"date","PgDate")}build(e){return new tO(e,this.config)}}C(eO,MS,"PgDateBuilder");var LS,$S;class tO extends($S=Le,LS=Q,$S){getSQLType(){return"date"}mapFromDriverValue(e){return new Date(e)}mapToDriverValue(e){return e.toISOString()}}C(tO,LS,"PgDate");var US,zS;class rO extends(zS=xc,US=Q,zS){constructor(e){super(e,"string","PgDateString")}build(e){return new nO(e,this.config)}}C(rO,US,"PgDateStringBuilder");var BS,VS;class nO extends(VS=Le,BS=Q,VS){getSQLType(){return"date"}}C(nO,BS,"PgDateString");function rB(t,e){const{name:r,config:n}=Zt(t,e);return(n==null?void 0:n.mode)==="date"?new eO(r):new rO(r)}var qS,HS;class sO extends(HS=Je,qS=Q,HS){constructor(e){super(e,"number","PgDoublePrecision")}build(e){return new iO(e,this.config)}}C(sO,qS,"PgDoublePrecisionBuilder");var WS,GS;class iO extends(GS=Le,WS=Q,GS){getSQLType(){return"double precision"}mapFromDriverValue(e){return typeof e=="string"?Number.parseFloat(e):e}}C(iO,WS,"PgDoublePrecision");function nB(t){return new sO(t??"")}var KS,QS;class aO extends(QS=Je,KS=Q,QS){constructor(e){super(e,"string","PgInet")}build(e){return new oO(e,this.config)}}C(aO,KS,"PgInetBuilder");var XS,ZS;class oO extends(ZS=Le,XS=Q,ZS){getSQLType(){return"inet"}}C(oO,XS,"PgInet");function sB(t){return new aO(t??"")}var YS,JS;class lO extends(JS=Vu,YS=Q,JS){constructor(e){super(e,"number","PgInteger")}build(e){return new cO(e,this.config)}}C(lO,YS,"PgIntegerBuilder");var eC,tC;class cO extends(tC=Le,eC=Q,tC){getSQLType(){return"integer"}mapFromDriverValue(e){return typeof e=="string"?Number.parseInt(e):e}}C(cO,eC,"PgInteger");function Yi(t){return new lO(t??"")}var rC,nC;class dO extends(nC=Je,rC=Q,nC){constructor(e,r){super(e,"string","PgInterval"),this.config.intervalConfig=r}build(e){return new uO(e,this.config)}}C(dO,rC,"PgIntervalBuilder");var sC,iC;class uO extends(iC=Le,sC=Q,iC){constructor(){super(...arguments);C(this,"fields",this.config.intervalConfig.fields);C(this,"precision",this.config.intervalConfig.precision)}getSQLType(){const r=this.fields?` ${this.fields}`:"",n=this.precision?`(${this.precision})`:"";return`interval${r}${n}`}}C(uO,sC,"PgInterval");function iB(t,e={}){const{name:r,config:n}=Zt(t,e);return new dO(r,n)}var aC,oC;class hO extends(oC=Je,aC=Q,oC){constructor(e){super(e,"json","PgJson")}build(e){return new fO(e,this.config)}}C(hO,aC,"PgJsonBuilder");var lC,cC;class fO extends(cC=Le,lC=Q,cC){constructor(e,r){super(e,r)}getSQLType(){return"json"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}C(fO,lC,"PgJson");function aB(t){return new hO(t??"")}var dC,uC;class pO extends(uC=Je,dC=Q,uC){constructor(e){super(e,"json","PgJsonb")}build(e){return new mO(e,this.config)}}C(pO,dC,"PgJsonbBuilder");var hC,fC;class mO extends(fC=Le,hC=Q,fC){constructor(e,r){super(e,r)}getSQLType(){return"jsonb"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}C(mO,hC,"PgJsonb");function bm(t){return new pO(t??"")}var pC,mC;class gO extends(mC=Je,pC=Q,mC){constructor(e){super(e,"array","PgLine")}build(e){return new yO(e,this.config)}}C(gO,pC,"PgLineBuilder");var gC,yC;class yO extends(yC=Le,gC=Q,yC){getSQLType(){return"line"}mapFromDriverValue(e){const[r,n,s]=e.slice(1,-1).split(",");return[Number.parseFloat(r),Number.parseFloat(n),Number.parseFloat(s)]}mapToDriverValue(e){return`{${e[0]},${e[1]},${e[2]}}`}}C(yO,gC,"PgLine");var xC,vC;class xO extends(vC=Je,xC=Q,vC){constructor(e){super(e,"json","PgLineABC")}build(e){return new vO(e,this.config)}}C(xO,xC,"PgLineABCBuilder");var bC,wC;class vO extends(wC=Le,bC=Q,wC){getSQLType(){return"line"}mapFromDriverValue(e){const[r,n,s]=e.slice(1,-1).split(",");return{a:Number.parseFloat(r),b:Number.parseFloat(n),c:Number.parseFloat(s)}}mapToDriverValue(e){return`{${e.a},${e.b},${e.c}}`}}C(vO,bC,"PgLineABC");function oB(t,e){const{name:r,config:n}=Zt(t,e);return!(n!=null&&n.mode)||n.mode==="tuple"?new gO(r):new xO(r)}var jC,NC;class bO extends(NC=Je,jC=Q,NC){constructor(e){super(e,"string","PgMacaddr")}build(e){return new wO(e,this.config)}}C(bO,jC,"PgMacaddrBuilder");var SC,CC;class wO extends(CC=Le,SC=Q,CC){getSQLType(){return"macaddr"}}C(wO,SC,"PgMacaddr");function lB(t){return new bO(t??"")}var _C,EC;class jO extends(EC=Je,_C=Q,EC){constructor(e){super(e,"string","PgMacaddr8")}build(e){return new NO(e,this.config)}}C(jO,_C,"PgMacaddr8Builder");var TC,kC;class NO extends(kC=Le,TC=Q,kC){getSQLType(){return"macaddr8"}}C(NO,TC,"PgMacaddr8");function cB(t){return new jO(t??"")}var PC,AC;class SO extends(AC=Je,PC=Q,AC){constructor(e,r,n){super(e,"string","PgNumeric"),this.config.precision=r,this.config.scale=n}build(e){return new CO(e,this.config)}}C(SO,PC,"PgNumericBuilder");var RC,OC;class CO extends(OC=Le,RC=Q,OC){constructor(r,n){super(r,n);C(this,"precision");C(this,"scale");this.precision=n.precision,this.scale=n.scale}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}C(CO,RC,"PgNumeric");function _O(t,e){const{name:r,config:n}=Zt(t,e);return new SO(r,n==null?void 0:n.precision,n==null?void 0:n.scale)}const Js=_O;var FC,IC;class EO extends(IC=Je,FC=Q,IC){constructor(e){super(e,"array","PgPointTuple")}build(e){return new TO(e,this.config)}}C(EO,FC,"PgPointTupleBuilder");var MC,DC;class TO extends(DC=Le,MC=Q,DC){getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){const[r,n]=e.slice(1,-1).split(",");return[Number.parseFloat(r),Number.parseFloat(n)]}return[e.x,e.y]}mapToDriverValue(e){return`(${e[0]},${e[1]})`}}C(TO,MC,"PgPointTuple");var LC,$C;class kO extends($C=Je,LC=Q,$C){constructor(e){super(e,"json","PgPointObject")}build(e){return new PO(e,this.config)}}C(kO,LC,"PgPointObjectBuilder");var UC,zC;class PO extends(zC=Le,UC=Q,zC){getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){const[r,n]=e.slice(1,-1).split(",");return{x:Number.parseFloat(r),y:Number.parseFloat(n)}}return e}mapToDriverValue(e){return`(${e.x},${e.y})`}}C(PO,UC,"PgPointObject");function dB(t,e){const{name:r,config:n}=Zt(t,e);return!(n!=null&&n.mode)||n.mode==="tuple"?new EO(r):new kO(r)}function uB(t){const e=[];for(let r=0;r<t.length;r+=2)e.push(Number.parseInt(t.slice(r,r+2),16));return new Uint8Array(e)}function K1(t,e){const r=new ArrayBuffer(8),n=new DataView(r);for(let s=0;s<8;s++)n.setUint8(s,t[e+s]);return n.getFloat64(0,!0)}function AO(t){const e=uB(t);let r=0;const n=e[r];r+=1;const s=new DataView(e.buffer),a=s.getUint32(r,n===1);if(r+=4,a&536870912&&(s.getUint32(r,n===1),r+=4),(a&65535)===1){const o=K1(e,r);r+=8;const l=K1(e,r);return r+=8,[o,l]}throw new Error("Unsupported geometry type")}var BC,VC;class RO extends(VC=Je,BC=Q,VC){constructor(e){super(e,"array","PgGeometry")}build(e){return new OO(e,this.config)}}C(RO,BC,"PgGeometryBuilder");var qC,HC;class OO extends(HC=Le,qC=Q,HC){getSQLType(){return"geometry(point)"}mapFromDriverValue(e){return AO(e)}mapToDriverValue(e){return`point(${e[0]} ${e[1]})`}}C(OO,qC,"PgGeometry");var WC,GC;class FO extends(GC=Je,WC=Q,GC){constructor(e){super(e,"json","PgGeometryObject")}build(e){return new IO(e,this.config)}}C(FO,WC,"PgGeometryObjectBuilder");var KC,QC;class IO extends(QC=Le,KC=Q,QC){getSQLType(){return"geometry(point)"}mapFromDriverValue(e){const r=AO(e);return{x:r[0],y:r[1]}}mapToDriverValue(e){return`point(${e.x} ${e.y})`}}C(IO,KC,"PgGeometryObject");function hB(t,e){const{name:r,config:n}=Zt(t,e);return!(n!=null&&n.mode)||n.mode==="tuple"?new RO(r):new FO(r)}var XC,ZC;class MO extends(ZC=Je,XC=Q,ZC){constructor(e,r){super(e,"number","PgReal"),this.config.length=r}build(e){return new DO(e,this.config)}}C(MO,XC,"PgRealBuilder");var YC,JC;class DO extends(JC=Le,YC=Q,JC){constructor(r,n){super(r,n);C(this,"mapFromDriverValue",r=>typeof r=="string"?Number.parseFloat(r):r)}getSQLType(){return"real"}}C(DO,YC,"PgReal");function fB(t){return new MO(t??"")}var e_,t_;class LO extends(t_=Je,e_=Q,t_){constructor(e){super(e,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new $O(e,this.config)}}C(LO,e_,"PgSerialBuilder");var r_,n_;class $O extends(n_=Le,r_=Q,n_){getSQLType(){return"serial"}}C($O,r_,"PgSerial");function pB(t){return new LO(t??"")}var s_,i_;class UO extends(i_=Vu,s_=Q,i_){constructor(e){super(e,"number","PgSmallInt")}build(e){return new zO(e,this.config)}}C(UO,s_,"PgSmallIntBuilder");var a_,o_;class zO extends(o_=Le,a_=Q,o_){constructor(){super(...arguments);C(this,"mapFromDriverValue",r=>typeof r=="string"?Number(r):r)}getSQLType(){return"smallint"}}C(zO,a_,"PgSmallInt");function mB(t){return new UO(t??"")}var l_,c_;class BO extends(c_=Je,l_=Q,c_){constructor(e){super(e,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new VO(e,this.config)}}C(BO,l_,"PgSmallSerialBuilder");var d_,u_;class VO extends(u_=Le,d_=Q,u_){getSQLType(){return"smallserial"}}C(VO,d_,"PgSmallSerial");function gB(t){return new BO(t??"")}var h_,f_;class qO extends(f_=Je,h_=Q,f_){constructor(e,r){super(e,"string","PgText"),this.config.enumValues=r.enum}build(e){return new HO(e,this.config)}}C(qO,h_,"PgTextBuilder");var p_,m_;class HO extends(m_=Le,p_=Q,m_){constructor(){super(...arguments);C(this,"enumValues",this.config.enumValues)}getSQLType(){return"text"}}C(HO,p_,"PgText");function ve(t,e={}){const{name:r,config:n}=Zt(t,e);return new qO(r,n)}var g_,y_;class WO extends(y_=xc,g_=Q,y_){constructor(e,r,n){super(e,"string","PgTime"),this.withTimezone=r,this.precision=n,this.config.withTimezone=r,this.config.precision=n}build(e){return new GO(e,this.config)}}C(WO,g_,"PgTimeBuilder");var x_,v_;class GO extends(v_=Le,x_=Q,v_){constructor(r,n){super(r,n);C(this,"withTimezone");C(this,"precision");this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}C(GO,x_,"PgTime");function yB(t,e={}){const{name:r,config:n}=Zt(t,e);return new WO(r,n.withTimezone??!1,n.precision)}var b_,w_;class KO extends(w_=xc,b_=Q,w_){constructor(e,r,n){super(e,"date","PgTimestamp"),this.config.withTimezone=r,this.config.precision=n}build(e){return new QO(e,this.config)}}C(KO,b_,"PgTimestampBuilder");var j_,N_;class QO extends(N_=Le,j_=Q,N_){constructor(r,n){super(r,n);C(this,"withTimezone");C(this,"precision");C(this,"mapFromDriverValue",r=>new Date(this.withTimezone?r:r+"+0000"));C(this,"mapToDriverValue",r=>r.toISOString());this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}}C(QO,j_,"PgTimestamp");var S_,C_;class XO extends(C_=xc,S_=Q,C_){constructor(e,r,n){super(e,"string","PgTimestampString"),this.config.withTimezone=r,this.config.precision=n}build(e){return new ZO(e,this.config)}}C(XO,S_,"PgTimestampStringBuilder");var __,E_;class ZO extends(E_=Le,__=Q,E_){constructor(r,n){super(r,n);C(this,"withTimezone");C(this,"precision");this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}C(ZO,__,"PgTimestampString");function lt(t,e={}){const{name:r,config:n}=Zt(t,e);return(n==null?void 0:n.mode)==="string"?new XO(r,n.withTimezone??!1,n.precision):new KO(r,(n==null?void 0:n.withTimezone)??!1,n==null?void 0:n.precision)}var T_,k_;class YO extends(k_=Je,T_=Q,k_){constructor(e){super(e,"string","PgUUID")}defaultRandom(){return this.default(xr`gen_random_uuid()`)}build(e){return new JO(e,this.config)}}C(YO,T_,"PgUUIDBuilder");var P_,A_;class JO extends(A_=Le,P_=Q,A_){getSQLType(){return"uuid"}}C(JO,P_,"PgUUID");function xB(t){return new YO(t??"")}var R_,O_;class e5 extends(O_=Je,R_=Q,O_){constructor(e,r){super(e,"string","PgVarchar"),this.config.length=r.length,this.config.enumValues=r.enum}build(e){return new t5(e,this.config)}}C(e5,R_,"PgVarcharBuilder");var F_,I_;class t5 extends(I_=Le,F_=Q,I_){constructor(){super(...arguments);C(this,"length",this.config.length);C(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}C(t5,F_,"PgVarchar");function Ue(t,e={}){const{name:r,config:n}=Zt(t,e);return new e5(r,n)}var M_,D_;class r5 extends(D_=Je,M_=Q,D_){constructor(e,r){super(e,"string","PgBinaryVector"),this.config.dimensions=r.dimensions}build(e){return new n5(e,this.config)}}C(r5,M_,"PgBinaryVectorBuilder");var L_,$_;class n5 extends($_=Le,L_=Q,$_){constructor(){super(...arguments);C(this,"dimensions",this.config.dimensions)}getSQLType(){return`bit(${this.dimensions})`}}C(n5,L_,"PgBinaryVector");function vB(t,e){const{name:r,config:n}=Zt(t,e);return new r5(r,n)}var U_,z_;class s5 extends(z_=Je,U_=Q,z_){constructor(e,r){super(e,"array","PgHalfVector"),this.config.dimensions=r.dimensions}build(e){return new i5(e,this.config)}}C(s5,U_,"PgHalfVectorBuilder");var B_,V_;class i5 extends(V_=Le,B_=Q,V_){constructor(){super(...arguments);C(this,"dimensions",this.config.dimensions)}getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(r){return JSON.stringify(r)}mapFromDriverValue(r){return r.slice(1,-1).split(",").map(n=>Number.parseFloat(n))}}C(i5,B_,"PgHalfVector");function bB(t,e){const{name:r,config:n}=Zt(t,e);return new s5(r,n)}var q_,H_;class a5 extends(H_=Je,q_=Q,H_){constructor(e,r){super(e,"string","PgSparseVector"),this.config.dimensions=r.dimensions}build(e){return new o5(e,this.config)}}C(a5,q_,"PgSparseVectorBuilder");var W_,G_;class o5 extends(G_=Le,W_=Q,G_){constructor(){super(...arguments);C(this,"dimensions",this.config.dimensions)}getSQLType(){return`sparsevec(${this.dimensions})`}}C(o5,W_,"PgSparseVector");function wB(t,e){const{name:r,config:n}=Zt(t,e);return new a5(r,n)}var K_,Q_;class l5 extends(Q_=Je,K_=Q,Q_){constructor(e,r){super(e,"array","PgVector"),this.config.dimensions=r.dimensions}build(e){return new c5(e,this.config)}}C(l5,K_,"PgVectorBuilder");var X_,Z_;class c5 extends(Z_=Le,X_=Q,Z_){constructor(){super(...arguments);C(this,"dimensions",this.config.dimensions)}getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(r){return JSON.stringify(r)}mapFromDriverValue(r){return r.slice(1,-1).split(",").map(n=>Number.parseFloat(n))}}C(c5,X_,"PgVector");function jB(t,e){const{name:r,config:n}=Zt(t,e);return new l5(r,n)}function NB(){return{bigint:Z9,bigserial:Y9,boolean:At,char:J9,cidr:eB,customType:tB,date:rB,doublePrecision:nB,inet:sB,integer:Yi,interval:iB,json:aB,jsonb:bm,line:oB,macaddr:lB,macaddr8:cB,numeric:_O,point:dB,geometry:hB,real:fB,serial:pB,smallint:mB,smallserial:gB,text:ve,time:yB,timestamp:lt,uuid:xB,varchar:Ue,bit:vB,halfvec:bB,sparsevec:wB,vector:jB}}const vx=Symbol.for("drizzle:PgInlineForeignKeys"),Q1=Symbol.for("drizzle:EnableRLS");var Y_,J_,e2,t2,r2;class ap extends(r2=Xr,t2=Q,e2=vx,J_=Q1,Y_=Xr.Symbol.ExtraConfigBuilder,r2){constructor(){super(...arguments);C(this,e2,[]);C(this,J_,!1);C(this,Y_)}}C(ap,t2,"PgTable"),C(ap,"Symbol",Object.assign({},Xr.Symbol,{InlineForeignKeys:vx,EnableRLS:Q1}));function SB(t,e,r,n,s=t){const a=new ap(t,n,s),o=typeof e=="function"?e(NB()):e,l=Object.fromEntries(Object.entries(o).map(([u,h])=>{const f=h;f.setName(u);const g=f.build(a);return a[vx].push(...f.buildForeignKeys(g,a)),[u,g]})),c=Object.fromEntries(Object.entries(o).map(([u,h])=>{const f=h;f.setName(u);const g=f.buildExtraConfigColumn(a);return[u,g]})),d=Object.assign(a,l);return d[Xr.Symbol.Columns]=l,d[Xr.Symbol.ExtraConfigColumns]=c,Object.assign(d,{enableRLS:()=>(d[ap.Symbol.EnableRLS]=!0,d)})}const _n=(t,e,r)=>SB(t,e,r,void 0);var Ze;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function r(s){throw new Error}t.assertNever=r,t.arrayToEnum=s=>{const a={};for(const o of s)a[o]=o;return a},t.getValidEnumValues=s=>{const a=t.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),o={};for(const l of a)o[l]=s[l];return t.objectValues(o)},t.objectValues=s=>t.objectKeys(s).map(function(a){return s[a]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const a=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&a.push(o);return a},t.find=(s,a)=>{for(const o of s)if(a(o))return o},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function n(s,a=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}t.joinValues=n,t.jsonStringifyReplacer=(s,a)=>typeof a=="bigint"?a.toString():a})(Ze||(Ze={}));var bx;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(bx||(bx={}));const he=Ze.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ws=t=>{switch(typeof t){case"undefined":return he.undefined;case"string":return he.string;case"number":return isNaN(t)?he.nan:he.number;case"boolean":return he.boolean;case"function":return he.function;case"bigint":return he.bigint;case"symbol":return he.symbol;case"object":return Array.isArray(t)?he.array:t===null?he.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?he.promise:typeof Map<"u"&&t instanceof Map?he.map:typeof Set<"u"&&t instanceof Set?he.set:typeof Date<"u"&&t instanceof Date?he.date:he.object;default:return he.unknown}},X=Ze.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),CB=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class rn extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(a){return a.message},n={_errors:[]},s=a=>{for(const o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(r(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return s(this),n}static assert(e){if(!(e instanceof rn))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ze.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const s of this.issues)s.path.length>0?(r[s.path[0]]=r[s.path[0]]||[],r[s.path[0]].push(e(s))):n.push(e(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}rn.create=t=>new rn(t);const ec=(t,e)=>{let r;switch(t.code){case X.invalid_type:t.received===he.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case X.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,Ze.jsonStringifyReplacer)}`;break;case X.unrecognized_keys:r=`Unrecognized key(s) in object: ${Ze.joinValues(t.keys,", ")}`;break;case X.invalid_union:r="Invalid input";break;case X.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Ze.joinValues(t.options)}`;break;case X.invalid_enum_value:r=`Invalid enum value. Expected ${Ze.joinValues(t.options)}, received '${t.received}'`;break;case X.invalid_arguments:r="Invalid function arguments";break;case X.invalid_return_type:r="Invalid function return type";break;case X.invalid_date:r="Invalid date";break;case X.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:Ze.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case X.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case X.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case X.custom:r="Invalid input";break;case X.invalid_intersection_types:r="Intersection results could not be merged";break;case X.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case X.not_finite:r="Number must be finite";break;default:r=e.defaultError,Ze.assertNever(t)}return{message:r}};let d5=ec;function _B(t){d5=t}function op(){return d5}const lp=t=>{const{data:e,path:r,errorMaps:n,issueData:s}=t,a=[...r,...s.path||[]],o={...s,path:a};if(s.message!==void 0)return{...s,path:a,message:s.message};let l="";const c=n.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:e,defaultError:l}).message;return{...s,path:a,message:l}},EB=[];function oe(t,e){const r=op(),n=lp({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===ec?void 0:ec].filter(s=>!!s)});t.common.issues.push(n)}class vr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const s of r){if(s.status==="aborted")return Ae;s.status==="dirty"&&e.dirty(),n.push(s.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const s of r){const a=await s.key,o=await s.value;n.push({key:a,value:o})}return vr.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const s of r){const{key:a,value:o}=s;if(a.status==="aborted"||o.status==="aborted")return Ae;a.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(n[a.value]=o.value)}return{status:e.value,value:n}}}const Ae=Object.freeze({status:"aborted"}),Uo=t=>({status:"dirty",value:t}),Ar=t=>({status:"valid",value:t}),wx=t=>t.status==="aborted",jx=t=>t.status==="dirty",ao=t=>t.status==="valid",$d=t=>typeof Promise<"u"&&t instanceof Promise;function cp(t,e,r,n){if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function u5(t,e,r,n,s){if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,r),r}var be;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(be||(be={}));var Gc,Kc;class Ds{constructor(e,r,n,s){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const X1=(t,e)=>{if(ao(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new rn(t.common.issues);return this._error=r,this._error}}};function De(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:s}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,l)=>{var c,d;const{message:u}=t;return o.code==="invalid_enum_value"?{message:u??l.defaultError}:typeof l.data>"u"?{message:(c=u??n)!==null&&c!==void 0?c:l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:(d=u??r)!==null&&d!==void 0?d:l.defaultError}},description:s}}class Ve{get description(){return this._def.description}_getType(e){return Ws(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:Ws(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new vr,ctx:{common:e.parent.common,data:e.data,parsedType:Ws(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if($d(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){var n;const s={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ws(e)},a=this._parseSync({data:e,path:s.path,parent:s});return X1(s,a)}"~validate"(e){var r,n;const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ws(e)};if(!this["~standard"].async)try{const a=this._parseSync({data:e,path:[],parent:s});return ao(a)?{value:a.value}:{issues:s.common.issues}}catch(a){!((n=(r=a==null?void 0:a.message)===null||r===void 0?void 0:r.toLowerCase())===null||n===void 0)&&n.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:s}).then(a=>ao(a)?{value:a.value}:{issues:s.common.issues})}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ws(e)},s=this._parse({data:e,path:n.path,parent:n}),a=await($d(s)?s:Promise.resolve(s));return X1(n,a)}refine(e,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,a)=>{const o=e(s),l=()=>a.addIssue({code:X.custom,...n(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(e,r){return this._refinement((n,s)=>e(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(e){return new ss({schema:this,typeName:ke.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Is.create(this,this._def)}nullable(){return oa.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return es.create(this)}promise(){return rc.create(this,this._def)}or(e){return Vd.create([this,e],this._def)}and(e){return qd.create(this,e,this._def)}transform(e){return new ss({...De(this._def),schema:this,typeName:ke.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new Qd({...De(this._def),innerType:this,defaultValue:r,typeName:ke.ZodDefault})}brand(){return new ob({typeName:ke.ZodBranded,type:this,...De(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new Xd({...De(this._def),innerType:this,catchValue:r,typeName:ke.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return qu.create(this,e)}readonly(){return Zd.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const TB=/^c[^\s-]{8,}$/i,kB=/^[0-9a-z]+$/,PB=/^[0-9A-HJKMNP-TV-Z]{26}$/i,AB=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,RB=/^[a-z0-9_-]{21}$/i,OB=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,FB=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,IB=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,MB="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Sg;const DB=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,LB=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,$B=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,UB=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,zB=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,BB=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,h5="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",VB=new RegExp(`^${h5}$`);function f5(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function qB(t){return new RegExp(`^${f5(t)}$`)}function p5(t){let e=`${h5}T${f5(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function HB(t,e){return!!((e==="v4"||!e)&&DB.test(t)||(e==="v6"||!e)&&$B.test(t))}function WB(t,e){if(!OB.test(t))return!1;try{const[r]=t.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(n));return!(typeof s!="object"||s===null||!s.typ||!s.alg||e&&s.alg!==e)}catch{return!1}}function GB(t,e){return!!((e==="v4"||!e)&&LB.test(t)||(e==="v6"||!e)&&UB.test(t))}class Xn extends Ve{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==he.string){const a=this._getOrReturnCtx(e);return oe(a,{code:X.invalid_type,expected:he.string,received:a.parsedType}),Ae}const n=new vr;let s;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(s=this._getOrReturnCtx(e,s),oe(s,{code:X.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")e.data.length>a.value&&(s=this._getOrReturnCtx(e,s),oe(s,{code:X.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){const o=e.data.length>a.value,l=e.data.length<a.value;(o||l)&&(s=this._getOrReturnCtx(e,s),o?oe(s,{code:X.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):l&&oe(s,{code:X.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")IB.test(e.data)||(s=this._getOrReturnCtx(e,s),oe(s,{validation:"email",code:X.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")Sg||(Sg=new RegExp(MB,"u")),Sg.test(e.data)||(s=this._getOrReturnCtx(e,s),oe(s,{validation:"emoji",code:X.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")AB.test(e.data)||(s=this._getOrReturnCtx(e,s),oe(s,{validation:"uuid",code:X.invalid_string,message:a.message}),n.dirty());else if(a.kind==="nanoid")RB.test(e.data)||(s=this._getOrReturnCtx(e,s),oe(s,{validation:"nanoid",code:X.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")TB.test(e.data)||(s=this._getOrReturnCtx(e,s),oe(s,{validation:"cuid",code:X.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")kB.test(e.data)||(s=this._getOrReturnCtx(e,s),oe(s,{validation:"cuid2",code:X.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")PB.test(e.data)||(s=this._getOrReturnCtx(e,s),oe(s,{validation:"ulid",code:X.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),oe(s,{validation:"url",code:X.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),oe(s,{validation:"regex",code:X.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(s=this._getOrReturnCtx(e,s),oe(s,{code:X.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(s=this._getOrReturnCtx(e,s),oe(s,{code:X.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(s=this._getOrReturnCtx(e,s),oe(s,{code:X.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?p5(a).test(e.data)||(s=this._getOrReturnCtx(e,s),oe(s,{code:X.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="date"?VB.test(e.data)||(s=this._getOrReturnCtx(e,s),oe(s,{code:X.invalid_string,validation:"date",message:a.message}),n.dirty()):a.kind==="time"?qB(a).test(e.data)||(s=this._getOrReturnCtx(e,s),oe(s,{code:X.invalid_string,validation:"time",message:a.message}),n.dirty()):a.kind==="duration"?FB.test(e.data)||(s=this._getOrReturnCtx(e,s),oe(s,{validation:"duration",code:X.invalid_string,message:a.message}),n.dirty()):a.kind==="ip"?HB(e.data,a.version)||(s=this._getOrReturnCtx(e,s),oe(s,{validation:"ip",code:X.invalid_string,message:a.message}),n.dirty()):a.kind==="jwt"?WB(e.data,a.alg)||(s=this._getOrReturnCtx(e,s),oe(s,{validation:"jwt",code:X.invalid_string,message:a.message}),n.dirty()):a.kind==="cidr"?GB(e.data,a.version)||(s=this._getOrReturnCtx(e,s),oe(s,{validation:"cidr",code:X.invalid_string,message:a.message}),n.dirty()):a.kind==="base64"?zB.test(e.data)||(s=this._getOrReturnCtx(e,s),oe(s,{validation:"base64",code:X.invalid_string,message:a.message}),n.dirty()):a.kind==="base64url"?BB.test(e.data)||(s=this._getOrReturnCtx(e,s),oe(s,{validation:"base64url",code:X.invalid_string,message:a.message}),n.dirty()):Ze.assertNever(a);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(s=>e.test(s),{validation:r,code:X.invalid_string,...be.errToObj(n)})}_addCheck(e){return new Xn({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...be.errToObj(e)})}url(e){return this._addCheck({kind:"url",...be.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...be.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...be.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...be.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...be.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...be.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...be.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...be.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...be.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...be.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...be.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...be.errToObj(e)})}datetime(e){var r,n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(r=e==null?void 0:e.offset)!==null&&r!==void 0?r:!1,local:(n=e==null?void 0:e.local)!==null&&n!==void 0?n:!1,...be.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...be.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...be.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...be.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...be.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...be.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...be.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...be.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...be.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...be.errToObj(r)})}nonempty(e){return this.min(1,be.errToObj(e))}trim(){return new Xn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Xn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Xn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Xn.create=t=>{var e;return new Xn({checks:[],typeName:ke.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...De(t)})};function KB(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,s=r>n?r:n,a=parseInt(t.toFixed(s).replace(".","")),o=parseInt(e.toFixed(s).replace(".",""));return a%o/Math.pow(10,s)}class sa extends Ve{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==he.number){const a=this._getOrReturnCtx(e);return oe(a,{code:X.invalid_type,expected:he.number,received:a.parsedType}),Ae}let n;const s=new vr;for(const a of this._def.checks)a.kind==="int"?Ze.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),oe(n,{code:X.invalid_type,expected:"integer",received:"float",message:a.message}),s.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),oe(n,{code:X.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),oe(n,{code:X.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="multipleOf"?KB(e.data,a.value)!==0&&(n=this._getOrReturnCtx(e,n),oe(n,{code:X.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),oe(n,{code:X.not_finite,message:a.message}),s.dirty()):Ze.assertNever(a);return{status:s.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,be.toString(r))}gt(e,r){return this.setLimit("min",e,!1,be.toString(r))}lte(e,r){return this.setLimit("max",e,!0,be.toString(r))}lt(e,r){return this.setLimit("max",e,!1,be.toString(r))}setLimit(e,r,n,s){return new sa({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:be.toString(s)}]})}_addCheck(e){return new sa({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:be.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:be.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:be.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:be.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:be.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:be.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:be.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:be.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:be.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Ze.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}sa.create=t=>new sa({checks:[],typeName:ke.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...De(t)});class ia extends Ve{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==he.bigint)return this._getInvalidInput(e);let n;const s=new vr;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),oe(n,{code:X.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),oe(n,{code:X.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),oe(n,{code:X.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):Ze.assertNever(a);return{status:s.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return oe(r,{code:X.invalid_type,expected:he.bigint,received:r.parsedType}),Ae}gte(e,r){return this.setLimit("min",e,!0,be.toString(r))}gt(e,r){return this.setLimit("min",e,!1,be.toString(r))}lte(e,r){return this.setLimit("max",e,!0,be.toString(r))}lt(e,r){return this.setLimit("max",e,!1,be.toString(r))}setLimit(e,r,n,s){return new ia({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:be.toString(s)}]})}_addCheck(e){return new ia({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:be.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:be.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:be.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:be.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:be.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}ia.create=t=>{var e;return new ia({checks:[],typeName:ke.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...De(t)})};class Ud extends Ve{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==he.boolean){const n=this._getOrReturnCtx(e);return oe(n,{code:X.invalid_type,expected:he.boolean,received:n.parsedType}),Ae}return Ar(e.data)}}Ud.create=t=>new Ud({typeName:ke.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...De(t)});class oo extends Ve{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==he.date){const a=this._getOrReturnCtx(e);return oe(a,{code:X.invalid_type,expected:he.date,received:a.parsedType}),Ae}if(isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return oe(a,{code:X.invalid_date}),Ae}const n=new vr;let s;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(s=this._getOrReturnCtx(e,s),oe(s,{code:X.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(s=this._getOrReturnCtx(e,s),oe(s,{code:X.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):Ze.assertNever(a);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new oo({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:be.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:be.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}oo.create=t=>new oo({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:ke.ZodDate,...De(t)});class dp extends Ve{_parse(e){if(this._getType(e)!==he.symbol){const n=this._getOrReturnCtx(e);return oe(n,{code:X.invalid_type,expected:he.symbol,received:n.parsedType}),Ae}return Ar(e.data)}}dp.create=t=>new dp({typeName:ke.ZodSymbol,...De(t)});class zd extends Ve{_parse(e){if(this._getType(e)!==he.undefined){const n=this._getOrReturnCtx(e);return oe(n,{code:X.invalid_type,expected:he.undefined,received:n.parsedType}),Ae}return Ar(e.data)}}zd.create=t=>new zd({typeName:ke.ZodUndefined,...De(t)});class Bd extends Ve{_parse(e){if(this._getType(e)!==he.null){const n=this._getOrReturnCtx(e);return oe(n,{code:X.invalid_type,expected:he.null,received:n.parsedType}),Ae}return Ar(e.data)}}Bd.create=t=>new Bd({typeName:ke.ZodNull,...De(t)});class tc extends Ve{constructor(){super(...arguments),this._any=!0}_parse(e){return Ar(e.data)}}tc.create=t=>new tc({typeName:ke.ZodAny,...De(t)});class Ga extends Ve{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Ar(e.data)}}Ga.create=t=>new Ga({typeName:ke.ZodUnknown,...De(t)});class hi extends Ve{_parse(e){const r=this._getOrReturnCtx(e);return oe(r,{code:X.invalid_type,expected:he.never,received:r.parsedType}),Ae}}hi.create=t=>new hi({typeName:ke.ZodNever,...De(t)});class up extends Ve{_parse(e){if(this._getType(e)!==he.undefined){const n=this._getOrReturnCtx(e);return oe(n,{code:X.invalid_type,expected:he.void,received:n.parsedType}),Ae}return Ar(e.data)}}up.create=t=>new up({typeName:ke.ZodVoid,...De(t)});class es extends Ve{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),s=this._def;if(r.parsedType!==he.array)return oe(r,{code:X.invalid_type,expected:he.array,received:r.parsedType}),Ae;if(s.exactLength!==null){const o=r.data.length>s.exactLength.value,l=r.data.length<s.exactLength.value;(o||l)&&(oe(r,{code:o?X.too_big:X.too_small,minimum:l?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(oe(r,{code:X.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(oe(r,{code:X.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>s.type._parseAsync(new Ds(r,o,r.path,l)))).then(o=>vr.mergeArray(n,o));const a=[...r.data].map((o,l)=>s.type._parseSync(new Ds(r,o,r.path,l)));return vr.mergeArray(n,a)}get element(){return this._def.type}min(e,r){return new es({...this._def,minLength:{value:e,message:be.toString(r)}})}max(e,r){return new es({...this._def,maxLength:{value:e,message:be.toString(r)}})}length(e,r){return new es({...this._def,exactLength:{value:e,message:be.toString(r)}})}nonempty(e){return this.min(1,e)}}es.create=(t,e)=>new es({type:t,minLength:null,maxLength:null,exactLength:null,typeName:ke.ZodArray,...De(e)});function Eo(t){if(t instanceof vt){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=Is.create(Eo(n))}return new vt({...t._def,shape:()=>e})}else return t instanceof es?new es({...t._def,type:Eo(t.element)}):t instanceof Is?Is.create(Eo(t.unwrap())):t instanceof oa?oa.create(Eo(t.unwrap())):t instanceof Ls?Ls.create(t.items.map(e=>Eo(e))):t}class vt extends Ve{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=Ze.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==he.object){const d=this._getOrReturnCtx(e);return oe(d,{code:X.invalid_type,expected:he.object,received:d.parsedType}),Ae}const{status:n,ctx:s}=this._processInputParams(e),{shape:a,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof hi&&this._def.unknownKeys==="strip"))for(const d in s.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const u=a[d],h=s.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Ds(s,h,s.path,d)),alwaysSet:d in s.data})}if(this._def.catchall instanceof hi){const d=this._def.unknownKeys;if(d==="passthrough")for(const u of l)c.push({key:{status:"valid",value:u},value:{status:"valid",value:s.data[u]}});else if(d==="strict")l.length>0&&(oe(s,{code:X.unrecognized_keys,keys:l}),n.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const u of l){const h=s.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Ds(s,h,s.path,u)),alwaysSet:u in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const d=[];for(const u of c){const h=await u.key,f=await u.value;d.push({key:h,value:f,alwaysSet:u.alwaysSet})}return d}).then(d=>vr.mergeObjectSync(n,d)):vr.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(e){return be.errToObj,new vt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var s,a,o,l;const c=(o=(a=(s=this._def).errorMap)===null||a===void 0?void 0:a.call(s,r,n).message)!==null&&o!==void 0?o:n.defaultError;return r.code==="unrecognized_keys"?{message:(l=be.errToObj(e).message)!==null&&l!==void 0?l:c}:{message:c}}}:{}})}strip(){return new vt({...this._def,unknownKeys:"strip"})}passthrough(){return new vt({...this._def,unknownKeys:"passthrough"})}extend(e){return new vt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new vt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:ke.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new vt({...this._def,catchall:e})}pick(e){const r={};return Ze.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new vt({...this._def,shape:()=>r})}omit(e){const r={};return Ze.objectKeys(this.shape).forEach(n=>{e[n]||(r[n]=this.shape[n])}),new vt({...this._def,shape:()=>r})}deepPartial(){return Eo(this)}partial(e){const r={};return Ze.objectKeys(this.shape).forEach(n=>{const s=this.shape[n];e&&!e[n]?r[n]=s:r[n]=s.optional()}),new vt({...this._def,shape:()=>r})}required(e){const r={};return Ze.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])r[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof Is;)a=a._def.innerType;r[n]=a}}),new vt({...this._def,shape:()=>r})}keyof(){return m5(Ze.objectKeys(this.shape))}}vt.create=(t,e)=>new vt({shape:()=>t,unknownKeys:"strip",catchall:hi.create(),typeName:ke.ZodObject,...De(e)});vt.strictCreate=(t,e)=>new vt({shape:()=>t,unknownKeys:"strict",catchall:hi.create(),typeName:ke.ZodObject,...De(e)});vt.lazycreate=(t,e)=>new vt({shape:t,unknownKeys:"strip",catchall:hi.create(),typeName:ke.ZodObject,...De(e)});class Vd extends Ve{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function s(a){for(const l of a)if(l.result.status==="valid")return l.result;for(const l of a)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=a.map(l=>new rn(l.ctx.common.issues));return oe(r,{code:X.invalid_union,unionErrors:o}),Ae}if(r.common.async)return Promise.all(n.map(async a=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await a._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(s);{let a;const o=[];for(const c of n){const d={...r,common:{...r.common,issues:[]},parent:null},u=c._parseSync({data:r.data,path:r.path,parent:d});if(u.status==="valid")return u;u.status==="dirty"&&!a&&(a={result:u,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;const l=o.map(c=>new rn(c));return oe(r,{code:X.invalid_union,unionErrors:l}),Ae}}get options(){return this._def.options}}Vd.create=(t,e)=>new Vd({options:t,typeName:ke.ZodUnion,...De(e)});const Vs=t=>t instanceof Wd?Vs(t.schema):t instanceof ss?Vs(t.innerType()):t instanceof Gd?[t.value]:t instanceof aa?t.options:t instanceof Kd?Ze.objectValues(t.enum):t instanceof Qd?Vs(t._def.innerType):t instanceof zd?[void 0]:t instanceof Bd?[null]:t instanceof Is?[void 0,...Vs(t.unwrap())]:t instanceof oa?[null,...Vs(t.unwrap())]:t instanceof ob||t instanceof Zd?Vs(t.unwrap()):t instanceof Xd?Vs(t._def.innerType):[];class wm extends Ve{_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==he.object)return oe(r,{code:X.invalid_type,expected:he.object,received:r.parsedType}),Ae;const n=this.discriminator,s=r.data[n],a=this.optionsMap.get(s);return a?r.common.async?a._parseAsync({data:r.data,path:r.path,parent:r}):a._parseSync({data:r.data,path:r.path,parent:r}):(oe(r,{code:X.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),Ae)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){const s=new Map;for(const a of r){const o=Vs(a.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const l of o){if(s.has(l))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(l)}`);s.set(l,a)}}return new wm({typeName:ke.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:s,...De(n)})}}function Nx(t,e){const r=Ws(t),n=Ws(e);if(t===e)return{valid:!0,data:t};if(r===he.object&&n===he.object){const s=Ze.objectKeys(e),a=Ze.objectKeys(t).filter(l=>s.indexOf(l)!==-1),o={...t,...e};for(const l of a){const c=Nx(t[l],e[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===he.array&&n===he.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let a=0;a<t.length;a++){const o=t[a],l=e[a],c=Nx(o,l);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return r===he.date&&n===he.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class qd extends Ve{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),s=(a,o)=>{if(wx(a)||wx(o))return Ae;const l=Nx(a.value,o.value);return l.valid?((jx(a)||jx(o))&&r.dirty(),{status:r.value,value:l.data}):(oe(n,{code:X.invalid_intersection_types}),Ae)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,o])=>s(a,o)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}qd.create=(t,e,r)=>new qd({left:t,right:e,typeName:ke.ZodIntersection,...De(r)});class Ls extends Ve{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==he.array)return oe(n,{code:X.invalid_type,expected:he.array,received:n.parsedType}),Ae;if(n.data.length<this._def.items.length)return oe(n,{code:X.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ae;!this._def.rest&&n.data.length>this._def.items.length&&(oe(n,{code:X.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const a=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Ds(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(a).then(o=>vr.mergeArray(r,o)):vr.mergeArray(r,a)}get items(){return this._def.items}rest(e){return new Ls({...this._def,rest:e})}}Ls.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ls({items:t,typeName:ke.ZodTuple,rest:null,...De(e)})};class Hd extends Ve{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==he.object)return oe(n,{code:X.invalid_type,expected:he.object,received:n.parsedType}),Ae;const s=[],a=this._def.keyType,o=this._def.valueType;for(const l in n.data)s.push({key:a._parse(new Ds(n,l,n.path,l)),value:o._parse(new Ds(n,n.data[l],n.path,l)),alwaysSet:l in n.data});return n.common.async?vr.mergeObjectAsync(r,s):vr.mergeObjectSync(r,s)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof Ve?new Hd({keyType:e,valueType:r,typeName:ke.ZodRecord,...De(n)}):new Hd({keyType:Xn.create(),valueType:e,typeName:ke.ZodRecord,...De(r)})}}class hp extends Ve{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==he.map)return oe(n,{code:X.invalid_type,expected:he.map,received:n.parsedType}),Ae;const s=this._def.keyType,a=this._def.valueType,o=[...n.data.entries()].map(([l,c],d)=>({key:s._parse(new Ds(n,l,n.path,[d,"key"])),value:a._parse(new Ds(n,c,n.path,[d,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,u=await c.value;if(d.status==="aborted"||u.status==="aborted")return Ae;(d.status==="dirty"||u.status==="dirty")&&r.dirty(),l.set(d.value,u.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const d=c.key,u=c.value;if(d.status==="aborted"||u.status==="aborted")return Ae;(d.status==="dirty"||u.status==="dirty")&&r.dirty(),l.set(d.value,u.value)}return{status:r.value,value:l}}}}hp.create=(t,e,r)=>new hp({valueType:e,keyType:t,typeName:ke.ZodMap,...De(r)});class lo extends Ve{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==he.set)return oe(n,{code:X.invalid_type,expected:he.set,received:n.parsedType}),Ae;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(oe(n,{code:X.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(oe(n,{code:X.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const a=this._def.valueType;function o(c){const d=new Set;for(const u of c){if(u.status==="aborted")return Ae;u.status==="dirty"&&r.dirty(),d.add(u.value)}return{status:r.value,value:d}}const l=[...n.data.values()].map((c,d)=>a._parse(new Ds(n,c,n.path,d)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(e,r){return new lo({...this._def,minSize:{value:e,message:be.toString(r)}})}max(e,r){return new lo({...this._def,maxSize:{value:e,message:be.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}lo.create=(t,e)=>new lo({valueType:t,minSize:null,maxSize:null,typeName:ke.ZodSet,...De(e)});class rl extends Ve{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==he.function)return oe(r,{code:X.invalid_type,expected:he.function,received:r.parsedType}),Ae;function n(l,c){return lp({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,op(),ec].filter(d=>!!d),issueData:{code:X.invalid_arguments,argumentsError:c}})}function s(l,c){return lp({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,op(),ec].filter(d=>!!d),issueData:{code:X.invalid_return_type,returnTypeError:c}})}const a={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof rc){const l=this;return Ar(async function(...c){const d=new rn([]),u=await l._def.args.parseAsync(c,a).catch(g=>{throw d.addIssue(n(c,g)),d}),h=await Reflect.apply(o,this,u);return await l._def.returns._def.type.parseAsync(h,a).catch(g=>{throw d.addIssue(s(h,g)),d})})}else{const l=this;return Ar(function(...c){const d=l._def.args.safeParse(c,a);if(!d.success)throw new rn([n(c,d.error)]);const u=Reflect.apply(o,this,d.data),h=l._def.returns.safeParse(u,a);if(!h.success)throw new rn([s(u,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new rl({...this._def,args:Ls.create(e).rest(Ga.create())})}returns(e){return new rl({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new rl({args:e||Ls.create([]).rest(Ga.create()),returns:r||Ga.create(),typeName:ke.ZodFunction,...De(n)})}}class Wd extends Ve{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Wd.create=(t,e)=>new Wd({getter:t,typeName:ke.ZodLazy,...De(e)});class Gd extends Ve{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return oe(r,{received:r.data,code:X.invalid_literal,expected:this._def.value}),Ae}return{status:"valid",value:e.data}}get value(){return this._def.value}}Gd.create=(t,e)=>new Gd({value:t,typeName:ke.ZodLiteral,...De(e)});function m5(t,e){return new aa({values:t,typeName:ke.ZodEnum,...De(e)})}class aa extends Ve{constructor(){super(...arguments),Gc.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return oe(r,{expected:Ze.joinValues(n),received:r.parsedType,code:X.invalid_type}),Ae}if(cp(this,Gc)||u5(this,Gc,new Set(this._def.values)),!cp(this,Gc).has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return oe(r,{received:r.data,code:X.invalid_enum_value,options:n}),Ae}return Ar(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return aa.create(e,{...this._def,...r})}exclude(e,r=this._def){return aa.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}Gc=new WeakMap;aa.create=m5;class Kd extends Ve{constructor(){super(...arguments),Kc.set(this,void 0)}_parse(e){const r=Ze.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==he.string&&n.parsedType!==he.number){const s=Ze.objectValues(r);return oe(n,{expected:Ze.joinValues(s),received:n.parsedType,code:X.invalid_type}),Ae}if(cp(this,Kc)||u5(this,Kc,new Set(Ze.getValidEnumValues(this._def.values))),!cp(this,Kc).has(e.data)){const s=Ze.objectValues(r);return oe(n,{received:n.data,code:X.invalid_enum_value,options:s}),Ae}return Ar(e.data)}get enum(){return this._def.values}}Kc=new WeakMap;Kd.create=(t,e)=>new Kd({values:t,typeName:ke.ZodNativeEnum,...De(e)});class rc extends Ve{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==he.promise&&r.common.async===!1)return oe(r,{code:X.invalid_type,expected:he.promise,received:r.parsedType}),Ae;const n=r.parsedType===he.promise?r.data:Promise.resolve(r.data);return Ar(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}rc.create=(t,e)=>new rc({type:t,typeName:ke.ZodPromise,...De(e)});class ss extends Ve{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ke.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),s=this._def.effect||null,a={addIssue:o=>{oe(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),s.type==="preprocess"){const o=s.transform(n.data,a);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return Ae;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?Ae:c.status==="dirty"||r.value==="dirty"?Uo(c.value):c});{if(r.value==="aborted")return Ae;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?Ae:l.status==="dirty"||r.value==="dirty"?Uo(l.value):l}}if(s.type==="refinement"){const o=l=>{const c=s.refinement(l,a);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?Ae:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?Ae:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(s.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!ao(o))return o;const l=s.transform(o.value,a);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>ao(o)?Promise.resolve(s.transform(o.value,a)).then(l=>({status:r.value,value:l})):o);Ze.assertNever(s)}}ss.create=(t,e,r)=>new ss({schema:t,typeName:ke.ZodEffects,effect:e,...De(r)});ss.createWithPreprocess=(t,e,r)=>new ss({schema:e,effect:{type:"preprocess",transform:t},typeName:ke.ZodEffects,...De(r)});class Is extends Ve{_parse(e){return this._getType(e)===he.undefined?Ar(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Is.create=(t,e)=>new Is({innerType:t,typeName:ke.ZodOptional,...De(e)});class oa extends Ve{_parse(e){return this._getType(e)===he.null?Ar(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}oa.create=(t,e)=>new oa({innerType:t,typeName:ke.ZodNullable,...De(e)});class Qd extends Ve{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===he.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Qd.create=(t,e)=>new Qd({innerType:t,typeName:ke.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...De(e)});class Xd extends Ve{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return $d(s)?s.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new rn(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new rn(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Xd.create=(t,e)=>new Xd({innerType:t,typeName:ke.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...De(e)});class fp extends Ve{_parse(e){if(this._getType(e)!==he.nan){const n=this._getOrReturnCtx(e);return oe(n,{code:X.invalid_type,expected:he.nan,received:n.parsedType}),Ae}return{status:"valid",value:e.data}}}fp.create=t=>new fp({typeName:ke.ZodNaN,...De(t)});const QB=Symbol("zod_brand");class ob extends Ve{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class qu extends Ve{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Ae:a.status==="dirty"?(r.dirty(),Uo(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?Ae:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(e,r){return new qu({in:e,out:r,typeName:ke.ZodPipeline})}}class Zd extends Ve{_parse(e){const r=this._def.innerType._parse(e),n=s=>(ao(s)&&(s.value=Object.freeze(s.value)),s);return $d(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}Zd.create=(t,e)=>new Zd({innerType:t,typeName:ke.ZodReadonly,...De(e)});function Z1(t,e){const r=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof r=="string"?{message:r}:r}function g5(t,e={},r){return t?tc.create().superRefine((n,s)=>{var a,o;const l=t(n);if(l instanceof Promise)return l.then(c=>{var d,u;if(!c){const h=Z1(e,n),f=(u=(d=h.fatal)!==null&&d!==void 0?d:r)!==null&&u!==void 0?u:!0;s.addIssue({code:"custom",...h,fatal:f})}});if(!l){const c=Z1(e,n),d=(o=(a=c.fatal)!==null&&a!==void 0?a:r)!==null&&o!==void 0?o:!0;s.addIssue({code:"custom",...c,fatal:d})}}):tc.create()}const XB={object:vt.lazycreate};var ke;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(ke||(ke={}));const ZB=(t,e={message:`Input not instance of ${t.name}`})=>g5(r=>r instanceof t,e),y5=Xn.create,x5=sa.create,YB=fp.create,JB=ia.create,v5=Ud.create,eV=oo.create,tV=dp.create,rV=zd.create,nV=Bd.create,sV=tc.create,iV=Ga.create,aV=hi.create,oV=up.create,lV=es.create,cV=vt.create,dV=vt.strictCreate,uV=Vd.create,hV=wm.create,fV=qd.create,pV=Ls.create,mV=Hd.create,gV=hp.create,yV=lo.create,xV=rl.create,vV=Wd.create,bV=Gd.create,wV=aa.create,jV=Kd.create,NV=rc.create,Y1=ss.create,SV=Is.create,CV=oa.create,_V=ss.createWithPreprocess,EV=qu.create,TV=()=>y5().optional(),kV=()=>x5().optional(),PV=()=>v5().optional(),AV={string:t=>Xn.create({...t,coerce:!0}),number:t=>sa.create({...t,coerce:!0}),boolean:t=>Ud.create({...t,coerce:!0}),bigint:t=>ia.create({...t,coerce:!0}),date:t=>oo.create({...t,coerce:!0})},RV=Ae;var V=Object.freeze({__proto__:null,defaultErrorMap:ec,setErrorMap:_B,getErrorMap:op,makeIssue:lp,EMPTY_PATH:EB,addIssueToContext:oe,ParseStatus:vr,INVALID:Ae,DIRTY:Uo,OK:Ar,isAborted:wx,isDirty:jx,isValid:ao,isAsync:$d,get util(){return Ze},get objectUtil(){return bx},ZodParsedType:he,getParsedType:Ws,ZodType:Ve,datetimeRegex:p5,ZodString:Xn,ZodNumber:sa,ZodBigInt:ia,ZodBoolean:Ud,ZodDate:oo,ZodSymbol:dp,ZodUndefined:zd,ZodNull:Bd,ZodAny:tc,ZodUnknown:Ga,ZodNever:hi,ZodVoid:up,ZodArray:es,ZodObject:vt,ZodUnion:Vd,ZodDiscriminatedUnion:wm,ZodIntersection:qd,ZodTuple:Ls,ZodRecord:Hd,ZodMap:hp,ZodSet:lo,ZodFunction:rl,ZodLazy:Wd,ZodLiteral:Gd,ZodEnum:aa,ZodNativeEnum:Kd,ZodPromise:rc,ZodEffects:ss,ZodTransformer:ss,ZodOptional:Is,ZodNullable:oa,ZodDefault:Qd,ZodCatch:Xd,ZodNaN:fp,BRAND:QB,ZodBranded:ob,ZodPipeline:qu,ZodReadonly:Zd,custom:g5,Schema:Ve,ZodSchema:Ve,late:XB,get ZodFirstPartyTypeKind(){return ke},coerce:AV,any:sV,array:lV,bigint:JB,boolean:v5,date:eV,discriminatedUnion:hV,effect:Y1,enum:wV,function:xV,instanceof:ZB,intersection:fV,lazy:vV,literal:bV,map:gV,nan:YB,nativeEnum:jV,never:aV,null:nV,nullable:CV,number:x5,object:cV,oboolean:PV,onumber:kV,optional:SV,ostring:TV,pipeline:EV,preprocess:_V,promise:NV,record:mV,set:yV,strictObject:dV,string:y5,symbol:tV,transformer:Y1,tuple:pV,undefined:rV,union:uV,unknown:iV,void:oV,NEVER:RV,ZodIssueCode:X,quotelessJson:CB,ZodError:rn});const xt={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function Et(t,e){return e.includes(t.columnType)}function OV(t){return"enumValues"in t&&Array.isArray(t.enumValues)&&t.enumValues.length>0}const FV=V.union([V.string(),V.number(),V.boolean(),V.null()]),IV=V.union([FV,V.record(V.any()),V.array(V.any())]),MV=V.custom(t=>t instanceof Buffer);function b5(t,e){const r=(e==null?void 0:e.zodInstance)??V,n=(e==null?void 0:e.coerce)??{};let s;return OV(t)&&(s=t.enumValues.length?r.enum(t.enumValues):r.string()),s||(Et(t,["PgGeometry","PgPointTuple"])?s=r.tuple([r.number(),r.number()]):Et(t,["PgGeometryObject","PgPointObject"])?s=r.object({x:r.number(),y:r.number()}):Et(t,["PgHalfVector","PgVector"])?(s=r.array(r.number()),s=t.dimensions?s.length(t.dimensions):s):Et(t,["PgLine"])?s=r.tuple([r.number(),r.number(),r.number()]):Et(t,["PgLineABC"])?s=r.object({a:r.number(),b:r.number(),c:r.number()}):Et(t,["PgArray"])?(s=r.array(b5(t.baseColumn,r)),s=t.size?s.length(t.size):s):t.dataType==="array"?s=r.array(r.any()):t.dataType==="number"?s=DV(t,r,n):t.dataType==="bigint"?s=LV(t,r,n):t.dataType==="boolean"?s=n===!0||n.boolean?r.coerce.boolean():r.boolean():t.dataType==="date"?s=n===!0||n.date?r.coerce.date():r.date():t.dataType==="string"?s=$V(t,r,n):t.dataType==="json"?s=IV:t.dataType==="custom"?s=r.any():t.dataType==="buffer"&&(s=MV)),s||(s=r.any()),s}function DV(t,e,r){let n=t.getSQLType().includes("unsigned"),s,a,o=!1;Et(t,["MySqlTinyInt","SingleStoreTinyInt"])?(s=n?0:xt.INT8_MIN,a=n?xt.INT8_UNSIGNED_MAX:xt.INT8_MAX,o=!0):Et(t,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(s=n?0:xt.INT16_MIN,a=n?xt.INT16_UNSIGNED_MAX:xt.INT16_MAX,o=!0):Et(t,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(s=n?0:xt.INT24_MIN,a=n?xt.INT24_UNSIGNED_MAX:xt.INT24_MAX,o=Et(t,["MySqlMediumInt","SingleStoreMediumInt"])):Et(t,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(s=n?0:xt.INT32_MIN,a=n?xt.INT32_UNSIGNED_MAX:xt.INT32_MAX,o=!0):Et(t,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(s=n?0:xt.INT48_MIN,a=n?xt.INT48_UNSIGNED_MAX:xt.INT48_MAX):Et(t,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(n=n||Et(t,["MySqlSerial","SingleStoreSerial"]),s=n?0:Number.MIN_SAFE_INTEGER,a=Number.MAX_SAFE_INTEGER,o=!0):Et(t,["MySqlYear","SingleStoreYear"])?(s=1901,a=2155,o=!0):(s=Number.MIN_SAFE_INTEGER,a=Number.MAX_SAFE_INTEGER);let l=r===!0||r!=null&&r.number?e.coerce.number():e.number();return l=l.min(s).max(a),o?l.int():l}function LV(t,e,r){const n=t.getSQLType().includes("unsigned"),s=n?0n:xt.INT64_MIN,a=n?xt.INT64_UNSIGNED_MAX:xt.INT64_MAX;return(r===!0||r!=null&&r.bigint?e.coerce.bigint():e.bigint()).min(s).max(a)}function $V(t,e,r){if(Et(t,["PgUUID"]))return e.string().uuid();let n,s,a=!1;Et(t,["PgVarchar","SQLiteText"])?n=t.length:Et(t,["MySqlVarChar","SingleStoreVarChar"])?n=t.length??xt.INT16_UNSIGNED_MAX:Et(t,["MySqlText","SingleStoreText"])&&(t.textType==="longtext"?n=xt.INT32_UNSIGNED_MAX:t.textType==="mediumtext"?n=xt.INT24_UNSIGNED_MAX:t.textType==="text"?n=xt.INT16_UNSIGNED_MAX:n=xt.INT8_UNSIGNED_MAX),Et(t,["PgChar","MySqlChar","SingleStoreChar"])&&(n=t.length,a=!0),Et(t,["PgBinaryVector"])&&(s=/^[01]+$/,n=t.dimensions);let o=r===!0||r!=null&&r.string?e.coerce.string():e.string();return o=s?o.regex(s):o,n&&a?o.length(n):n?o.max(n):o}function w5(t){return OR(t)?Q9(t):X9(t)}function j5(t,e,r,n){const s={};for(const[a,o]of Object.entries(t)){if(!nr(o,Jl)&&!nr(o,Ut)&&!nr(o,Ut.Aliased)&&typeof o=="object"){const h=OR(o)||K9(o)?w5(o):o;s[a]=j5(h,e[a]??{},r,n);continue}const l=e[a];if(l!==void 0&&typeof l!="function"){s[a]=l;continue}const c=nr(o,Jl)?o:void 0,d=c?b5(c,n):V.any(),u=typeof l=="function"?l(d):d;r.never(c)||(s[a]=u,c&&(r.nullable(c)&&(s[a]=s[a].nullable()),r.optional(c)&&(s[a]=s[a].optional())))}return V.object(s)}const UV={never:t=>{var e,r;return((e=t==null?void 0:t.generated)==null?void 0:e.type)==="always"||((r=t==null?void 0:t.generatedIdentity)==null?void 0:r.type)==="always"},optional:t=>!t.notNull||t.notNull&&t.hasDefault,nullable:t=>!t.notNull},En=(t,e)=>{const r=w5(t);return j5(r,e??{},UV)},fi=_n("users",{id:Ue("id").primaryKey().default(xr`gen_random_uuid()`),username:ve("username").notNull().unique(),email:ve("email").notNull().unique(),password:ve("password").notNull(),fullName:ve("full_name").notNull(),phone:ve("phone"),isAdmin:At("is_admin").default(!1),resetToken:ve("reset_token"),resetTokenExpiry:lt("reset_token_expiry"),twoFactorEnabled:At("two_factor_enabled").default(!1),twoFactorMethod:ve("two_factor_method"),verificationCode:ve("verification_code"),verificationCodeExpiry:lt("verification_code_expiry"),isPhoneVerified:At("is_phone_verified").default(!1),isEmailVerified:At("is_email_verified").default(!1),isBlocked:At("is_blocked").default(!1),blockReason:ve("block_reason"),blockedAt:lt("blocked_at"),blockedBy:Ue("blocked_by"),createdAt:lt("created_at").defaultNow()}),zV=_n("security_logs",{id:Ue("id").primaryKey().default(xr`gen_random_uuid()`),userId:Ue("user_id").references(()=>fi.id).notNull(),action:ve("action").notNull(),method:ve("method").notNull(),code:ve("code").notNull(),verified:At("verified").default(!1),ipAddress:ve("ip_address"),userAgent:ve("user_agent"),createdAt:lt("created_at").defaultNow(),verifiedAt:lt("verified_at")}),N5=_n("categories",{id:Ue("id").primaryKey().default(xr`gen_random_uuid()`),name:ve("name").notNull(),emoji:ve("emoji"),isActive:At("is_active").default(!0)}),S5=_n("products",{id:Ue("id").primaryKey().default(xr`gen_random_uuid()`),name:ve("name").notNull(),description:ve("description"),price:Js("price",{precision:10,scale:2}).notNull(),originalPrice:Js("original_price",{precision:10,scale:2}),categoryId:Ue("category_id").references(()=>N5.id),imageUrl:ve("image_url"),images:ve("images").array(),stock:Yi("stock").default(0),rating:Js("rating",{precision:3,scale:2}).default("0"),reviewCount:Yi("review_count").default(0),promotionType:ve("promotion_type"),isActive:At("is_active").default(!0),isFeatured:At("is_featured").default(!1),isAffiliate:At("is_affiliate").default(!1),affiliateUrl:ve("affiliate_url"),affiliateStore:ve("affiliate_store"),shippingMethod:ve("shipping_method").default("Envo Estndar"),deliveryTime:ve("delivery_time").default("3-5 das hbiles"),freeShipping:At("free_shipping").default(!1),freeShippingMinAmount:Js("free_shipping_min_amount",{precision:10,scale:2}).default("999"),allowTransferDiscount:At("allow_transfer_discount").default(!0),transferDiscountPercent:Js("transfer_discount_percent",{precision:5,scale:2}).default("3.50"),isImported:At("is_imported").default(!1),importDeliveryDays:Yi("import_delivery_days").default(15),importDescription:ve("import_description").default("Producto de importacin"),createdAt:lt("created_at").defaultNow()}),C5=_n("addresses",{id:Ue("id").primaryKey().default(xr`gen_random_uuid()`),userId:Ue("user_id").references(()=>fi.id).notNull(),title:ve("title").notNull(),street:ve("street").notNull(),city:ve("city").notNull(),state:ve("state").notNull(),postalCode:ve("postal_code").notNull(),country:ve("country").default("Mxico"),isDefault:At("is_default").default(!1)}),_5=_n("orders",{id:Ue("id").primaryKey().default(xr`gen_random_uuid()`),userId:Ue("user_id").references(()=>fi.id).notNull(),productId:Ue("product_id").references(()=>S5.id).notNull(),quantity:Yi("quantity").default(1),totalAmount:Js("total_amount",{precision:10,scale:2}).notNull(),status:ve("status").notNull().default("PENDIENTE"),paymentStatus:ve("payment_status").default("pending"),paymentId:ve("payment_id"),preferenceId:ve("preference_id"),paymentMethod:ve("payment_method"),paymentType:ve("payment_type").default("mercadopago"),discountApplied:Js("discount_applied",{precision:10,scale:2}).default("0"),originalAmount:Js("original_amount",{precision:10,scale:2}),transferReceiptUrl:ve("transfer_receipt_url"),transferVerifiedAt:lt("transfer_verified_at"),transferVerifiedBy:Ue("transfer_verified_by").references(()=>fi.id),transferNotes:ve("transfer_notes"),shippingAddressId:Ue("shipping_address_id").references(()=>C5.id),trackingNumber:ve("tracking_number"),courierService:ve("courier_service"),estimatedDelivery:lt("estimated_delivery"),actualDelivery:lt("actual_delivery"),statusHistory:bm("status_history").default([]),orderNumber:ve("order_number").notNull().unique(),createdAt:lt("created_at").defaultNow(),updatedAt:lt("updated_at").defaultNow()}),BV=En(fi).pick({username:!0,email:!0,password:!0,fullName:!0,phone:!0});En(zV).omit({id:!0,createdAt:!0,verifiedAt:!0});En(N5).omit({id:!0});En(S5).omit({id:!0,createdAt:!0}).extend({images:V.array(V.string()).optional().default([]),allowTransferDiscount:V.boolean().default(!0),transferDiscountPercent:V.string().default("3.50"),isImported:V.boolean().default(!1),importDeliveryDays:V.number().default(15),importDescription:V.string().default("Producto de importacin")});En(C5).omit({id:!0});En(_5).omit({id:!0,orderNumber:!0,createdAt:!0,updatedAt:!0});V.object({status:V.enum(["PENDIENTE","PAGADO","EN_PREPARACION","RECOGIDO","ENVIADO","EN_RUTA","ENTREGADO"])});V.object({orderId:V.string().min(1,"ID del pedido requerido"),verified:V.boolean(),notes:V.string().optional()});V.object({orderId:V.string().min(1,"ID del pedido requerido"),receiptUrl:V.string().url("URL del comprobante invlida")});const VV=_n("payment_config",{id:Ue("id").primaryKey().default(xr`gen_random_uuid()`),configKey:ve("config_key").notNull().unique(),isActive:At("is_active").default(!0),displayName:ve("display_name").notNull(),config:ve("config").notNull(),createdAt:lt("created_at").defaultNow(),updatedAt:lt("updated_at").defaultNow()});En(VV,{config:V.string().min(1,"Configuracin requerida")}).omit({id:!0,createdAt:!0,updatedAt:!0});V.object({id:V.string(),isActive:V.boolean().optional(),displayName:V.string().optional(),config:V.string().optional()});V.object({productId:V.string().min(1,"El producto es requerido"),quantity:V.number().min(1,"La cantidad debe ser mayor a 0"),shippingAddressId:V.string().optional(),paymentType:V.enum(["mercadopago","direct_transfer"]).default("mercadopago")});V.object({productId:V.string().min(1,"El producto es requerido"),quantity:V.number().min(1,"La cantidad debe ser mayor a 0"),shippingAddressId:V.string().optional(),originalAmount:V.string().min(1,"El monto original es requerido"),discountApplied:V.string().min(1,"El descuento aplicado es requerido")});V.object({id:V.string(),type:V.string(),data:V.object({id:V.string()})});V.object({username:V.string().min(1,"El nombre de usuario es requerido"),newPassword:V.string().min(8,"La contrasea debe tener al menos 8 caracteres"),resetToken:V.string().min(1,"El token de recuperacin es requerido")});V.object({username:V.string().min(1,"El nombre de usuario es requerido")});const E5=_n("support_tickets",{id:Ue("id").primaryKey().default(xr`gen_random_uuid()`),ticketNumber:ve("ticket_number").notNull().unique(),userId:Ue("user_id").references(()=>fi.id),email:ve("email").notNull(),name:ve("name").notNull(),subject:ve("subject").notNull(),description:ve("description").notNull(),category:ve("category").notNull(),priority:ve("priority").notNull().default("MEDIO"),status:ve("status").notNull().default("ABIERTO"),orderId:Ue("order_id").references(()=>_5.id),attachments:bm("attachments").default([]),assignedTo:Ue("assigned_to").references(()=>fi.id),adminNotes:ve("admin_notes"),resolution:ve("resolution"),createdAt:lt("created_at").defaultNow(),updatedAt:lt("updated_at").defaultNow(),resolvedAt:lt("resolved_at")}),qV=_n("ticket_messages",{id:Ue("id").primaryKey().default(xr`gen_random_uuid()`),ticketId:Ue("ticket_id").references(()=>E5.id,{onDelete:"cascade"}).notNull(),senderId:Ue("sender_id").references(()=>fi.id),senderType:ve("sender_type").notNull(),senderName:ve("sender_name").notNull(),senderEmail:ve("sender_email").notNull(),message:ve("message").notNull(),attachments:bm("attachments").default([]),isInternal:At("is_internal").default(!1),createdAt:lt("created_at").defaultNow()});En(E5,{subject:V.string().min(1,"El asunto es requerido"),description:V.string().min(10,"La descripcin debe tener al menos 10 caracteres"),email:V.string().email("Email invlido").optional(),name:V.string().min(1,"El nombre es requerido").optional(),category:V.enum(["PEDIDO","PAGO","TECNICO","DEVOLUCION","OTRO"]),priority:V.enum(["BAJO","MEDIO","ALTO","URGENTE"]).optional()}).omit({id:!0,ticketNumber:!0,status:!0,createdAt:!0,updatedAt:!0,resolvedAt:!0});En(qV,{message:V.string().min(1,"El mensaje es requerido"),senderName:V.string().min(1,"El nombre es requerido"),senderEmail:V.string().email("Email invlido"),senderType:V.enum(["CLIENTE","ADMIN"])}).omit({id:!0,createdAt:!0});V.object({ticketId:V.string().min(1,"ID del ticket requerido"),status:V.enum(["ABIERTO","EN_PROCESO","ESPERANDO_CLIENTE","RESUELTO","CERRADO"]),assignedTo:V.string().optional(),adminNotes:V.string().optional(),resolution:V.string().optional()});const HV=_n("transfer_discount_config",{id:Ue("id").primaryKey().default(xr`gen_random_uuid()`),discountPercentage:Js("discount_percentage",{precision:5,scale:2}).notNull().default("3.50"),discountText:ve("discount_text").notNull().default("por evitar comisiones"),isActive:At("is_active").notNull().default(!0),createdAt:lt("created_at").defaultNow(),updatedAt:lt("updated_at").defaultNow(),updatedBy:Ue("updated_by").references(()=>fi.id)});En(HV).omit({id:!0,createdAt:!0,updatedAt:!0});const WV=_n("banners",{id:Ue("id").primaryKey().default(xr`gen_random_uuid()`),title:Ue("title",{length:200}).notNull(),subtitle:Ue("subtitle",{length:300}),imageUrl:Ue("image_url",{length:500}),buttonText:Ue("button_text",{length:100}),buttonLink:Ue("button_link",{length:500}),backgroundColor:Ue("background_color",{length:50}).default("#ff4444"),textColor:Ue("text_color",{length:50}).default("#ffffff"),isTransparent:At("is_transparent").default(!1),isActive:At("is_active").default(!0),displayOrder:Yi("display_order").default(0),startDate:lt("start_date"),endDate:lt("end_date"),createdAt:lt("created_at").defaultNow(),updatedAt:lt("updated_at").defaultNow()}),GV=_n("special_offers",{id:Ue("id").primaryKey().default(xr`gen_random_uuid()`),title:Ue("title",{length:200}).notNull(),description:Ue("description",{length:500}),discountPercentage:Yi("discount_percentage"),originalPrice:Ue("original_price",{length:50}),offerPrice:Ue("offer_price",{length:50}),imageUrl:Ue("image_url",{length:500}),productId:Ue("product_id"),offerType:Ue("offer_type",{length:50}).default("BOOM"),isActive:At("is_active").default(!0),displayOrder:Yi("display_order").default(0),startDate:lt("start_date"),endDate:lt("end_date"),createdAt:lt("created_at").defaultNow(),updatedAt:lt("updated_at").defaultNow()}),T5=En(WV).omit({id:!0,createdAt:!0,updatedAt:!0}),k5=En(GV).omit({id:!0,createdAt:!0,updatedAt:!0});T5.partial();k5.partial();const KV=V.object({identifier:V.string().min(1,"Campo requerido"),method:V.enum(["username","email","phone"],{errorMap:()=>({message:"Mtodo de recuperacin invlido"})})}),QV=V.object({identifier:V.string().min(1,"Campo requerido"),resetToken:V.string().min(1,"Token de recuperacin requerido"),newPassword:V.string().min(8,"La contrasea debe tener al menos 8 caracteres"),method:V.enum(["username","email","phone"],{errorMap:()=>({message:"Mtodo de recuperacin invlido"})})}),XV="/assets/security%20(1)_1758762078182-BReZXh24.jpg",ZV=Iu("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Sx=p.forwardRef(({className:t,variant:e,...r},n)=>i.jsx("div",{ref:n,role:"alert",className:me(ZV({variant:e}),t),...r}));Sx.displayName="Alert";const YV=p.forwardRef(({className:t,...e},r)=>i.jsx("h5",{ref:r,className:me("mb-1 font-medium leading-none tracking-tight",t),...e}));YV.displayName="AlertTitle";const Cx=p.forwardRef(({className:t,...e},r)=>i.jsx("div",{ref:r,className:me("text-sm [&_p]:leading-relaxed",t),...e}));Cx.displayName="AlertDescription";const JV=V.object({username:V.string().min(1,"Username es requerido"),password:V.string().min(1,"Password es requerido")}),eq=BV.extend({confirmPassword:V.string()}).refine(t=>t.password===t.confirmPassword,{message:"Las contraseas no coinciden",path:["confirmPassword"]}),tq=KV,rq=QV.extend({confirmPassword:V.string()}).refine(t=>t.newPassword===t.confirmPassword,{message:"Las contraseas no coinciden",path:["confirmPassword"]});function nq(){const[,t]=os(),{user:e,loginMutation:r,registerMutation:n}=Cn(),[s,a]=p.useState(!1),[o,l]=p.useState("request"),[c,d]=p.useState(""),[u,h]=p.useState(""),[f,g]=p.useState("email"),[j,m]=p.useState(!1),[v,w]=p.useState(!1),{toast:y}=cr();if(e)return t("/"),null;const x=Ts({resolver:ks(JV),defaultValues:{username:"",password:""}}),b=Ts({resolver:ks(eq),defaultValues:{username:"",email:"",password:"",confirmPassword:"",fullName:"",phone:""}}),E=L=>{r.mutate(L,{onSuccess:()=>{t("/")}})},k=L=>{const{confirmPassword:R,...I}=L;n.mutate(I,{onSuccess:()=>{t("/")}})},T=Ts({resolver:ks(tq),defaultValues:{identifier:"",method:"email"}}),A=Ts({resolver:ks(rq),defaultValues:{identifier:"",resetToken:"",newPassword:"",confirmPassword:"",method:"email"}}),O=async L=>{m(!0);try{const R=await fetch("/api/password-reset/request",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(L)}),I=await R.json();if(!R.ok)throw new Error(I.error||"Error al generar token de recuperacin");setTimeout(()=>{h(L.identifier),g(L.method),A.setValue("identifier",L.identifier),A.setValue("method",L.method),l("confirm"),y({title:"Token de Recuperacin Enviado",description:`Revisa tu ${L.method==="email"?"correo electrnico":L.method==="phone"?"SMS":"email asociado al usuario"} para obtener el token de recuperacin`})},100)}catch(R){y({title:"Error",description:R.message||"Error al generar token de recuperacin",variant:"destructive"})}finally{m(!1)}},M=async L=>{w(!0);try{const R=await fetch("/api/password-reset/confirm",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(L)}),I=await R.json();if(!R.ok)throw new Error(I.error||"Error al actualizar contrasea");y({title:"Contrasea Actualizada",description:"Tu contrasea ha sido actualizada exitosamente"}),setTimeout(()=>{a(!1),l("request"),T.reset(),A.reset(),d(""),h(""),g("email")},100)}catch(R){y({title:"Error",description:R.message||"Error al actualizar contrasea",variant:"destructive"})}finally{w(!1)}},G=()=>{a(!1),l("request"),T.reset(),A.reset(),d(""),h("")};return s?i.jsxs("div",{className:"min-h-screen flex",children:[i.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8",children:i.jsxs("div",{className:"w-full max-w-md",children:[i.jsxs(z,{variant:"ghost",size:"sm",onClick:G,className:"mb-4","data-testid":"button-back-to-login",children:[i.jsx(Hl,{className:"w-4 h-4 mr-2"}),"Volver al inicio de sesin"]}),i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("div",{className:"bg-blue-100 p-4 rounded-full w-fit mx-auto mb-4",children:i.jsx(ag,{className:"w-8 h-8 text-blue-600"})}),i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:o==="request"?"Recuperar Contrasea":"Nueva Contrasea"}),i.jsx("p",{className:"text-gray-600",children:o==="request"?"Elige cmo quieres recuperar tu contrasea. Te enviaremos un token de recuperacin.":"Ingresa tu nueva contrasea usando el token que recibiste"})]}),o==="request"?i.jsx(te,{children:i.jsx(ie,{className:"space-y-6 pt-6",children:i.jsxs("form",{onSubmit:T.handleSubmit(O),className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx(Fe,{htmlFor:"reset-method",className:"text-base font-medium",children:"Mtodo de Recuperacin"}),i.jsxs("div",{className:"grid grid-cols-3 gap-3 mt-3",children:[i.jsxs(z,{type:"button",variant:f==="email"?"default":"outline",className:`flex flex-col items-center gap-2 h-auto py-4 ${f==="email"?"bg-boom-yellow text-black hover:bg-boom-yellow/90":"hover:bg-gray-50"}`,onClick:()=>{g("email"),T.setValue("method","email")},"data-testid":"button-method-email",children:[i.jsx(Cs,{className:"w-5 h-5"}),i.jsx("span",{className:"text-sm font-medium",children:"Email"})]}),i.jsxs(z,{type:"button",variant:f==="phone"?"default":"outline",className:`flex flex-col items-center gap-2 h-auto py-4 ${f==="phone"?"bg-boom-yellow text-black hover:bg-boom-yellow/90":"hover:bg-gray-50"}`,onClick:()=>{g("phone"),T.setValue("method","phone")},"data-testid":"button-method-phone",children:[i.jsx(Yy,{className:"w-5 h-5"}),i.jsx("span",{className:"text-sm font-medium",children:"SMS"})]}),i.jsxs(z,{type:"button",variant:f==="username"?"default":"outline",className:`flex flex-col items-center gap-2 h-auto py-4 ${f==="username"?"bg-boom-yellow text-black hover:bg-boom-yellow/90":"hover:bg-gray-50"}`,onClick:()=>{g("username"),T.setValue("method","username")},"data-testid":"button-method-username",children:[i.jsx(Ql,{className:"w-5 h-5"}),i.jsx("span",{className:"text-sm font-medium",children:"Usuario"})]})]})]}),i.jsxs("div",{children:[i.jsx(Fe,{htmlFor:"reset-identifier",children:f==="email"?"Correo Electrnico":f==="phone"?"Nmero de Telfono":"Nombre de Usuario"}),i.jsx(pe,{id:"reset-identifier",type:f==="email"?"email":f==="phone"?"tel":"text",...T.register("identifier"),placeholder:f==="email"?"tu@email.com":f==="phone"?"+52 55 1234 5678":"admin",className:"text-base","data-testid":"input-reset-identifier"}),T.formState.errors.identifier&&i.jsx("p",{className:"text-sm text-red-600 mt-1",children:T.formState.errors.identifier.message})]}),i.jsxs(Sx,{className:"bg-blue-50 border-blue-200",children:[i.jsx(Wl,{className:"w-4 h-4 text-blue-600"}),i.jsxs(Cx,{className:"text-blue-700",children:[i.jsx("strong",{children:f==="email"?" Te enviaremos un email":f==="phone"?" Te enviaremos un SMS":" Generaremos un token"}),i.jsx("br",{}),f==="email"?"Revisa tu bandeja de entrada y spam":f==="phone"?"Asegrate de que tu telfono pueda recibir SMS":"Te enviaremos un token por email asociado al usuario"]})]},"info-alert"),i.jsx(z,{type:"submit",className:"w-full bg-boom-yellow text-black hover:bg-boom-yellow/90",disabled:j,"data-testid":"button-request-reset",children:j?i.jsxs(i.Fragment,{children:[i.jsx(ef,{className:"mr-2 h-4 w-4 animate-spin"}),"Enviando..."]}):i.jsxs(i.Fragment,{children:[f==="email"?i.jsx(Cs,{className:"mr-2 h-4 w-4"}):f==="phone"?i.jsx(Yy,{className:"mr-2 h-4 w-4"}):i.jsx(ag,{className:"mr-2 h-4 w-4"}),"Enviar Token de Recuperacin"]})})]})})},"reset-request-card"):i.jsxs("div",{className:"space-y-6",children:[i.jsxs(Sx,{className:"bg-blue-50 border-blue-200",children:[i.jsx(Wl,{className:"w-4 h-4 text-blue-600"}),i.jsxs(Cx,{className:"text-blue-700",children:[i.jsx("strong",{children:"Token de Recuperacin:"}),i.jsx("br",{}),"Revisa tu ",f==="email"?"correo electrnico":f==="phone"?"SMS":"email asociado al usuario"," para obtener el token de recuperacin.",i.jsx("br",{}),"El token expira en 24 horas por seguridad.",i.jsx("div",{className:"mt-3",children:i.jsx(z,{type:"button",variant:"outline",size:"sm",onClick:async()=>{const L={identifier:u,method:f};m(!0);try{const R=await fetch("/api/password-reset/request",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(L)}),I=await R.json();if(!R.ok)throw new Error(I.error||"Error al reenviar token");y({title:"Token Reenviado",description:`Token reenviado a: ${I.sentTo}`})}catch(R){y({title:"Error",description:R.message||"Error al reenviar token",variant:"destructive"})}finally{m(!1)}},disabled:j,className:"text-blue-600 border-blue-200 hover:bg-blue-50","data-testid":"button-resend-token",children:j?i.jsxs(i.Fragment,{children:[i.jsx(ef,{className:"mr-2 h-3 w-3 animate-spin"}),"Reenviando..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Cs,{className:"mr-2 h-3 w-3"}),"Reenviar Token"]})})})]})]},"security-info-alert"),i.jsx(te,{children:i.jsx(ie,{className:"space-y-4 pt-6",children:i.jsxs("form",{onSubmit:A.handleSubmit(M),className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Fe,{htmlFor:"confirm-identifier",children:f==="email"?"Correo Electrnico":f==="phone"?"Nmero de Telfono":"Nombre de Usuario"}),i.jsx(pe,{id:"confirm-identifier",type:"text",...A.register("identifier"),readOnly:!0,className:"bg-gray-50","data-testid":"input-confirm-identifier"})]}),i.jsxs("div",{children:[i.jsx(Fe,{htmlFor:"reset-token",children:"Token de Recuperacin"}),i.jsx(pe,{id:"reset-token",type:"text",...A.register("resetToken"),placeholder:"Pega aqu el token de recuperacin",className:"font-mono text-sm","data-testid":"input-reset-token"}),A.formState.errors.resetToken&&i.jsx("p",{className:"text-sm text-red-600",children:A.formState.errors.resetToken.message})]}),i.jsxs("div",{children:[i.jsx(Fe,{htmlFor:"new-password",children:"Nueva Contrasea"}),i.jsx(pe,{id:"new-password",type:"password",...A.register("newPassword"),placeholder:"Mnimo 8 caracteres","data-testid":"input-new-password"}),A.formState.errors.newPassword&&i.jsx("p",{className:"text-sm text-red-600",children:A.formState.errors.newPassword.message})]}),i.jsxs("div",{children:[i.jsx(Fe,{htmlFor:"confirm-new-password",children:"Confirmar Nueva Contrasea"}),i.jsx(pe,{id:"confirm-new-password",type:"password",...A.register("confirmPassword"),placeholder:"Repite la nueva contrasea","data-testid":"input-confirm-new-password"}),A.formState.errors.confirmPassword&&i.jsx("p",{className:"text-sm text-red-600",children:A.formState.errors.confirmPassword.message})]}),i.jsx(z,{type:"submit",className:"w-full bg-boom-yellow text-black hover:bg-boom-yellow/90",disabled:v,"data-testid":"button-confirm-reset",children:v?i.jsxs(i.Fragment,{children:[i.jsx(ef,{className:"mr-2 h-4 w-4 animate-spin"}),"Actualizando Contrasea..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Yh,{className:"mr-2 h-4 w-4"}),"Actualizar Contrasea"]})})]})})},"reset-confirm-card")]},"reset-confirm-container")]})}),i.jsx("div",{className:"hidden lg:flex lg:w-1/2 bg-gradient-to-br from-boom-red to-boom-yellow items-center justify-center p-8",children:i.jsxs("div",{className:"text-center text-white",children:[i.jsxs("div",{className:"relative bg-black/30 backdrop-blur-sm rounded-2xl p-6 mb-6 mx-auto w-fit border border-slate-300/30 shadow-2xl",children:[i.jsx("img",{src:XV,alt:"Seguridad Digital",className:"h-40 w-40 mx-auto rounded-xl object-cover shadow-lg border border-slate-400/60 relative z-10"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-slate-600/20 to-slate-800/20 rounded-2xl"})]}),i.jsx("h2",{className:"text-4xl font-bold mb-4",children:"Seguridad Empresarial"}),i.jsxs("p",{className:"text-lg opacity-90 leading-relaxed",children:["Protocolos de seguridad avanzados para la recuperacin de acceso.",i.jsx("br",{}),"Autenticacin certificada y encriptacin de nivel empresarial."]})]})})]}):i.jsxs("div",{className:"min-h-screen flex",children:[i.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8",children:i.jsxs("div",{className:"w-full max-w-md",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("img",{src:B0,alt:"MercadoBoom",className:"h-16 mx-auto mb-4"}),i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Bienvenido a MercadoBoom"}),i.jsx("p",{className:"text-gray-600",children:"Ingresa a tu cuenta o crea una nueva"})]}),i.jsxs(y9,{defaultValue:"login",className:"w-full",children:[i.jsxs(cR,{className:"grid w-full grid-cols-2",children:[i.jsx(mx,{value:"login",children:"Iniciar Sesin"}),i.jsx(mx,{value:"register",children:"Registrarse"})]}),i.jsx(gx,{value:"login",children:i.jsxs(te,{children:[i.jsxs(He,{children:[i.jsx(We,{children:"Iniciar Sesin"}),i.jsx(Yl,{children:"Ingresa tus credenciales para acceder a tu cuenta"})]}),i.jsx(ie,{className:"space-y-4",children:i.jsxs("form",{onSubmit:x.handleSubmit(E),className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Fe,{htmlFor:"login-username",children:"Usuario"}),i.jsx(pe,{id:"login-username",type:"text",...x.register("username"),className:"focus:ring-boom-yellow focus:border-boom-yellow"}),x.formState.errors.username&&i.jsx("p",{className:"text-sm text-red-600",children:x.formState.errors.username.message})]}),i.jsxs("div",{children:[i.jsx(Fe,{htmlFor:"login-password",children:"Contrasea"}),i.jsx(pe,{id:"login-password",type:"password",...x.register("password"),className:"focus:ring-boom-yellow focus:border-boom-yellow"}),x.formState.errors.password&&i.jsx("p",{className:"text-sm text-red-600",children:x.formState.errors.password.message})]}),i.jsx(z,{type:"submit",className:"w-full bg-boom-yellow text-black hover:bg-boom-yellow/90",disabled:r.isPending,children:r.isPending?"Iniciando...":"Iniciar Sesin"}),i.jsx("div",{className:"text-center mt-4",children:i.jsxs(z,{type:"button",variant:"link",onClick:()=>a(!0),className:"text-sm text-boom-red hover:text-boom-red/80","data-testid":"button-forgot-password",children:[i.jsx(ag,{className:"w-4 h-4 mr-2"}),"Olvidaste tu contrasea?"]})})]})})]})}),i.jsx(gx,{value:"register",children:i.jsxs(te,{children:[i.jsxs(He,{children:[i.jsx(We,{children:"Crear Cuenta"}),i.jsx(Yl,{children:"Crea tu cuenta para comenzar a comprar"})]}),i.jsx(ie,{className:"space-y-4",children:i.jsxs("form",{onSubmit:b.handleSubmit(k),className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Fe,{htmlFor:"register-username",children:"Usuario"}),i.jsx(pe,{id:"register-username",type:"text",...b.register("username"),className:"focus:ring-boom-yellow focus:border-boom-yellow"}),b.formState.errors.username&&i.jsx("p",{className:"text-sm text-red-600",children:b.formState.errors.username.message})]}),i.jsxs("div",{children:[i.jsx(Fe,{htmlFor:"register-email",children:"Email"}),i.jsx(pe,{id:"register-email",type:"email",...b.register("email"),className:"focus:ring-boom-yellow focus:border-boom-yellow"}),b.formState.errors.email&&i.jsx("p",{className:"text-sm text-red-600",children:b.formState.errors.email.message})]}),i.jsxs("div",{children:[i.jsx(Fe,{htmlFor:"register-fullName",children:"Nombre Completo"}),i.jsx(pe,{id:"register-fullName",type:"text",...b.register("fullName"),className:"focus:ring-boom-yellow focus:border-boom-yellow"}),b.formState.errors.fullName&&i.jsx("p",{className:"text-sm text-red-600",children:b.formState.errors.fullName.message})]}),i.jsxs("div",{children:[i.jsx(Fe,{htmlFor:"register-phone",children:"Telfono"}),i.jsx(pe,{id:"register-phone",type:"tel",...b.register("phone"),className:"focus:ring-boom-yellow focus:border-boom-yellow"}),b.formState.errors.phone&&i.jsx("p",{className:"text-sm text-red-600",children:b.formState.errors.phone.message})]}),i.jsxs("div",{children:[i.jsx(Fe,{htmlFor:"register-password",children:"Contrasea"}),i.jsx(pe,{id:"register-password",type:"password",...b.register("password"),className:"focus:ring-boom-yellow focus:border-boom-yellow"}),b.formState.errors.password&&i.jsx("p",{className:"text-sm text-red-600",children:b.formState.errors.password.message})]}),i.jsxs("div",{children:[i.jsx(Fe,{htmlFor:"register-confirmPassword",children:"Confirmar Contrasea"}),i.jsx(pe,{id:"register-confirmPassword",type:"password",...b.register("confirmPassword"),className:"focus:ring-boom-yellow focus:border-boom-yellow"}),b.formState.errors.confirmPassword&&i.jsx("p",{className:"text-sm text-red-600",children:b.formState.errors.confirmPassword.message})]}),i.jsx(z,{type:"submit",className:"w-full bg-boom-red text-white hover:bg-boom-red/90",disabled:n.isPending,children:n.isPending?"Creando cuenta...":"Crear Cuenta"})]})})]})})]})]})}),i.jsx("div",{className:"hidden lg:flex w-1/2 bg-gradient-to-br from-boom-red to-boom-light-red items-center justify-center p-8",children:i.jsxs("div",{className:"text-center text-white",children:[i.jsx("div",{className:"boom-explosion w-32 h-32 mx-auto mb-8 flex items-center justify-center",children:i.jsx("span",{className:"text-black font-black text-2xl",children:"BOOM!"})}),i.jsx("h2",{className:"text-4xl font-black mb-4",children:"Compras Explosivas!"}),i.jsx("p",{className:"text-xl mb-6",children:"nete a miles de usuarios que ya disfrutan de la experiencia de compra ms rpida de Mxico"}),i.jsxs("div",{className:"space-y-2 text-lg",children:[i.jsx("p",{children:" Productos al mayoreo"}),i.jsx("p",{children:" Compra instantnea"}),i.jsx("p",{children:" Envo en 24-48hrs"}),i.jsx("p",{children:" Compra segura"})]})]})})]})}function sq(){const[,t]=x3("/producto/:id"),[,e]=os(),{user:r}=Cn(),{toast:n}=cr(),{addToCart:s}=po(),[a,o]=p.useState(0),[l,c]=p.useState(!1),{data:d,isLoading:u}=nt({queryKey:["/api/products",t==null?void 0:t.id],queryFn:async()=>{const v=await fetch(`/api/products/${t==null?void 0:t.id}`);if(!v.ok)throw new Error("Producto no encontrado");return v.json()},enabled:!!(t!=null&&t.id)});if(u)return i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsx(Zi,{}),i.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[i.jsx(qn,{className:"h-8 w-32 mb-6"}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[i.jsx(qn,{className:"h-96 w-full"}),i.jsxs("div",{className:"space-y-4",children:[i.jsx(qn,{className:"h-10 w-3/4"}),i.jsx(qn,{className:"h-6 w-1/4"}),i.jsx(qn,{className:"h-20 w-full"}),i.jsx(qn,{className:"h-12 w-full"})]})]})]})]});if(!d)return i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsx(Zi,{}),i.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8 text-center",children:[i.jsx(Zr,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),i.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Producto no encontrado"}),i.jsxs(z,{onClick:()=>e("/"),variant:"outline",children:[i.jsx(Hl,{className:"w-4 h-4 mr-2"}),"Volver al inicio"]})]})]});const h=[d.imageUrl,...d.images||[]].filter(Boolean),f=()=>{if(d.isAffiliate&&d.affiliateUrl){window.open(d.affiliateUrl,"_blank","noopener,noreferrer"),n({title:"Redirigiendo...",description:`Te hemos enviado a ${d.affiliateStore||"la tienda externa"}`});return}if(!r){n({title:"Inicia Sesin",description:"Debes iniciar sesin para realizar una compra",variant:"destructive"}),e("/auth");return}c(!0)},g=()=>{if(d.isAffiliate&&d.affiliateUrl){window.open(d.affiliateUrl,"_blank","noopener,noreferrer"),n({title:"Redirigiendo...",description:`Te hemos enviado a ${d.affiliateStore||"la tienda externa"}`});return}s(d,1),n({title:"Producto agregado!",description:`${d.name} se agreg al carrito`})},j=v=>`$${Number(v).toLocaleString()}`,m=()=>{if(!d.stock&&!d.isAffiliate)return i.jsx(_e,{className:"bg-gray-500 text-white",children:"AGOTADO"});if(d.isAffiliate)return i.jsx(_e,{className:"bg-blue-600 text-white",children:"EXTERNO"});if(d.isImported)return i.jsx(_e,{className:"bg-amber-600 text-white",children:"IMPORTACIN"});if(d.promotionType){const w={BOOM:{text:"Promocin BOOM",className:"bg-boom-red text-white"},OFERTA:{text:"En Oferta",className:"bg-orange-500 text-white"},RELAMPAGO:{text:"Promocin Relmpago",className:"bg-purple-600 text-white"},NUEVO:{text:"Nuevo",className:"bg-green-600 text-white"}}[d.promotionType];if(w)return i.jsx(_e,{className:w.className,children:w.text})}return null};return i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsx(Zi,{}),i.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[i.jsxs(z,{variant:"ghost",onClick:()=>e("/"),className:"mb-6","data-testid":"button-back",children:[i.jsx(Hl,{className:"w-4 h-4 mr-2"}),"Volver"]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsx(te,{className:"overflow-hidden",children:i.jsx("img",{src:h[a]||"/placeholder.jpg",alt:d.name,className:"w-full h-96 object-cover","data-testid":"img-product-main"})}),h.length>1&&i.jsx("div",{className:"grid grid-cols-4 gap-2",children:h.map((v,w)=>i.jsx(te,{className:`overflow-hidden cursor-pointer transition-all ${a===w?"ring-2 ring-boom-red":"opacity-70 hover:opacity-100"}`,onClick:()=>o(w),"data-testid":`img-thumbnail-${w}`,children:i.jsx("img",{src:v,alt:`${d.name} - imagen ${w+1}`,className:"w-full h-20 object-cover"})},w))})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[m(),d.promotionType==="BOOM"&&i.jsxs("div",{className:"flex items-center text-boom-red",children:[i.jsx(Qo,{className:"w-4 h-4 mr-1"}),i.jsx("span",{className:"text-sm font-bold",children:"BOOM DEAL"})]})]}),i.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2","data-testid":"text-product-name",children:d.name}),i.jsx("p",{className:"text-4xl font-bold text-green-600 mb-4","data-testid":"text-product-price",children:j(d.price)})]}),d.isImported&&i.jsx(te,{className:"bg-amber-50 border-amber-200",children:i.jsxs(ie,{className:"p-4",children:[i.jsxs("div",{className:"flex items-center gap-2 text-amber-700 mb-2",children:[i.jsx(mn,{className:"w-4 h-4"}),i.jsx("span",{className:"font-medium",children:"Producto de Importacin"})]}),i.jsx("p",{className:"text-sm text-amber-600",children:d.importDescription||"Este producto se importa especialmente para ti"}),i.jsxs("p",{className:"text-sm text-amber-700 font-medium mt-2",children:["Entrega estimada: ",d.importDeliveryDays||15," das hbiles"]})]})}),d.isAffiliate&&d.affiliateStore&&i.jsx(te,{className:"bg-blue-50 border-blue-200",children:i.jsxs(ie,{className:"p-4",children:[i.jsxs("div",{className:"flex items-center gap-2 text-blue-700",children:[i.jsx(Wa,{className:"w-4 h-4"}),i.jsx("span",{className:"font-medium",children:"Producto Externo"})]}),i.jsxs("p",{className:"text-sm text-blue-600 mt-2",children:["Disponible en: ",d.affiliateStore]})]})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Descripcin"}),i.jsx("p",{className:"text-gray-600 leading-relaxed","data-testid":"text-product-description",children:d.description})]}),!d.isAffiliate&&i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Disponibilidad"}),i.jsx("p",{className:`text-sm font-medium ${d.stock?"text-green-600":"text-red-600"}`,children:d.stock?" En stock":" Agotado"})]}),i.jsxs("div",{className:"space-y-3 pt-4",children:[i.jsx(z,{onClick:f,disabled:!d.stock&&!d.isAffiliate,className:"w-full bg-boom-red hover:bg-red-700 text-white py-6 text-lg","data-testid":"button-buy-now",children:d.isAffiliate?i.jsxs(i.Fragment,{children:[i.jsx(Wa,{className:"w-5 h-5 mr-2"}),"Comprar en ",d.affiliateStore]}):i.jsx(i.Fragment,{children:"Comprar Ahora"})}),!d.isAffiliate&&d.stock&&i.jsxs(z,{onClick:g,variant:"outline",className:"w-full py-6 text-lg","data-testid":"button-add-to-cart",children:[i.jsx(ro,{className:"w-5 h-5 mr-2"}),"Agregar al Carrito"]})]})]})]})]}),i.jsx(yc,{}),l&&i.jsx(ym,{product:d,isOpen:l,onClose:()=>c(!1)})]})}function iq({status:t}){const e=[{key:"PAGADO",label:"Pagado",icon:c0},{key:"EN_PREPARACION",label:"En Preparacin",icon:Zr},{key:"ENVIADO",label:"Enviado",icon:tm},{key:"ENTREGADO",label:"Entregado",icon:a6}],n=(a=>e.findIndex(o=>o.key===a))(t),s=a=>a<=n;return i.jsxs("div",{className:"mb-4",children:[i.jsxs("div",{className:"hidden md:block",children:[i.jsx("div",{className:"flex items-center space-x-4",children:e.map((a,o)=>{const l=a.icon,c=s(o);return i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-white text-sm font-bold ${c?"tracking-step-active":"bg-gray-300"}`,children:i.jsx(l,{className:"w-4 h-4"})}),o<e.length-1&&i.jsx("div",{className:`flex-1 h-1 mx-2 w-16 ${s(o+1)?"bg-boom-yellow":"bg-gray-300"}`})]},a.key)})}),i.jsx("div",{className:"flex justify-between text-sm text-gray-600 mt-2",children:e.map(a=>i.jsx("span",{className:"text-center w-20",children:a.label},a.key))})]}),i.jsx("div",{className:"md:hidden space-y-3",children:e.map((a,o)=>{const l=a.icon,c=s(o);return i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-white text-sm font-bold ${c?"tracking-step-active":"bg-gray-300"}`,children:i.jsx(l,{className:"w-4 h-4"})}),i.jsx("span",{className:`font-medium ${c?"text-gray-900":"text-gray-500"}`,children:a.label}),c&&o===n&&i.jsx("span",{className:"text-sm text-boom-red font-semibold",children:"Actual"})]},a.key)})})]})}const Yr=p.forwardRef(({className:t,...e},r)=>i.jsx("textarea",{className:me("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...e}));Yr.displayName="Textarea";function aq({order:t}){const{toast:e}=cr(),r=(o,l)=>{navigator.clipboard.writeText(o),e({title:"Copiado",description:`${l} copiado al portapapeles`})},s=(()=>{switch(t.paymentStatus){case"pending":return{icon:i.jsx(mn,{className:"w-5 h-5 text-yellow-600"}),badge:i.jsx(_e,{className:"bg-yellow-100 text-yellow-800",children:"Esperando Transferencia"}),title:"Datos para Transferencia",description:"Realiza tu transferencia con los siguientes datos:"};case"pending_verification":return{icon:i.jsx(Jh,{className:"w-5 h-5 text-blue-600"}),badge:i.jsx(_e,{className:"bg-blue-100 text-blue-800",children:"En Verificacin"}),title:"Comprobante Recibido",description:"Tu comprobante est siendo verificado. Te notificaremos pronto."};case"verified":return{icon:i.jsx(ni,{className:"w-5 h-5 text-green-600"}),badge:i.jsx(_e,{className:"bg-green-100 text-green-800",children:"Pago Verificado"}),title:"Pago Confirmado!",description:"Tu transferencia ha sido verificada exitosamente."};case"rejected":return{icon:i.jsx(zf,{className:"w-5 h-5 text-red-600"}),badge:i.jsx(_e,{variant:"destructive",children:"Pago Rechazado"}),title:"Transferencia Rechazada",description:"Hubo un problema con tu transferencia. Contacta soporte."};default:return{icon:i.jsx(u0,{className:"w-5 h-5 text-gray-600"}),badge:i.jsx(_e,{variant:"outline",children:"Estado Desconocido"}),title:"Estado Desconocido",description:"El estado del pago no est definido."}}})(),a={clabe:"012180004799747847",bank:"BBVA Mxico",holder:"MercadoBoom SA de CV",reference:t.orderNumber,amount:t.totalAmount};return i.jsxs(te,{className:"border-l-4 border-l-green-500",children:[i.jsxs(He,{className:"pb-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(We,{className:"flex items-center gap-2",children:[s.icon,s.title]}),s.badge]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:s.description})]}),i.jsxs(ie,{className:"space-y-4",children:[(t.paymentStatus==="pending"||t.paymentStatus==="pending_verification")&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[i.jsxs("h4",{className:"font-semibold text-green-800 mb-3 flex items-center gap-2",children:[i.jsx(Od,{className:"w-4 h-4"}),"Datos Bancarios BBVA"]}),i.jsxs("div",{className:"space-y-3 text-sm",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-green-700",children:"CLABE:"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"font-mono font-semibold",children:a.clabe}),i.jsx(z,{variant:"ghost",size:"sm",onClick:()=>r(a.clabe,"CLABE"),className:"h-6 w-6 p-0",children:i.jsx(ig,{className:"w-3 h-3"})})]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-green-700",children:"Banco:"}),i.jsx("span",{className:"font-medium",children:a.bank})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-green-700",children:"Beneficiario:"}),i.jsx("span",{className:"font-medium",children:a.holder})]}),i.jsx(Q0,{className:"bg-green-200"}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-green-700",children:"Referencia:"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"font-mono font-semibold text-green-800",children:a.reference}),i.jsx(z,{variant:"ghost",size:"sm",onClick:()=>r(a.reference,"Referencia"),className:"h-6 w-6 p-0",children:i.jsx(ig,{className:"w-3 h-3"})})]})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-green-700",children:"Monto a transferir:"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("span",{className:"font-bold text-lg text-green-800",children:["$",parseFloat(a.amount).toLocaleString("es-MX",{minimumFractionDigits:2})," MXN"]}),i.jsx(z,{variant:"ghost",size:"sm",onClick:()=>r(a.amount,"Monto"),className:"h-6 w-6 p-0",children:i.jsx(ig,{className:"w-3 h-3"})})]})]})]})]}),i.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[i.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:"Instrucciones:"}),i.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[i.jsx("li",{children:" Realiza la transferencia usando la CLABE interbancaria"}),i.jsxs("li",{children:[" Usa exactamente la referencia: ",i.jsx("strong",{children:a.reference})]}),i.jsxs("li",{children:[" Transfiere el monto exacto: ",i.jsxs("strong",{children:["$",parseFloat(a.amount).toLocaleString("es-MX")," MXN"]})]}),i.jsxs("li",{children:[" Enva el comprobante por WhatsApp: ",i.jsx("strong",{children:"+52 55 1256 2704"})]}),i.jsxs("li",{children:[" O enva por email: ",i.jsx("strong",{children:"ventas@mercadoboom.com"})]})]})]})]}),t.paymentStatus==="verified"&&i.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[i.jsx("h4",{className:"font-semibold text-green-800 mb-2",children:" Pago Confirmado"}),i.jsx("p",{className:"text-sm text-green-700",children:"Tu transferencia ha sido verificada exitosamente. Tu pedido ser procesado y enviado en las prximas 24-48 horas."}),t.transferNotes&&i.jsxs("div",{className:"mt-2 p-2 bg-green-100 rounded text-xs text-green-600",children:[i.jsx("strong",{children:"Nota del administrador:"})," ",t.transferNotes]})]}),t.paymentStatus==="rejected"&&i.jsxs("div",{className:"bg-red-50 p-4 rounded-lg border border-red-200",children:[i.jsx("h4",{className:"font-semibold text-red-800 mb-2",children:" Transferencia Rechazada"}),i.jsx("p",{className:"text-sm text-red-700",children:"No pudimos verificar tu transferencia. Por favor contacta a ventas@mercadoboom.com o WhatsApp +52 55 1256 2704 para resolver este problema."}),t.transferNotes&&i.jsxs("div",{className:"mt-2 p-2 bg-red-100 rounded text-xs text-red-600",children:[i.jsx("strong",{children:"Motivo del rechazo:"})," ",t.transferNotes]})]}),t.discountApplied&&parseFloat(t.discountApplied)>0&&i.jsxs("div",{className:"text-sm text-gray-600 bg-gray-50 p-3 rounded-lg",children:[i.jsxs("p",{children:[i.jsx("strong",{children:" Ahorro obtenido:"})," $",parseFloat(t.discountApplied).toLocaleString("es-MX",{minimumFractionDigits:2})," MXN"]}),i.jsx("p",{children:"Gracias por elegir transferencia directa y evitar comisiones."})]})]})]})}var lb="Switch",[oq,lY]=Hr(lb),[lq,cq]=oq(lb),P5=p.forwardRef((t,e)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:d,form:u,...h}=t,[f,g]=p.useState(null),j=Ye(e,x=>g(x)),m=p.useRef(!1),v=f?u||!!f.closest("form"):!0,[w=!1,y]=ci({prop:s,defaultProp:a,onChange:d});return i.jsxs(lq,{scope:r,checked:w,disabled:l,children:[i.jsx(Te.button,{type:"button",role:"switch","aria-checked":w,"aria-required":o,"data-state":O5(w),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:j,onClick:re(t.onClick,x=>{y(b=>!b),v&&(m.current=x.isPropagationStopped(),m.current||x.stopPropagation())})}),v&&i.jsx(dq,{control:f,bubbles:!m.current,name:n,value:c,checked:w,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"}})]})});P5.displayName=lb;var A5="SwitchThumb",R5=p.forwardRef((t,e)=>{const{__scopeSwitch:r,...n}=t,s=cq(A5,r);return i.jsx(Te.span,{"data-state":O5(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:e})});R5.displayName=A5;var dq=t=>{const{control:e,checked:r,bubbles:n=!0,...s}=t,a=p.useRef(null),o=G0(r),l=b0(e);return p.useEffect(()=>{const c=a.current,d=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(d,"checked").set;if(o!==r&&h){const f=new Event("click",{bubbles:n});h.call(c,r),c.dispatchEvent(f)}},[o,r,n]),i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:a,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function O5(t){return t?"checked":"unchecked"}var F5=P5,uq=R5;const pn=p.forwardRef(({className:t,...e},r)=>i.jsx(F5,{className:me("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:r,children:i.jsx(uq,{className:me("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));pn.displayName=F5.displayName;function hq(){const{user:t}=Cn(),[e,r]=p.useState(!1),[n,s]=p.useState(!1),[a,o]=p.useState("email"),{toast:l}=cr(),c=async(d,u)=>{r(!0);try{const h=await Be("POST","/api/security/update-2fa",{enabled:d,method:u});if(h.ok){const f=await h.json();s(d),u&&o(u),l({title:"Configuracin Actualizada",description:f.message})}else{const f=await h.json();l({title:"Error",description:f.message,variant:"destructive"})}}catch{l({title:"Error",description:"Error al actualizar configuracin de seguridad",variant:"destructive"})}finally{r(!1)}};return i.jsxs(te,{children:[i.jsxs(He,{children:[i.jsxs(We,{className:"flex items-center gap-2",children:[i.jsx(Kl,{className:"h-5 w-5"}),"Configuracin de Seguridad"]}),i.jsx(Yl,{children:"Gestiona la verificacin en dos pasos para mayor seguridad"})]}),i.jsxs(ie,{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx(Fe,{className:"text-base",children:"Verificacin en Dos Pasos"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Requiere un cdigo adicional para acciones importantes"})]}),i.jsx(pn,{checked:n,onCheckedChange:d=>c(d,a),disabled:e,"data-testid":"switch-2fa"})]}),n&&i.jsxs("div",{className:"space-y-3",children:[i.jsx(Fe,{children:"Mtodo de Verificacin"}),i.jsxs(sr,{value:a,onValueChange:d=>{o(d),c(!0,d)},disabled:e,children:[i.jsx(Wt,{"data-testid":"select-2fa-method",children:i.jsx(ir,{})}),i.jsxs(Gt,{children:[i.jsx(fe,{value:"email",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Cs,{className:"h-4 w-4"}),"Solo Email"]})}),i.jsx(fe,{value:"sms",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(kc,{className:"h-4 w-4"}),"Solo SMS"]})}),i.jsx(fe,{value:"whatsapp",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(gn,{className:"h-4 w-4"}),"Solo WhatsApp"]})}),i.jsx(fe,{value:"email_sms",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Cs,{className:"h-4 w-4"}),i.jsx(kc,{className:"h-4 w-4"}),"Email y SMS"]})}),i.jsx(fe,{value:"email_whatsapp",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Cs,{className:"h-4 w-4"}),i.jsx(gn,{className:"h-4 w-4"}),"Email y WhatsApp"]})}),i.jsx(fe,{value:"sms_whatsapp",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(kc,{className:"h-4 w-4"}),i.jsx(gn,{className:"h-4 w-4"}),"SMS y WhatsApp"]})}),i.jsx(fe,{value:"all",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Cs,{className:"h-4 w-4"}),i.jsx(kc,{className:"h-4 w-4"}),i.jsx(gn,{className:"h-4 w-4"}),"Todos los canales"]})})]})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx(Fe,{children:"Estado de Verificacin de Contactos"}),i.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[i.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Cs,{className:"h-4 w-4 text-gray-600"}),i.jsxs("span",{className:"text-sm",children:["Email: ",t==null?void 0:t.email]})]}),i.jsxs(_e,{variant:"secondary",className:"bg-green-100 text-green-800",children:[i.jsx(Yh,{className:"h-3 w-3 mr-1"}),"Verificado"]})]}),(t==null?void 0:t.phone)&&i.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(kc,{className:"h-4 w-4 text-gray-600"}),i.jsxs("span",{className:"text-sm",children:["Telfono: ",t.phone]})]}),i.jsxs(_e,{variant:"secondary",className:"bg-green-100 text-green-800",children:[i.jsx(Yh,{className:"h-3 w-3 mr-1"}),"Verificado"]})]}),(t==null?void 0:t.phone)&&i.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(gn,{className:"h-4 w-4 text-gray-600"}),i.jsxs("span",{className:"text-sm",children:["WhatsApp: ",t.phone]})]}),i.jsxs(_e,{variant:"secondary",className:"bg-green-100 text-green-800",children:[i.jsx(Yh,{className:"h-3 w-3 mr-1"}),"Disponible"]})]})]})]}),i.jsx("div",{className:"p-4 bg-blue-50 rounded-lg",children:i.jsxs("div",{className:"flex gap-3",children:[i.jsx(u0,{className:"h-5 w-5 text-blue-600 flex-shrink-0 mt-0.5"}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("h4",{className:"text-sm font-medium text-blue-900",children:"Cundo se solicita verificacin?"}),i.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[i.jsx("li",{children:" Acceso al panel de administrador"}),i.jsx("li",{children:" Pedidos de gran valor"}),i.jsx("li",{children:" Cambios de perfil importantes"}),i.jsx("li",{children:" Modificacin de mtodos de pago"}),i.jsx("li",{children:" Verificacin por WhatsApp disponible"})]})]})]})})]})]})}function fq(){const{user:t}=Cn(),[e,r]=p.useState("profile"),[,n]=os(),{toast:s}=cr(),a=ls(),[o,l]=p.useState({fullName:(t==null?void 0:t.fullName)||"",email:(t==null?void 0:t.email)||"",username:(t==null?void 0:t.username)||"",phone:(t==null?void 0:t.phone)||""}),[c,d]=p.useState(!1),[u,h]=p.useState(null),[f,g]=p.useState({title:"",street:"",city:"",state:"",postalCode:"",country:"Mxico",isDefault:!1});p.useEffect(()=>{const R=new URLSearchParams(window.location.search),I=R.get("payment"),ae=R.get("order");if(I&&ae)switch(window.history.replaceState({},document.title,window.location.pathname),I){case"success":s({title:"Pago Exitoso!",description:`Tu pago ha sido procesado correctamente. Pedido: ${ae}`});break;case"failure":s({title:"Pago Fallido",description:`Hubo un problema con tu pago. Pedido: ${ae}`,variant:"destructive"});break;case"pending":s({title:"Pago Pendiente",description:`Tu pago est siendo procesado. Pedido: ${ae}`});break}},[s]);const{data:j=[]}=nt({queryKey:["/api/orders"]}),{data:m=[]}=nt({queryKey:["/api/addresses"]});p.useEffect(()=>{t&&l({fullName:t.fullName||"",email:t.email||"",username:t.username||"",phone:t.phone||""})},[t]);const v=rt({mutationFn:async R=>Be("PATCH","/api/user/profile",R),onSuccess:()=>{s({title:"Perfil actualizado",description:"Tus cambios han sido guardados exitosamente."}),a.invalidateQueries({queryKey:["/api/user"]})},onError:()=>{s({title:"Error",description:"No se pudieron guardar los cambios. Intntalo de nuevo.",variant:"destructive"})}}),w=rt({mutationFn:async R=>Be("POST","/api/addresses",R),onSuccess:()=>{s({title:"Direccin agregada",description:"La nueva direccin ha sido guardada."}),a.invalidateQueries({queryKey:["/api/addresses"]}),d(!1),b()},onError:()=>{s({title:"Error",description:"No se pudo agregar la direccin.",variant:"destructive"})}}),y=rt({mutationFn:async({id:R,data:I})=>Be("PATCH",`/api/addresses/${R}`,I),onSuccess:()=>{s({title:"Direccin actualizada",description:"Los cambios han sido guardados."}),a.invalidateQueries({queryKey:["/api/addresses"]}),d(!1),h(null),b()},onError:()=>{s({title:"Error",description:"No se pudo actualizar la direccin.",variant:"destructive"})}}),x=rt({mutationFn:async R=>Be("DELETE",`/api/addresses/${R}`),onSuccess:()=>{s({title:"Direccin eliminada",description:"La direccin ha sido eliminada."}),a.invalidateQueries({queryKey:["/api/addresses"]})},onError:()=>{s({title:"Error",description:"No se pudo eliminar la direccin.",variant:"destructive"})}}),b=()=>{g({title:"",street:"",city:"",state:"",postalCode:"",country:"Mxico",isDefault:!1})},E=R=>{h(R),g({title:R.title,street:R.street,city:R.city,state:R.state,postalCode:R.postalCode,country:R.country||"Mxico",isDefault:R.isDefault||!1}),d(!0)},k=R=>{window.confirm("Ests seguro de que quieres eliminar esta direccin?")&&x.mutate(R)},T=()=>{v.mutate(o)},A=()=>{u?y.mutate({id:u.id,data:f}):w.mutate(f)},O=()=>{n("/")};if(!t)return null;const M=R=>R.split(" ").map(I=>I[0]).join("").toUpperCase(),G=R=>{switch(R){case"ENTREGADO":return"bg-green-100 text-green-800";case"ENVIADO":return"bg-blue-100 text-blue-800";case"EN_PREPARACION":return"bg-yellow-100 text-yellow-800";case"PAGADO":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},L=R=>{switch(R){case"ENTREGADO":return"Entregado";case"ENVIADO":return"En Trnsito";case"EN_PREPARACION":return"En Preparacin";case"PAGADO":return"Pagado";default:return R}};return i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsx(Zi,{}),i.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8",children:i.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[i.jsx("div",{className:"lg:w-1/4",children:i.jsx(te,{children:i.jsxs(ie,{className:"p-6",children:[i.jsxs("div",{className:"text-center mb-6",children:[i.jsx(T0,{className:"w-20 h-20 mx-auto mb-4",children:i.jsx(k0,{className:"bg-boom-yellow text-black text-xl font-semibold",children:M(t.fullName)})}),i.jsx("h3",{className:"font-semibold text-lg",children:t.fullName}),i.jsx("p",{className:"text-gray-600",children:t.email})]}),i.jsxs("nav",{className:"space-y-2",children:[i.jsxs(z,{variant:e==="profile"?"default":"ghost",className:`w-full justify-start ${e==="profile"?"bg-boom-yellow text-black hover:bg-boom-yellow/90":""}`,onClick:()=>r("profile"),children:[i.jsx(Ql,{className:"mr-3 h-4 w-4"}),"Mi Perfil"]}),i.jsxs(z,{variant:e==="orders"?"default":"ghost",className:`w-full justify-start ${e==="orders"?"bg-boom-yellow text-black hover:bg-boom-yellow/90":""}`,onClick:()=>r("orders"),children:[i.jsx(Zr,{className:"mr-3 h-4 w-4"}),"Mis Pedidos"]}),i.jsxs(z,{variant:e==="addresses"?"default":"ghost",className:`w-full justify-start ${e==="addresses"?"bg-boom-yellow text-black hover:bg-boom-yellow/90":""}`,onClick:()=>r("addresses"),children:[i.jsx(Gl,{className:"mr-3 h-4 w-4"}),"Direcciones"]}),i.jsxs(z,{variant:e==="support"?"default":"ghost",className:`w-full justify-start ${e==="support"?"bg-boom-yellow text-black hover:bg-boom-yellow/90":""}`,onClick:()=>n("/support"),"data-testid":"button-support",children:[i.jsx(gn,{className:"mr-3 h-4 w-4"}),"Centro de Soporte"]}),i.jsxs(z,{variant:e==="security"?"default":"ghost",className:`w-full justify-start ${e==="security"?"bg-boom-yellow text-black hover:bg-boom-yellow/90":""}`,onClick:()=>r("security"),children:[i.jsx(Kl,{className:"mr-3 h-4 w-4"}),"Seguridad"]})]})]})})}),i.jsxs("div",{className:"lg:w-3/4",children:[e==="profile"&&i.jsxs(te,{children:[i.jsx(He,{children:i.jsx(We,{children:"Mi Perfil"})}),i.jsxs(ie,{children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx(Fe,{htmlFor:"fullName",children:"Nombre Completo"}),i.jsx(pe,{id:"fullName",value:o.fullName,onChange:R=>l(I=>({...I,fullName:R.target.value})),className:"focus:ring-boom-yellow focus:border-boom-yellow","data-testid":"input-fullname"})]}),i.jsxs("div",{children:[i.jsx(Fe,{htmlFor:"email",children:"Email"}),i.jsx(pe,{id:"email",type:"email",value:o.email,onChange:R=>l(I=>({...I,email:R.target.value})),className:"focus:ring-boom-yellow focus:border-boom-yellow","data-testid":"input-email"})]}),i.jsxs("div",{children:[i.jsx(Fe,{htmlFor:"username",children:"Usuario"}),i.jsx(pe,{id:"username",value:o.username,onChange:R=>l(I=>({...I,username:R.target.value})),className:"focus:ring-boom-yellow focus:border-boom-yellow","data-testid":"input-username"})]}),i.jsxs("div",{children:[i.jsx(Fe,{htmlFor:"phone",children:"Telfono"}),i.jsx(pe,{id:"phone",type:"tel",value:o.phone,onChange:R=>l(I=>({...I,phone:R.target.value})),className:"focus:ring-boom-yellow focus:border-boom-yellow","data-testid":"input-phone"})]})]}),i.jsx(z,{className:"mt-6 bg-boom-red text-white hover:bg-boom-red/90",onClick:T,disabled:v.isPending,"data-testid":"button-save-profile",children:v.isPending?"Guardando...":"Guardar Cambios"})]})]}),e==="orders"&&i.jsxs(te,{children:[i.jsx(He,{children:i.jsx(We,{children:"Mis Pedidos"})}),i.jsx(ie,{children:j.length===0?i.jsxs("div",{className:"text-center py-8",children:[i.jsx(Zr,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),i.jsx("p",{className:"text-gray-500",children:"No tienes pedidos an"}),i.jsxs(z,{className:"mt-4 bg-boom-yellow text-black hover:bg-boom-yellow/90",onClick:O,"data-testid":"button-go-to-store",children:[i.jsx(y6,{className:"mr-2 h-4 w-4"}),"Ir a la tienda"]})]}):i.jsx("div",{className:"space-y-6",children:j.map(R=>i.jsxs("div",{className:"border-b border-gray-200 pb-6 last:border-b-0",children:[i.jsxs("div",{className:"flex justify-between items-start mb-4",children:[i.jsxs("div",{children:[i.jsxs("h3",{className:"font-semibold text-lg",children:["Pedido ",R.orderNumber]}),i.jsxs("p",{className:"text-gray-600",children:["Realizado el ",R.createdAt?new Date(R.createdAt).toLocaleDateString("es-MX"):"N/A"]})]}),i.jsx(_e,{className:G(R.status),children:L(R.status)})]}),i.jsx(iq,{status:R.status}),R.paymentType==="direct_transfer"&&i.jsx("div",{className:"mt-4",children:i.jsx(aq,{order:R})}),i.jsxs("div",{className:"mt-4 flex items-center space-x-4",children:[i.jsx("img",{src:R.product.imageUrl||"/placeholder.jpg",alt:R.product.name,className:"w-16 h-16 object-cover rounded-lg"}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium",children:R.product.name}),i.jsxs("p",{className:"text-gray-600",children:["$",R.totalAmount]}),R.paymentType==="direct_transfer"&&R.discountApplied&&parseFloat(R.discountApplied)>0&&i.jsxs("p",{className:"text-sm text-green-600",children:["Ahorro: $",parseFloat(R.discountApplied).toLocaleString("es-MX",{minimumFractionDigits:2})," MXN"]})]})]})]},R.id))})})]}),e==="security"&&i.jsx(hq,{}),e==="addresses"&&i.jsxs(te,{children:[i.jsx(He,{children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx(We,{children:"Mis Direcciones"}),i.jsxs(z,{className:"bg-boom-yellow text-black hover:bg-boom-yellow/90",onClick:()=>d(!0),"data-testid":"button-add-address",children:[i.jsx(jn,{className:"mr-2 h-4 w-4"}),"Agregar Direccin"]})]})}),i.jsx(ie,{children:m.length===0?i.jsxs("div",{className:"text-center py-8",children:[i.jsx(Gl,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),i.jsx("p",{className:"text-gray-500",children:"No tienes direcciones guardadas"}),i.jsxs(z,{className:"mt-4 bg-boom-yellow text-black hover:bg-boom-yellow/90",onClick:()=>d(!0),"data-testid":"button-add-first-address",children:[i.jsx(jn,{className:"mr-2 h-4 w-4"}),"Agregar primera direccin"]})]}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:m.map(R=>i.jsx(te,{className:"relative",children:i.jsxs(ie,{className:"p-4",children:[R.isDefault&&i.jsx(_e,{className:"absolute top-2 right-2 bg-boom-red text-white",children:"Principal"}),i.jsx("h3",{className:"font-semibold mb-2",children:R.title}),i.jsxs("p",{className:"text-gray-600 text-sm",children:[R.street,i.jsx("br",{}),R.city,", ",R.state,i.jsx("br",{}),"C.P. ",R.postalCode,i.jsx("br",{}),R.country]}),i.jsxs("div",{className:"mt-4 flex space-x-2",children:[i.jsxs(z,{size:"sm",variant:"outline",className:"text-boom-red hover:text-boom-red",onClick:()=>E(R),"data-testid":`button-edit-address-${R.id}`,children:[i.jsx(Fd,{className:"mr-1 h-3 w-3"}),"Editar"]}),i.jsxs(z,{size:"sm",variant:"outline",className:"text-gray-500 hover:text-gray-700",onClick:()=>k(R.id),disabled:x.isPending,"data-testid":`button-delete-address-${R.id}`,children:[i.jsx(em,{className:"mr-1 h-3 w-3"}),"Eliminar"]})]})]})},R.id))})})]})]})]})}),i.jsx(yc,{}),i.jsx($r,{open:c,onOpenChange:d,children:i.jsxs(Er,{className:"sm:max-w-[425px]",children:[i.jsx(Tr,{children:i.jsx(kr,{children:u?"Editar Direccin":"Agregar Nueva Direccin"})}),i.jsxs("div",{className:"grid gap-4 py-4",children:[i.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[i.jsx(Fe,{htmlFor:"title",children:"Nombre de la direccin"}),i.jsx(pe,{id:"title",placeholder:"Casa, Trabajo, etc.",value:f.title,onChange:R=>g(I=>({...I,title:R.target.value})),"data-testid":"input-address-title"})]}),i.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[i.jsx(Fe,{htmlFor:"street",children:"Calle y nmero"}),i.jsx(Yr,{id:"street",placeholder:"Av. Principal #123, Col. Centro",value:f.street,onChange:R=>g(I=>({...I,street:R.target.value})),"data-testid":"input-address-street"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(Fe,{htmlFor:"city",children:"Ciudad"}),i.jsx(pe,{id:"city",placeholder:"Ciudad de Mxico",value:f.city,onChange:R=>g(I=>({...I,city:R.target.value})),"data-testid":"input-address-city"})]}),i.jsxs("div",{children:[i.jsx(Fe,{htmlFor:"state",children:"Estado"}),i.jsx(pe,{id:"state",placeholder:"CDMX",value:f.state,onChange:R=>g(I=>({...I,state:R.target.value})),"data-testid":"input-address-state"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(Fe,{htmlFor:"postalCode",children:"Cdigo Postal"}),i.jsx(pe,{id:"postalCode",placeholder:"12345",value:f.postalCode,onChange:R=>g(I=>({...I,postalCode:R.target.value})),"data-testid":"input-address-postal"})]}),i.jsxs("div",{children:[i.jsx(Fe,{htmlFor:"country",children:"Pas"}),i.jsx(pe,{id:"country",value:f.country,onChange:R=>g(I=>({...I,country:R.target.value})),"data-testid":"input-address-country"})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"checkbox",id:"isDefault",checked:f.isDefault,onChange:R=>g(I=>({...I,isDefault:R.target.checked})),className:"rounded border-gray-300","data-testid":"checkbox-address-default"}),i.jsx(Fe,{htmlFor:"isDefault",className:"text-sm",children:"Usar como direccin principal"})]})]}),i.jsxs(KA,{children:[i.jsx(z,{variant:"outline",onClick:()=>{d(!1),h(null),b()},"data-testid":"button-cancel-address",children:"Cancelar"}),i.jsx(z,{onClick:A,disabled:w.isPending||y.isPending,className:"bg-boom-yellow text-black hover:bg-boom-yellow/90","data-testid":"button-save-address",children:w.isPending||y.isPending?"Guardando...":u?"Actualizar":"Agregar"})]})]})})]})}const nl=b9,I5=p.createContext({}),je=({...t})=>i.jsx(I5.Provider,{value:{name:t.name},children:i.jsx(S9,{...t})}),jm=()=>{const t=p.useContext(I5),e=p.useContext(M5),{getFieldState:r,formState:n}=vm(),s=r(t.name,n);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:a}=e;return{id:a,name:t.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...s}},M5=p.createContext({}),we=p.forwardRef(({className:t,...e},r)=>{const n=p.useId();return i.jsx(M5.Provider,{value:{id:n},children:i.jsx("div",{ref:r,className:me("space-y-2",t),...e})})});we.displayName="FormItem";const Ne=p.forwardRef(({className:t,...e},r)=>{const{error:n,formItemId:s}=jm();return i.jsx(Fe,{ref:r,className:me(n&&"text-destructive",t),htmlFor:s,...e})});Ne.displayName="FormLabel";const Se=p.forwardRef(({...t},e)=>{const{error:r,formItemId:n,formDescriptionId:s,formMessageId:a}=jm();return i.jsx(BT,{ref:e,id:n,"aria-describedby":r?`${s} ${a}`:`${s}`,"aria-invalid":!!r,...t})});Se.displayName="FormControl";const Hn=p.forwardRef(({className:t,...e},r)=>{const{formDescriptionId:n}=jm();return i.jsx("p",{ref:r,id:n,className:me("text-sm text-muted-foreground",t),...e})});Hn.displayName="FormDescription";const Pe=p.forwardRef(({className:t,children:e,...r},n)=>{const{error:s,formMessageId:a}=jm(),o=s?String((s==null?void 0:s.message)??""):e;return o?i.jsx("p",{ref:n,id:a,className:me("text-sm font-medium text-destructive",t),...r,children:o}):null});Pe.displayName="FormMessage";function pq(t,e,r){const n=[];return t.forEach(s=>typeof s!="string"?n.push(s):e[Symbol.split](s).forEach((a,o,l)=>{a!==""&&n.push(a),o<l.length-1&&n.push(r)})),n}/**
 * Takes a string with placeholder variables like `%{smart_count} file selected`
 * and replaces it with values from options `{smart_count: 5}`
 *
 * @license https://github.com/airbnb/polyglot.js/blob/master/LICENSE
 * taken from https://github.com/airbnb/polyglot.js/blob/master/lib/polyglot.js#L299
 *
 * @param phrase that needs interpolation, with placeholders
 * @param options with values that will be used to replace placeholders
 */function J1(t,e){const r=/\$/g,n="$$$$";let s=[t];if(e==null)return s;for(const a of Object.keys(e))if(a!=="_"){let o=e[a];typeof o=="string"&&(o=r[Symbol.replace](o,n)),s=pq(s,new RegExp(`%\\{${a}\\}`,"g"),o)}return s}const mq=t=>{throw new Error(`missing string: ${t}`)};var ou,lu,_x;class D5{constructor(e,{onMissingKey:r=mq}={}){U(this,lu);C(this,"locale");U(this,ou);this.locale={strings:{},pluralize(n){return n===1?0:1}},Array.isArray(e)?e.forEach(q(this,lu,_x),this):q(this,lu,_x).call(this,e),B(this,ou,r)}translate(e,r){return this.translateArray(e,r).join("")}translateArray(e,r){let n=this.locale.strings[e];if(n==null&&(N(this,ou).call(this,e),n=e),typeof n=="object"){if(r&&typeof r.smart_count<"u"){const a=this.locale.pluralize(r.smart_count);return J1(n[a],r)}throw new Error("Attempted to use a string with plural forms, but no value was given for %{smart_count}")}if(typeof n!="string")throw new Error("string was not a string");return J1(n,r)}}ou=new WeakMap,lu=new WeakSet,_x=function(e){if(!(e!=null&&e.strings))return;const r=this.locale;Object.assign(this.locale,{strings:{...r.strings,...e.strings},pluralize:e.pluralize||r.pluralize})};class L5{constructor(e,r){C(this,"uppy");C(this,"opts");C(this,"id");C(this,"defaultLocale");C(this,"i18n");C(this,"i18nArray");C(this,"type");C(this,"VERSION");this.uppy=e,this.opts=r??{}}getPluginState(){const{plugins:e}=this.uppy.getState();return(e==null?void 0:e[this.id])||{}}setPluginState(e){const{plugins:r}=this.uppy.getState();this.uppy.setState({plugins:{...r,[this.id]:{...r[this.id],...e}}})}setOptions(e){this.opts={...this.opts,...e},this.setPluginState(void 0),this.i18nInit()}i18nInit(){const e=new D5([this.defaultLocale,this.uppy.locale,this.opts.locale]);this.i18n=e.translate.bind(e),this.i18nArray=e.translateArray.bind(e),this.setPluginState(void 0)}addTarget(e){throw new Error("Extend the addTarget method to add your plugin to another plugin's target")}install(){}uninstall(){}update(e){}afterUpdate(){}}function Cg(t){return t<10?`0${t}`:t.toString()}function af(){const t=new Date,e=Cg(t.getHours()),r=Cg(t.getMinutes()),n=Cg(t.getSeconds());return`${e}:${r}:${n}`}const gq={debug:()=>{},warn:()=>{},error:(...t)=>console.error(`[Uppy] [${af()}]`,...t)},yq={debug:(...t)=>console.debug(`[Uppy] [${af()}]`,...t),warn:(...t)=>console.warn(`[Uppy] [${af()}]`,...t),error:(...t)=>console.error(`[Uppy] [${af()}]`,...t)};function $5(t){return typeof t!="object"||t===null||!("nodeType"in t)?!1:t.nodeType===Node.ELEMENT_NODE}function xq(t,e=document){return typeof t=="string"?e.querySelector(t):$5(t)?t:null}function U5(t){for(;t&&!t.dir;)t=t.parentNode;return t==null?void 0:t.dir}var Hu,ze,z5,va,ej,B5,V5,q5,cb,Ex,Tx,Yd={},H5=[],vq=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Wu=Array.isArray;function Ps(t,e){for(var r in e)t[r]=e[r];return t}function db(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Jd(t,e,r){var n,s,a,o={};for(a in e)a=="key"?n=e[a]:a=="ref"?s=e[a]:o[a]=e[a];if(arguments.length>2&&(o.children=arguments.length>3?Hu.call(arguments,2):r),typeof t=="function"&&t.defaultProps!=null)for(a in t.defaultProps)o[a]===void 0&&(o[a]=t.defaultProps[a]);return fd(t,o,n,s,null)}function fd(t,e,r,n,s){var a={type:t,props:e,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:s??++z5,__i:-1,__u:0};return s==null&&ze.vnode!=null&&ze.vnode(a),a}function bq(){return{current:null}}function Zn(t){return t.children}function qr(t,e){this.props=t,this.context=e}function nc(t,e){if(e==null)return t.__?nc(t.__,t.__i+1):null;for(var r;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null)return r.__e;return typeof t.type=="function"?nc(t):null}function W5(t){var e,r;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null){t.__e=t.__c.base=r.__e;break}return W5(t)}}function tj(t){(!t.__d&&(t.__d=!0)&&va.push(t)&&!pp.__r++||ej!=ze.debounceRendering)&&((ej=ze.debounceRendering)||B5)(pp)}function pp(){for(var t,e,r,n,s,a,o,l=1;va.length;)va.length>l&&va.sort(V5),t=va.shift(),l=va.length,t.__d&&(r=void 0,s=(n=(e=t).__v).__e,a=[],o=[],e.__P&&((r=Ps({},n)).__v=n.__v+1,ze.vnode&&ze.vnode(r),ub(e.__P,r,n,e.__n,e.__P.namespaceURI,32&n.__u?[s]:null,a,s??nc(n),!!(32&n.__u),o),r.__v=n.__v,r.__.__k[r.__i]=r,Q5(a,r,o),r.__e!=s&&W5(r)));pp.__r=0}function G5(t,e,r,n,s,a,o,l,c,d,u){var h,f,g,j,m,v,w=n&&n.__k||H5,y=e.length;for(c=wq(r,e,w,c,y),h=0;h<y;h++)(g=r.__k[h])!=null&&(f=g.__i==-1?Yd:w[g.__i]||Yd,g.__i=h,v=ub(t,g,f,s,a,o,l,c,d,u),j=g.__e,g.ref&&f.ref!=g.ref&&(f.ref&&hb(f.ref,null,g),u.push(g.ref,g.__c||j,g)),m==null&&j!=null&&(m=j),4&g.__u||f.__k===g.__k?c=K5(g,c,t):typeof g.type=="function"&&v!==void 0?c=v:j&&(c=j.nextSibling),g.__u&=-7);return r.__e=m,c}function wq(t,e,r,n,s){var a,o,l,c,d,u=r.length,h=u,f=0;for(t.__k=new Array(s),a=0;a<s;a++)(o=e[a])!=null&&typeof o!="boolean"&&typeof o!="function"?(c=a+f,(o=t.__k[a]=typeof o=="string"||typeof o=="number"||typeof o=="bigint"||o.constructor==String?fd(null,o,null,null,null):Wu(o)?fd(Zn,{children:o},null,null,null):o.constructor==null&&o.__b>0?fd(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):o).__=t,o.__b=t.__b+1,l=null,(d=o.__i=jq(o,r,c,h))!=-1&&(h--,(l=r[d])&&(l.__u|=2)),l==null||l.__v==null?(d==-1&&(s>u?f--:s<u&&f++),typeof o.type!="function"&&(o.__u|=4)):d!=c&&(d==c-1?f--:d==c+1?f++:(d>c?f--:f++,o.__u|=4))):t.__k[a]=null;if(h)for(a=0;a<u;a++)(l=r[a])!=null&&!(2&l.__u)&&(l.__e==n&&(n=nc(l)),Z5(l,l));return n}function K5(t,e,r){var n,s;if(typeof t.type=="function"){for(n=t.__k,s=0;n&&s<n.length;s++)n[s]&&(n[s].__=t,e=K5(n[s],e,r));return e}t.__e!=e&&(e&&t.type&&!r.contains(e)&&(e=nc(t)),r.insertBefore(t.__e,e||null),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType==8);return e}function Wn(t,e){return e=e||[],t==null||typeof t=="boolean"||(Wu(t)?t.some(function(r){Wn(r,e)}):e.push(t)),e}function jq(t,e,r,n){var s,a,o,l=t.key,c=t.type,d=e[r],u=d!=null&&(2&d.__u)==0;if(d===null&&t.key==null||u&&l==d.key&&c==d.type)return r;if(n>(u?1:0)){for(s=r-1,a=r+1;s>=0||a<e.length;)if((d=e[o=s>=0?s--:a++])!=null&&!(2&d.__u)&&l==d.key&&c==d.type)return o}return-1}function rj(t,e,r){e[0]=="-"?t.setProperty(e,r??""):t[e]=r==null?"":typeof r!="number"||vq.test(e)?r:r+"px"}function Sh(t,e,r,n,s){var a,o;e:if(e=="style")if(typeof r=="string")t.style.cssText=r;else{if(typeof n=="string"&&(t.style.cssText=n=""),n)for(e in n)r&&e in r||rj(t.style,e,"");if(r)for(e in r)n&&r[e]==n[e]||rj(t.style,e,r[e])}else if(e[0]=="o"&&e[1]=="n")a=e!=(e=e.replace(q5,"$1")),o=e.toLowerCase(),e=o in t||e=="onFocusOut"||e=="onFocusIn"?o.slice(2):e.slice(2),t.l||(t.l={}),t.l[e+a]=r,r?n?r.u=n.u:(r.u=cb,t.addEventListener(e,a?Tx:Ex,a)):t.removeEventListener(e,a?Tx:Ex,a);else{if(s=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&e[4]!="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&r==1?"":r))}}function nj(t){return function(e){if(this.l){var r=this.l[e.type+t];if(e.t==null)e.t=cb++;else if(e.t<r.u)return;return r(ze.event?ze.event(e):e)}}}function ub(t,e,r,n,s,a,o,l,c,d){var u,h,f,g,j,m,v,w,y,x,b,E,k,T,A,O,M,G=e.type;if(e.constructor!=null)return null;128&r.__u&&(c=!!(32&r.__u),a=[l=e.__e=r.__e]),(u=ze.__b)&&u(e);e:if(typeof G=="function")try{if(w=e.props,y="prototype"in G&&G.prototype.render,x=(u=G.contextType)&&n[u.__c],b=u?x?x.props.value:u.__:n,r.__c?v=(h=e.__c=r.__c).__=h.__E:(y?e.__c=h=new G(w,b):(e.__c=h=new qr(w,b),h.constructor=G,h.render=Sq),x&&x.sub(h),h.props=w,h.state||(h.state={}),h.context=b,h.__n=n,f=h.__d=!0,h.__h=[],h._sb=[]),y&&h.__s==null&&(h.__s=h.state),y&&G.getDerivedStateFromProps!=null&&(h.__s==h.state&&(h.__s=Ps({},h.__s)),Ps(h.__s,G.getDerivedStateFromProps(w,h.__s))),g=h.props,j=h.state,h.__v=e,f)y&&G.getDerivedStateFromProps==null&&h.componentWillMount!=null&&h.componentWillMount(),y&&h.componentDidMount!=null&&h.__h.push(h.componentDidMount);else{if(y&&G.getDerivedStateFromProps==null&&w!==g&&h.componentWillReceiveProps!=null&&h.componentWillReceiveProps(w,b),!h.__e&&h.shouldComponentUpdate!=null&&h.shouldComponentUpdate(w,h.__s,b)===!1||e.__v==r.__v){for(e.__v!=r.__v&&(h.props=w,h.state=h.__s,h.__d=!1),e.__e=r.__e,e.__k=r.__k,e.__k.some(function(L){L&&(L.__=e)}),E=0;E<h._sb.length;E++)h.__h.push(h._sb[E]);h._sb=[],h.__h.length&&o.push(h);break e}h.componentWillUpdate!=null&&h.componentWillUpdate(w,h.__s,b),y&&h.componentDidUpdate!=null&&h.__h.push(function(){h.componentDidUpdate(g,j,m)})}if(h.context=b,h.props=w,h.__P=t,h.__e=!1,k=ze.__r,T=0,y){for(h.state=h.__s,h.__d=!1,k&&k(e),u=h.render(h.props,h.state,h.context),A=0;A<h._sb.length;A++)h.__h.push(h._sb[A]);h._sb=[]}else do h.__d=!1,k&&k(e),u=h.render(h.props,h.state,h.context),h.state=h.__s;while(h.__d&&++T<25);h.state=h.__s,h.getChildContext!=null&&(n=Ps(Ps({},n),h.getChildContext())),y&&!f&&h.getSnapshotBeforeUpdate!=null&&(m=h.getSnapshotBeforeUpdate(g,j)),O=u,u!=null&&u.type===Zn&&u.key==null&&(O=X5(u.props.children)),l=G5(t,Wu(O)?O:[O],e,r,n,s,a,o,l,c,d),h.base=e.__e,e.__u&=-161,h.__h.length&&o.push(h),v&&(h.__E=h.__=null)}catch(L){if(e.__v=null,c||a!=null)if(L.then){for(e.__u|=c?160:128;l&&l.nodeType==8&&l.nextSibling;)l=l.nextSibling;a[a.indexOf(l)]=null,e.__e=l}else{for(M=a.length;M--;)db(a[M]);kx(e)}else e.__e=r.__e,e.__k=r.__k,L.then||kx(e);ze.__e(L,e,r)}else a==null&&e.__v==r.__v?(e.__k=r.__k,e.__e=r.__e):l=e.__e=Nq(r.__e,e,r,n,s,a,o,c,d);return(u=ze.diffed)&&u(e),128&e.__u?void 0:l}function kx(t){t&&t.__c&&(t.__c.__e=!0),t&&t.__k&&t.__k.forEach(kx)}function Q5(t,e,r){for(var n=0;n<r.length;n++)hb(r[n],r[++n],r[++n]);ze.__c&&ze.__c(e,t),t.some(function(s){try{t=s.__h,s.__h=[],t.some(function(a){a.call(s)})}catch(a){ze.__e(a,s.__v)}})}function X5(t){return typeof t!="object"||t==null||t.__b&&t.__b>0?t:Wu(t)?t.map(X5):Ps({},t)}function Nq(t,e,r,n,s,a,o,l,c){var d,u,h,f,g,j,m,v=r.props,w=e.props,y=e.type;if(y=="svg"?s="http://www.w3.org/2000/svg":y=="math"?s="http://www.w3.org/1998/Math/MathML":s||(s="http://www.w3.org/1999/xhtml"),a!=null){for(d=0;d<a.length;d++)if((g=a[d])&&"setAttribute"in g==!!y&&(y?g.localName==y:g.nodeType==3)){t=g,a[d]=null;break}}if(t==null){if(y==null)return document.createTextNode(w);t=document.createElementNS(s,y,w.is&&w),l&&(ze.__m&&ze.__m(e,a),l=!1),a=null}if(y==null)v===w||l&&t.data==w||(t.data=w);else{if(a=a&&Hu.call(t.childNodes),v=r.props||Yd,!l&&a!=null)for(v={},d=0;d<t.attributes.length;d++)v[(g=t.attributes[d]).name]=g.value;for(d in v)if(g=v[d],d!="children"){if(d=="dangerouslySetInnerHTML")h=g;else if(!(d in w)){if(d=="value"&&"defaultValue"in w||d=="checked"&&"defaultChecked"in w)continue;Sh(t,d,null,g,s)}}for(d in w)g=w[d],d=="children"?f=g:d=="dangerouslySetInnerHTML"?u=g:d=="value"?j=g:d=="checked"?m=g:l&&typeof g!="function"||v[d]===g||Sh(t,d,g,v[d],s);if(u)l||h&&(u.__html==h.__html||u.__html==t.innerHTML)||(t.innerHTML=u.__html),e.__k=[];else if(h&&(t.innerHTML=""),G5(e.type=="template"?t.content:t,Wu(f)?f:[f],e,r,n,y=="foreignObject"?"http://www.w3.org/1999/xhtml":s,a,o,a?a[0]:r.__k&&nc(r,0),l,c),a!=null)for(d=a.length;d--;)db(a[d]);l||(d="value",y=="progress"&&j==null?t.removeAttribute("value"):j!=null&&(j!==t[d]||y=="progress"&&!j||y=="option"&&j!=v[d])&&Sh(t,d,j,v[d],s),d="checked",m!=null&&m!=t[d]&&Sh(t,d,m,v[d],s))}return t}function hb(t,e,r){try{if(typeof t=="function"){var n=typeof t.__u=="function";n&&t.__u(),n&&e==null||(t.__u=t(e))}else t.current=e}catch(s){ze.__e(s,r)}}function Z5(t,e,r){var n,s;if(ze.unmount&&ze.unmount(t),(n=t.ref)&&(n.current&&n.current!=t.__e||hb(n,null,e)),(n=t.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(a){ze.__e(a,e)}n.base=n.__P=null}if(n=t.__k)for(s=0;s<n.length;s++)n[s]&&Z5(n[s],e,r||typeof t.type!="function");r||db(t.__e),t.__c=t.__=t.__e=void 0}function Sq(t,e,r){return this.constructor(t,r)}function Cq(t,e,r){var n,s,a,o;e==document&&(e=document.documentElement),ze.__&&ze.__(t,e),s=(n=typeof r=="function")?null:e.__k,a=[],o=[],ub(e,t=(!n&&r||e).__k=Jd(Zn,null,[t]),s||Yd,Yd,e.namespaceURI,!n&&r?[r]:s?null:e.firstChild?Hu.call(e.childNodes):null,a,!n&&r?r:s?s.__e:e.firstChild,n,o),Q5(a,t,o)}function Y5(t,e,r){var n,s,a,o,l=Ps({},t.props);for(a in t.type&&t.type.defaultProps&&(o=t.type.defaultProps),e)a=="key"?n=e[a]:a=="ref"?s=e[a]:l[a]=e[a]===void 0&&o!=null?o[a]:e[a];return arguments.length>2&&(l.children=arguments.length>3?Hu.call(arguments,2):r),fd(t.type,l,n||t.key,s||t.ref,null)}Hu=H5.slice,ze={__e:function(t,e,r,n){for(var s,a,o;e=e.__;)if((s=e.__c)&&!s.__)try{if((a=s.constructor)&&a.getDerivedStateFromError!=null&&(s.setState(a.getDerivedStateFromError(t)),o=s.__d),s.componentDidCatch!=null&&(s.componentDidCatch(t,n||{}),o=s.__d),o)return s.__E=s}catch(l){t=l}throw t}},z5=0,qr.prototype.setState=function(t,e){var r;r=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=Ps({},this.state),typeof t=="function"&&(t=t(Ps({},r),this.props)),t&&Ps(r,t),t!=null&&this.__v&&(e&&this._sb.push(e),tj(this))},qr.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),tj(this))},qr.prototype.render=Zn,va=[],B5=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,V5=function(t,e){return t.__v.__b-e.__v.__b},pp.__r=0,q5=/(PointerCapture)$|Capture$/i,cb=0,Ex=nj(!1),Tx=nj(!0);var eu,kt,_g,sj,tu=0,J5=[],Ot=ze,ij=Ot.__b,aj=Ot.__r,oj=Ot.diffed,lj=Ot.__c,cj=Ot.unmount,dj=Ot.__;function fb(t,e){Ot.__h&&Ot.__h(kt,t,tu||e),tu=0;var r=kt.__H||(kt.__H={__:[],__h:[]});return t>=r.__.length&&r.__.push({}),r.__[t]}function mp(t){return tu=1,_q(tF,t)}function _q(t,e,r){var n=fb(eu++,2);if(n.t=t,!n.__c&&(n.__=[r?r(e):tF(void 0,e),function(l){var c=n.__N?n.__N[0]:n.__[0],d=n.t(c,l);c!==d&&(n.__N=[d,n.__[1]],n.__c.setState({}))}],n.__c=kt,!kt.__f)){var s=function(l,c,d){if(!n.__c.__H)return!0;var u=n.__c.__H.__.filter(function(f){return!!f.__c});if(u.every(function(f){return!f.__N}))return!a||a.call(this,l,c,d);var h=n.__c.props!==l;return u.forEach(function(f){if(f.__N){var g=f.__[0];f.__=f.__N,f.__N=void 0,g!==f.__[0]&&(h=!0)}}),a&&a.call(this,l,c,d)||h};kt.__f=!0;var a=kt.shouldComponentUpdate,o=kt.componentWillUpdate;kt.componentWillUpdate=function(l,c,d){if(this.__e){var u=a;a=void 0,s(l,c,d),a=u}o&&o.call(this,l,c,d)},kt.shouldComponentUpdate=s}return n.__N||n.__}function Px(t,e){var r=fb(eu++,3);!Ot.__s&&eF(r.__H,e)&&(r.__=t,r.u=e,kt.__H.__h.push(r))}function of(t){return tu=5,pb(function(){return{current:t}},[])}function pb(t,e){var r=fb(eu++,7);return eF(r.__H,e)&&(r.__=t(),r.__H=e,r.__h=t),r.__}function Eq(t,e){return tu=8,pb(function(){return t},e)}function Tq(){for(var t;t=J5.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(lf),t.__H.__h.forEach(Ax),t.__H.__h=[]}catch(e){t.__H.__h=[],Ot.__e(e,t.__v)}}Ot.__b=function(t){kt=null,ij&&ij(t)},Ot.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),dj&&dj(t,e)},Ot.__r=function(t){aj&&aj(t),eu=0;var e=(kt=t.__c).__H;e&&(_g===kt?(e.__h=[],kt.__h=[],e.__.forEach(function(r){r.__N&&(r.__=r.__N),r.u=r.__N=void 0})):(e.__h.forEach(lf),e.__h.forEach(Ax),e.__h=[],eu=0)),_g=kt},Ot.diffed=function(t){oj&&oj(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(J5.push(e)!==1&&sj===Ot.requestAnimationFrame||((sj=Ot.requestAnimationFrame)||kq)(Tq)),e.__H.__.forEach(function(r){r.u&&(r.__H=r.u),r.u=void 0})),_g=kt=null},Ot.__c=function(t,e){e.some(function(r){try{r.__h.forEach(lf),r.__h=r.__h.filter(function(n){return!n.__||Ax(n)})}catch(n){e.some(function(s){s.__h&&(s.__h=[])}),e=[],Ot.__e(n,r.__v)}}),lj&&lj(t,e)},Ot.unmount=function(t){cj&&cj(t);var e,r=t.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{lf(n)}catch(s){e=s}}),r.__H=void 0,e&&Ot.__e(e,r.__v))};var uj=typeof requestAnimationFrame=="function";function kq(t){var e,r=function(){clearTimeout(n),uj&&cancelAnimationFrame(e),setTimeout(t)},n=setTimeout(r,35);uj&&(e=requestAnimationFrame(r))}function lf(t){var e=kt,r=t.__c;typeof r=="function"&&(t.__c=void 0,r()),kt=e}function Ax(t){var e=kt;t.__c=t.__(),kt=e}function eF(t,e){return!t||t.length!==e.length||e.some(function(r,n){return r!==t[n]})}function tF(t,e){return typeof e=="function"?e(t):e}function Pq(t,e){for(var r in e)t[r]=e[r];return t}function hj(t,e){for(var r in t)if(r!=="__source"&&!(r in e))return!0;for(var n in e)if(n!=="__source"&&t[n]!==e[n])return!0;return!1}function fj(t,e){this.props=t,this.context=e}(fj.prototype=new qr).isPureReactComponent=!0,fj.prototype.shouldComponentUpdate=function(t,e){return hj(this.props,t)||hj(this.state,e)};var pj=ze.__b;ze.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),pj&&pj(t)};var Aq=ze.__e;ze.__e=function(t,e,r,n){if(t.then){for(var s,a=e;a=a.__;)if((s=a.__c)&&s.__c)return e.__e==null&&(e.__e=r.__e,e.__k=r.__k),s.__c(t,e)}Aq(t,e,r,n)};var mj=ze.unmount;function rF(t,e,r){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(n){typeof n.__c=="function"&&n.__c()}),t.__c.__H=null),(t=Pq({},t)).__c!=null&&(t.__c.__P===r&&(t.__c.__P=e),t.__c.__e=!0,t.__c=null),t.__k=t.__k&&t.__k.map(function(n){return rF(n,e,r)})),t}function nF(t,e,r){return t&&r&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(n){return nF(n,e,r)}),t.__c&&t.__c.__P===e&&(t.__e&&r.appendChild(t.__e),t.__c.__e=!0,t.__c.__P=r)),t}function Eg(){this.__u=0,this.o=null,this.__b=null}function sF(t){var e=t.__.__c;return e&&e.__a&&e.__a(t)}function Ch(){this.i=null,this.l=null}ze.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&32&t.__u&&(t.type=null),mj&&mj(t)},(Eg.prototype=new qr).__c=function(t,e){var r=e.__c,n=this;n.o==null&&(n.o=[]),n.o.push(r);var s=sF(n.__v),a=!1,o=function(){a||(a=!0,r.__R=null,s?s(l):l())};r.__R=o;var l=function(){if(!--n.__u){if(n.state.__a){var c=n.state.__a;n.__v.__k[0]=nF(c,c.__c.__P,c.__c.__O)}var d;for(n.setState({__a:n.__b=null});d=n.o.pop();)d.forceUpdate()}};n.__u++||32&e.__u||n.setState({__a:n.__b=n.__v.__k[0]}),t.then(o,o)},Eg.prototype.componentWillUnmount=function(){this.o=[]},Eg.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var r=document.createElement("div"),n=this.__v.__k[0].__c;this.__v.__k[0]=rF(this.__b,r,n.__O=n.__P)}this.__b=null}var s=e.__a&&Jd(Zn,null,t.fallback);return s&&(s.__u&=-33),[Jd(Zn,null,e.__a?null:t.children),s]};var gj=function(t,e,r){if(++r[1]===r[0]&&t.l.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.l.size))for(r=t.i;r;){for(;r.length>3;)r.pop()();if(r[1]<r[0])break;t.i=r=r[2]}};(Ch.prototype=new qr).__a=function(t){var e=this,r=sF(e.__v),n=e.l.get(t);return n[0]++,function(s){var a=function(){e.props.revealOrder?(n.push(s),gj(e,t,n)):s()};r?r(a):a()}},Ch.prototype.render=function(t){this.i=null,this.l=new Map;var e=Wn(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var r=e.length;r--;)this.l.set(e[r],this.i=[1,0,this.i]);return t.children},Ch.prototype.componentDidUpdate=Ch.prototype.componentDidMount=function(){var t=this;this.l.forEach(function(e,r){gj(t,r,e)})};var Rq=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,Oq=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Fq=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,Iq=/[A-Z0-9]/g,Mq=typeof document<"u",Dq=function(t){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(t)};function yj(t,e,r){return e.__k==null&&(e.textContent=""),Cq(t,e),typeof r=="function"&&r(),t?t.__c:null}qr.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(qr.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});var xj=ze.event;function Lq(){}function $q(){return this.cancelBubble}function Uq(){return this.defaultPrevented}ze.event=function(t){return xj&&(t=xj(t)),t.persist=Lq,t.isPropagationStopped=$q,t.isDefaultPrevented=Uq,t.nativeEvent=t};var zq={enumerable:!1,configurable:!0,get:function(){return this.class}},vj=ze.vnode;ze.vnode=function(t){typeof t.type=="string"&&function(e){var r=e.props,n=e.type,s={},a=n.indexOf("-")===-1;for(var o in r){var l=r[o];if(!(o==="value"&&"defaultValue"in r&&l==null||Mq&&o==="children"&&n==="noscript"||o==="class"||o==="className")){var c=o.toLowerCase();o==="defaultValue"&&"value"in r&&r.value==null?o="value":o==="download"&&l===!0?l="":c==="translate"&&l==="no"?l=!1:c[0]==="o"&&c[1]==="n"?c==="ondoubleclick"?o="ondblclick":c!=="onchange"||n!=="input"&&n!=="textarea"||Dq(r.type)?c==="onfocus"?o="onfocusin":c==="onblur"?o="onfocusout":Fq.test(o)&&(o=c):c=o="oninput":a&&Oq.test(o)?o=o.replace(Iq,"-$&").toLowerCase():l===null&&(l=void 0),c==="oninput"&&s[o=c]&&(o="oninputCapture"),s[o]=l}}n=="select"&&s.multiple&&Array.isArray(s.value)&&(s.value=Wn(r.children).forEach(function(d){d.props.selected=s.value.indexOf(d.props.value)!=-1})),n=="select"&&s.defaultValue!=null&&(s.value=Wn(r.children).forEach(function(d){d.props.selected=s.multiple?s.defaultValue.indexOf(d.props.value)!=-1:s.defaultValue==d.props.value})),r.class&&!r.className?(s.class=r.class,Object.defineProperty(s,"className",zq)):(r.className&&!r.class||r.class&&r.className)&&(s.class=s.className=r.className),e.props=s}(t),t.$$typeof=Rq,vj&&vj(t)};var bj=ze.__r;ze.__r=function(t){bj&&bj(t),t.__c};var wj=ze.diffed;ze.diffed=function(t){wj&&wj(t);var e=t.props,r=t.__e;r!=null&&t.type==="textarea"&&"value"in e&&e.value!==r.value&&(r.value=e.value==null?"":e.value)};function Bq(t){let e=null,r;return(...n)=>(r=n,e||(e=Promise.resolve().then(()=>(e=null,t(...r)))),e)}var cu;const vp=class vp extends L5{constructor(){super(...arguments);U(this,cu);C(this,"isTargetDOMEl");C(this,"el");C(this,"parent");C(this,"title")}getTargetPlugin(r){let n;if(typeof(r==null?void 0:r.addTarget)=="function")n=r,n instanceof vp||console.warn(new Error("The provided plugin is not an instance of UIPlugin. This is an indication of a bug with the way Uppy is bundled.",{cause:{targetPlugin:n,UIPlugin:vp}}));else if(typeof r=="function"){const s=r;this.uppy.iteratePlugins(a=>{a instanceof s&&(n=a)})}return n}mount(r,n){const s=n.id,a=xq(r);if(a){this.isTargetDOMEl=!0;const c=document.createElement("div");return c.classList.add("uppy-Root"),B(this,cu,Bq(d=>{this.uppy.getPlugin(this.id)&&(yj(this.render(d,c),c),this.afterUpdate())})),this.uppy.log(`Installing ${s} to a DOM element '${r}'`),this.opts.replaceTargetContent&&(a.innerHTML=""),yj(this.render(this.uppy.getState(),c),c),this.el=c,a.appendChild(c),c.dir=this.opts.direction||U5(c)||"ltr",this.onMount(),this.el}const o=this.getTargetPlugin(r);if(o)return this.uppy.log(`Installing ${s} to ${o.id}`),this.parent=o,this.el=o.addTarget(n),this.onMount(),this.el;this.uppy.log(`Not installing ${s}`);let l=`Invalid target option given to ${s}.`;throw typeof r=="function"?l+=" The given target is not a Plugin class. Please check that you're not specifying a React Component instead of a plugin. If you are using @uppy/* packages directly, make sure you have only 1 version of @uppy/core installed: run `npm ls @uppy/core` on the command line and verify that all the versions match and are deduped correctly.":l+="If you meant to target an HTML element, please make sure that the element exists. Check that the <script> tag initializing Uppy is right before the closing </body> tag at the end of the page. (see https://github.com/transloadit/uppy/issues/1042)\n\nIf you meant to target a plugin, please confirm that your `import` statements or `require` calls are correct.",new Error(l)}render(r,n){throw new Error("Extend the render method to add your plugin to a DOM element")}update(r){var n;this.el!=null&&((n=N(this,cu))==null||n.call(this,r))}unmount(){var r;this.isTargetDOMEl&&((r=this.el)==null||r.remove()),this.onUnmount()}onMount(){}onUnmount(){}};cu=new WeakMap;let sc=vp;const Vq="@uppy/store-default",qq="The default simple object-based store for Uppy.",Hq="4.3.2",Wq="MIT",Gq="lib/index.js",Kq="module",Qq={build:"tsc --build tsconfig.build.json",typecheck:"tsc --build",test:"vitest run --environment=jsdom --silent='passed-only'"},Xq=["file uploader","uppy","uppy-store"],Zq="https://uppy.io",Yq={url:"https://github.com/transloadit/uppy/issues"},Jq={jsdom:"^26.1.0",typescript:"^5.8.3",vitest:"^3.2.4"},eH={type:"git",url:"git+https://github.com/transloadit/uppy.git"},tH=["src","lib","dist","CHANGELOG.md"],rH={name:Vq,description:qq,version:Hq,license:Wq,main:Gq,type:Kq,scripts:Qq,keywords:Xq,homepage:Zq,bugs:Yq,devDependencies:Jq,repository:eH,files:tH};var yl,bp,aF;class iF{constructor(){U(this,bp);C(this,"state",{});U(this,yl,new Set)}getState(){return this.state}setState(e){const r={...this.state},n={...this.state,...e};this.state=n,q(this,bp,aF).call(this,r,n,e)}subscribe(e){return N(this,yl).add(e),()=>{N(this,yl).delete(e)}}}yl=new WeakMap,bp=new WeakSet,aF=function(...e){N(this,yl).forEach(r=>{r(...e)})},C(iF,"VERSION",rH.version);function oF(t){const e=t.lastIndexOf(".");return e===-1||e===t.length-1?{name:t,extension:void 0}:{name:t.slice(0,e),extension:t.slice(e+1)}}const jj={__proto__:null,md:"text/markdown",markdown:"text/markdown",mp4:"video/mp4",mp3:"audio/mp3",svg:"image/svg+xml",jpg:"image/jpeg",png:"image/png",webp:"image/webp",gif:"image/gif",heic:"image/heic",heif:"image/heif",yaml:"text/yaml",yml:"text/yaml",csv:"text/csv",tsv:"text/tab-separated-values",tab:"text/tab-separated-values",avi:"video/x-msvideo",mks:"video/x-matroska",mkv:"video/x-matroska",mov:"video/quicktime",dicom:"application/dicom",doc:"application/msword",msg:"application/vnd.ms-outlook",docm:"application/vnd.ms-word.document.macroenabled.12",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",dot:"application/msword",dotm:"application/vnd.ms-word.template.macroenabled.12",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",xla:"application/vnd.ms-excel",xlam:"application/vnd.ms-excel.addin.macroenabled.12",xlc:"application/vnd.ms-excel",xlf:"application/x-xliff+xml",xlm:"application/vnd.ms-excel",xls:"application/vnd.ms-excel",xlsb:"application/vnd.ms-excel.sheet.binary.macroenabled.12",xlsm:"application/vnd.ms-excel.sheet.macroenabled.12",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xlt:"application/vnd.ms-excel",xltm:"application/vnd.ms-excel.template.macroenabled.12",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template",xlw:"application/vnd.ms-excel",txt:"text/plain",text:"text/plain",conf:"text/plain",log:"text/plain",pdf:"application/pdf",zip:"application/zip","7z":"application/x-7z-compressed",rar:"application/x-rar-compressed",tar:"application/x-tar",gz:"application/gzip",dmg:"application/x-apple-diskimage"};function lF(t){var r;if(t.type)return t.type;const e=t.name?(r=oF(t.name).extension)==null?void 0:r.toLowerCase():null;return e&&e in jj?jj[e]:"application/octet-stream"}function nH(t){return t.charCodeAt(0).toString(32)}function Nj(t){let e="";return t.replace(/[^A-Z0-9]/gi,r=>(e+=`-${nH(r)}`,"/"))+e}function sH(t,e){let r=e||"uppy";return typeof t.name=="string"&&(r+=`-${Nj(t.name.toLowerCase())}`),t.type!==void 0&&(r+=`-${t.type}`),t.meta&&typeof t.meta.relativePath=="string"&&(r+=`-${Nj(t.meta.relativePath.toLowerCase())}`),t.data.size!==void 0&&(r+=`-${t.data.size}`),t.data.lastModified!==void 0&&(r+=`-${t.data.lastModified}`),r}function iH(t){return!t.isRemote||!t.remote?!1:new Set(["box","dropbox","drive","facebook","unsplash"]).has(t.remote.provider)}function aH(t,e){if(iH(t))return t.id;const r=lF(t);return sH({...t,type:r},e)}function oH(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var mb=oH,lH=typeof Yu=="object"&&Yu&&Yu.Object===Object&&Yu,cH=lH,dH=cH,uH=typeof self=="object"&&self&&self.Object===Object&&self,hH=dH||uH||Function("return this")(),cF=hH,fH=cF,pH=function(){return fH.Date.now()},mH=pH,gH=/\s/;function yH(t){for(var e=t.length;e--&&gH.test(t.charAt(e)););return e}var xH=yH,vH=xH,bH=/^\s+/;function wH(t){return t&&t.slice(0,vH(t)+1).replace(bH,"")}var jH=wH,NH=cF,SH=NH.Symbol,dF=SH,Sj=dF,uF=Object.prototype,CH=uF.hasOwnProperty,_H=uF.toString,Ic=Sj?Sj.toStringTag:void 0;function EH(t){var e=CH.call(t,Ic),r=t[Ic];try{t[Ic]=void 0;var n=!0}catch{}var s=_H.call(t);return n&&(e?t[Ic]=r:delete t[Ic]),s}var TH=EH,kH=Object.prototype,PH=kH.toString;function AH(t){return PH.call(t)}var RH=AH,Cj=dF,OH=TH,FH=RH,IH="[object Null]",MH="[object Undefined]",_j=Cj?Cj.toStringTag:void 0;function DH(t){return t==null?t===void 0?MH:IH:_j&&_j in Object(t)?OH(t):FH(t)}var LH=DH;function $H(t){return t!=null&&typeof t=="object"}var UH=$H,zH=LH,BH=UH,VH="[object Symbol]";function qH(t){return typeof t=="symbol"||BH(t)&&zH(t)==VH}var HH=qH,WH=jH,Ej=mb,GH=HH,Tj=NaN,KH=/^[-+]0x[0-9a-f]+$/i,QH=/^0b[01]+$/i,XH=/^0o[0-7]+$/i,ZH=parseInt;function YH(t){if(typeof t=="number")return t;if(GH(t))return Tj;if(Ej(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Ej(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=WH(t);var r=QH.test(t);return r||XH.test(t)?ZH(t.slice(2),r?2:8):KH.test(t)?Tj:+t}var JH=YH,eW=mb,Tg=mH,kj=JH,tW="Expected a function",rW=Math.max,nW=Math.min;function sW(t,e,r){var n,s,a,o,l,c,d=0,u=!1,h=!1,f=!0;if(typeof t!="function")throw new TypeError(tW);e=kj(e)||0,eW(r)&&(u=!!r.leading,h="maxWait"in r,a=h?rW(kj(r.maxWait)||0,e):a,f="trailing"in r?!!r.trailing:f);function g(k){var T=n,A=s;return n=s=void 0,d=k,o=t.apply(A,T),o}function j(k){return d=k,l=setTimeout(w,e),u?g(k):o}function m(k){var T=k-c,A=k-d,O=e-T;return h?nW(O,a-A):O}function v(k){var T=k-c,A=k-d;return c===void 0||T>=e||T<0||h&&A>=a}function w(){var k=Tg();if(v(k))return y(k);l=setTimeout(w,m(k))}function y(k){return l=void 0,f&&n?g(k):(n=s=void 0,o)}function x(){l!==void 0&&clearTimeout(l),d=0,n=c=s=l=void 0}function b(){return l===void 0?o:y(Tg())}function E(){var k=Tg(),T=v(k);if(n=arguments,s=this,c=k,T){if(l===void 0)return j(c);if(h)return clearTimeout(l),l=setTimeout(w,e),g(c)}return l===void 0&&(l=setTimeout(w,e)),o}return E.cancel=x,E.flush=b,E}var hF=sW;const iW=pi(hF);var aW=hF,oW=mb,lW="Expected a function";function cW(t,e,r){var n=!0,s=!0;if(typeof t!="function")throw new TypeError(lW);return oW(r)&&(n="leading"in r?!!r.leading:n,s="trailing"in r?!!r.trailing:s),aW(t,e,{leading:n,maxWait:e,trailing:s})}var dW=cW;const uW=pi(dW);var hW=function(){var e={},r=e._fns={};e.emit=function(o,l,c,d,u,h,f){var g=n(o);g.length&&s(o,g,[l,c,d,u,h,f])},e.on=function(o,l){r[o]||(r[o]=[]),r[o].push(l)},e.once=function(o,l){function c(){l.apply(this,arguments),e.off(o,c)}this.on(o,c)},e.off=function(o,l){var c=[];if(o&&l){var d=this._fns[o],u=0,h=d?d.length:0;for(u;u<h;u++)d[u]!==l&&c.push(d[u])}c.length?this._fns[o]=c:delete this._fns[o]};function n(a){var o=r[a]?r[a]:[],l=a.indexOf(":"),c=l===-1?[a]:[a.substring(0,l),a.substring(l+1)],d=Object.keys(r),u=0,h=d.length;for(u;u<h;u++){var f=d[u];if(f==="*"&&(o=o.concat(r[f])),c.length===2&&c[0]===f){o=o.concat(r[f]);break}}return o}function s(a,o,l){var c=0,d=o.length;for(c;c<d&&o[c];c++)o[c].event=a,o[c].apply(o[c],l)}return e};const fW=pi(hW);let pW="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",mW=(t=21)=>{let e="",r=t|0;for(;r--;)e+=pW[Math.random()*64|0];return e};const gW="@uppy/core",yW="Core module for the extensible JavaScript file upload widget with support for drag&drop, resumable uploads, previews, restrictions, file processing/encoding, remote providers like Instagram, Dropbox, Google Drive, S3 and more :dog:",xW="4.5.2",vW="MIT",bW="lib/index.js",wW="dist/style.min.css",jW="module",NW=["*.css"],SW={build:"tsc --build tsconfig.build.json","build:css":"sass --load-path=../../ src/style.scss dist/style.css && postcss dist/style.css -u cssnano -o dist/style.min.css",typecheck:"tsc --build",test:"vitest run --environment=jsdom --silent='passed-only'"},CW=["file uploader","uppy","uppy-plugin"],_W="https://uppy.io",EW={url:"https://github.com/transloadit/uppy/issues"},TW={type:"git",url:"git+https://github.com/transloadit/uppy.git"},kW=["src","lib","dist","CHANGELOG.md"],PW={"@transloadit/prettier-bytes":"^0.3.4","@uppy/store-default":"^4.3.2","@uppy/utils":"^6.2.2",lodash:"^4.17.21","mime-match":"^1.0.2","namespace-emitter":"^2.0.1",nanoid:"^5.0.9",preact:"^10.5.13"},AW={"@types/deep-freeze":"^0",cssnano:"^7.0.7","deep-freeze":"^0.0.1",jsdom:"^26.1.0",postcss:"^8.5.6","postcss-cli":"^11.0.1",sass:"^1.89.2",typescript:"^5.8.3",vitest:"^3.2.4"},RW={name:gW,description:yW,version:xW,license:vW,main:bW,style:wW,type:jW,sideEffects:NW,scripts:SW,keywords:CW,homepage:_W,bugs:EW,repository:TW,files:kW,dependencies:PW,devDependencies:AW};function OW(t,e){return e.name?e.name:t.split("/")[0]==="image"?`${t.split("/")[0]}.${t.split("/")[1]}`:"noname"}const FW={strings:{addBulkFilesFailed:{0:"Failed to add %{smart_count} file due to an internal error",1:"Failed to add %{smart_count} files due to internal errors"},youCanOnlyUploadX:{0:"You can only upload %{smart_count} file",1:"You can only upload %{smart_count} files"},youHaveToAtLeastSelectX:{0:"You have to select at least %{smart_count} file",1:"You have to select at least %{smart_count} files"},aggregateExceedsSize:"You selected %{size} of files, but maximum allowed size is %{sizeAllowed}",exceedsSize:"%{file} exceeds maximum allowed size of %{size}",missingRequiredMetaField:"Missing required meta fields",missingRequiredMetaFieldOnFile:"Missing required meta fields in %{fileName}",inferiorSize:"This file is smaller than the allowed size of %{size}",youCanOnlyUploadFileTypes:"You can only upload: %{types}",noMoreFilesAllowed:"Cannot add more files",noDuplicates:"Cannot add the duplicate file '%{fileName}', it already exists",companionError:"Connection with Companion failed",authAborted:"Authentication aborted",companionUnauthorizeHint:"To unauthorize to your %{provider} account, please go to %{url}",failedToUpload:"Failed to upload %{file}",noInternetConnection:"No Internet connection",connectedToInternet:"Connected to the Internet",noFilesFound:"You have no files or folders here",noSearchResults:"Unfortunately, there are no results for this search",selectX:{0:"Select %{smart_count}",1:"Select %{smart_count}"},allFilesFromFolderNamed:"All files from folder %{name}",openFolderNamed:"Open folder %{name}",cancel:"Cancel",logOut:"Log out",logIn:"Log in",pickFiles:"Pick files",pickPhotos:"Pick photos",filter:"Filter",resetFilter:"Reset filter",loading:"Loading...",loadedXFiles:"Loaded %{numFiles} files",authenticateWithTitle:"Please authenticate with %{pluginName} to select files",authenticateWith:"Connect to %{pluginName}",signInWithGoogle:"Sign in with Google",searchImages:"Search for images",enterTextToSearch:"Enter text to search for images",search:"Search",resetSearch:"Reset search",emptyFolderAdded:"No files were added from empty folder",addedNumFiles:"Added %{numFiles} file(s)",folderAlreadyAdded:'The folder "%{folder}" was already added',folderAdded:{0:"Added %{smart_count} file from %{folder}",1:"Added %{smart_count} files from %{folder}"},additionalRestrictionsFailed:"%{count} additional restrictions were not fulfilled",unnamed:"Unnamed",pleaseWait:"Please wait"}};var IW=function(e){if(typeof e!="number"||Number.isNaN(e))throw new TypeError(`Expected a number, got ${typeof e}`);const r=e<0;let n=Math.abs(e);if(r&&(n=-n),n===0)return"0 B";const s=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],a=Math.min(Math.floor(Math.log(n)/Math.log(1024)),s.length-1),o=Number(n/1024**a),l=s[a];return`${o>=10||o%1===0?Math.round(o):o.toFixed(1)} ${l}`};const Ca=pi(IW);function fF(t,e){this.text=t=t||"",this.hasWild=~t.indexOf("*"),this.separator=e,this.parts=t.split(e)}fF.prototype.match=function(t){var e=!0,r=this.parts,n,s=r.length,a;if(typeof t=="string"||t instanceof String)if(!this.hasWild&&this.text!=t)e=!1;else{for(a=(t||"").split(this.separator),n=0;e&&n<s;n++)r[n]!=="*"&&(n<a.length?e=r[n]===a[n]:e=!1);e=e&&a}else if(typeof t.splice=="function")for(e=[],n=t.length;n--;)this.match(t[n])&&(e[e.length]=t[n]);else if(typeof t=="object"){e={};for(var o in t)this.match(o)&&(e[o]=t[o])}return e};var MW=function(t,e,r){var n=new fF(t,r||/[\/\.]/);return typeof e<"u"?n.match(e):n},DW=MW,LW=/[\/\+\.]/,$W=function(t,e){function r(n){var s=DW(n,t,LW);return s&&s.length>=2}return e?r(e.split(";")[0]):r};const UW=pi($W),zW={maxFileSize:null,minFileSize:null,maxTotalFileSize:null,maxNumberOfFiles:null,minNumberOfFiles:null,allowedFileTypes:null,requiredMetaFields:[]};class Un extends Error{constructor(r,n){super(r);C(this,"isUserFacing");C(this,"file");C(this,"isRestriction",!0);this.isUserFacing=(n==null?void 0:n.isUserFacing)??!0,n!=null&&n.file&&(this.file=n.file)}}class BW{constructor(e,r){C(this,"getI18n");C(this,"getOpts");this.getI18n=r,this.getOpts=()=>{var s;const n=e();if(((s=n.restrictions)==null?void 0:s.allowedFileTypes)!=null&&!Array.isArray(n.restrictions.allowedFileTypes))throw new TypeError("`restrictions.allowedFileTypes` must be an array");return n}}validateAggregateRestrictions(e,r){const{maxTotalFileSize:n,maxNumberOfFiles:s}=this.getOpts().restrictions;if(s&&e.filter(o=>!o.isGhost).length+r.length>s)throw new Un(`${this.getI18n()("youCanOnlyUploadX",{smart_count:s})}`);if(n){const a=[...e,...r].reduce((o,l)=>o+(l.size??0),0);if(a>n)throw new Un(this.getI18n()("aggregateExceedsSize",{sizeAllowed:Ca(n),size:Ca(a)}))}}validateSingleFile(e){const{maxFileSize:r,minFileSize:n,allowedFileTypes:s}=this.getOpts().restrictions;if(s&&!s.some(o=>o.includes("/")?e.type?UW(e.type.replace(/;.*?$/,""),o):!1:o[0]==="."&&e.extension?e.extension.toLowerCase()===o.slice(1).toLowerCase():!1)){const o=s.join(", ");throw new Un(this.getI18n()("youCanOnlyUploadFileTypes",{types:o}),{file:e})}if(r&&e.size!=null&&e.size>r)throw new Un(this.getI18n()("exceedsSize",{size:Ca(r),file:e.name??this.getI18n()("unnamed")}),{file:e});if(n&&e.size!=null&&e.size<n)throw new Un(this.getI18n()("inferiorSize",{size:Ca(n)}),{file:e})}validate(e,r){r.forEach(n=>{this.validateSingleFile(n)}),this.validateAggregateRestrictions(e,r)}validateMinNumberOfFiles(e){const{minNumberOfFiles:r}=this.getOpts().restrictions;if(r&&Object.keys(e).length<r)throw new Un(this.getI18n()("youHaveToAtLeastSelectX",{smart_count:r}))}getMissingRequiredMetaFields(e){const r=new Un(this.getI18n()("missingRequiredMetaFieldOnFile",{fileName:e.name??this.getI18n()("unnamed")})),{requiredMetaFields:n}=this.getOpts().restrictions,s=[];for(const a of n)(!Object.hasOwn(e.meta,a)||e.meta[a]==="")&&s.push(a);return{missingFields:s,error:r}}}function VW(t){if(t==null&&typeof navigator<"u"&&(t=navigator.userAgent),!t)return!0;const e=/Edge\/(\d+\.\d+)/.exec(t);if(!e)return!0;const n=e[1].split(".",2),s=parseInt(n[0],10),a=parseInt(n[1],10);return s<15||s===15&&a<15063||s>18||s===18&&a>=18218}const _h={totalProgress:0,allowNewUpload:!0,error:null,recoveredState:null};var On,Fn,du,Oa,xl,vl,Fa,Ee,ya,Ox,pF,Fx,mF,Ix,Mx,Dx,Lx,wp,$x,Ia,gF,yF,Di,uu,Qc,xF,cf,Xc;const jp=class jp{constructor(e){U(this,Ee);U(this,On,Object.create(null));U(this,Fn);U(this,du);U(this,Oa,fW());U(this,xl,new Set);U(this,vl,new Set);U(this,Fa,new Set);C(this,"defaultLocale");C(this,"locale");C(this,"opts");C(this,"store");C(this,"i18n");C(this,"i18nArray");C(this,"scheduledAutoProceed",null);C(this,"wasOffline",!1);U(this,wp,(e,r)=>{const n=e?this.getFile(e.id):void 0;if(e==null||!n){this.log(`Not setting progress for a file that has been removed: ${e==null?void 0:e.id}`);return}if(n.progress.percentage===100){this.log(`Not setting progress for a file that has been already uploaded: ${e.id}`);return}const s={bytesTotal:r.bytesTotal,percentage:r.bytesTotal!=null&&Number.isFinite(r.bytesTotal)&&r.bytesTotal>0?Math.round(r.bytesUploaded/r.bytesTotal*100):void 0};n.progress.uploadStarted!=null?this.setFileState(e.id,{progress:{...n.progress,...s,bytesUploaded:r.bytesUploaded}}):this.setFileState(e.id,{progress:{...n.progress,...s}}),N(this,Ia).call(this)});U(this,Ia,uW(()=>q(this,Ee,$x).call(this),500,{leading:!0,trailing:!0}));U(this,Di,this.updateOnlineStatus.bind(this));U(this,uu,new Map);this.defaultLocale=FW;const r={id:"uppy",autoProceed:!1,allowMultipleUploadBatches:!0,debug:!1,restrictions:zW,meta:{},onBeforeFileAdded:(s,a)=>!Object.hasOwn(a,s.id),onBeforeUpload:s=>s,store:new iF,logger:gq,infoTimeout:5e3},n={...r,...e};this.opts={...n,restrictions:{...r.restrictions,...e==null?void 0:e.restrictions}},e!=null&&e.logger&&e.debug?this.log("You are using a custom `logger`, but also set `debug: true`, which uses built-in logger to output logs to console. Ignoring `debug: true` and using your custom `logger`.","warning"):e!=null&&e.debug&&(this.opts.logger=yq),this.log(`Using Core v${jp.VERSION}`),this.i18nInit(),this.store=this.opts.store,this.setState({..._h,plugins:{},files:{},currentUploads:{},capabilities:{uploadProgress:VW(),individualCancellation:!0,resumableUploads:!1},meta:{...this.opts.meta},info:[]}),B(this,Fn,new BW(()=>this.opts,()=>this.i18n)),B(this,du,this.store.subscribe((s,a,o)=>{this.emit("state-update",s,a,o),this.updateAll(a)})),this.opts.debug&&typeof window<"u"&&(window[this.opts.id]=this),q(this,Ee,yF).call(this)}emit(e,...r){N(this,Oa).emit(e,...r)}on(e,r){return N(this,Oa).on(e,r),this}once(e,r){return N(this,Oa).once(e,r),this}off(e,r){return N(this,Oa).off(e,r),this}updateAll(e){this.iteratePlugins(r=>{r.update(e)})}setState(e){this.store.setState(e)}getState(){return this.store.getState()}patchFilesState(e){const r=this.getState().files;this.setState({files:{...r,...Object.fromEntries(Object.entries(e).map(([n,s])=>[n,{...r[n],...s}]))}})}setFileState(e,r){if(!this.getState().files[e])throw new Error(`Cant set state for ${e} (the file could have been removed)`);this.patchFilesState({[e]:r})}i18nInit(){const e=n=>this.log(`Missing i18n string: ${n}`,"error"),r=new D5([this.defaultLocale,this.opts.locale],{onMissingKey:e});this.i18n=r.translate.bind(r),this.i18nArray=r.translateArray.bind(r),this.locale=r.locale}setOptions(e){this.opts={...this.opts,...e,restrictions:{...this.opts.restrictions,...e==null?void 0:e.restrictions}},e.meta&&this.setMeta(e.meta),this.i18nInit(),e.locale&&this.iteratePlugins(r=>{r.setOptions(e)}),this.setState(void 0)}resetProgress(){const e={percentage:0,bytesUploaded:!1,uploadComplete:!1,uploadStarted:null},r={...this.getState().files},n=Object.create(null);Object.keys(r).forEach(s=>{n[s]={...r[s],progress:{...r[s].progress,...e},tus:void 0,transloadit:void 0}}),this.setState({files:n,..._h})}clear(){const{capabilities:e,currentUploads:r}=this.getState();if(Object.keys(r).length>0&&!e.individualCancellation)throw new Error("The installed uploader plugin does not allow removing files during an upload.");this.setState({..._h,files:{}})}addPreProcessor(e){N(this,xl).add(e)}removePreProcessor(e){return N(this,xl).delete(e)}addPostProcessor(e){N(this,Fa).add(e)}removePostProcessor(e){return N(this,Fa).delete(e)}addUploader(e){N(this,vl).add(e)}removeUploader(e){return N(this,vl).delete(e)}setMeta(e){const r={...this.getState().meta,...e},n={...this.getState().files};Object.keys(n).forEach(s=>{n[s]={...n[s],meta:{...n[s].meta,...e}}}),this.log("Adding metadata:"),this.log(e),this.setState({meta:r,files:n})}setFileMeta(e,r){const n={...this.getState().files};if(!n[e]){this.log(`Was trying to set metadata for a file that has been removed: ${e}`);return}const s={...n[e].meta,...r};n[e]={...n[e],meta:s},this.setState({files:n})}getFile(e){return this.getState().files[e]}getFiles(){const{files:e}=this.getState();return Object.values(e)}getFilesByIds(e){return e.map(r=>this.getFile(r))}getObjectOfFilesPerState(){const{files:e,totalProgress:r,error:n}=this.getState(),s=Object.values(e),a=[],o=[],l=[],c=[],d=[],u=[],h=[],f=[],g=[];for(const j of s){const{progress:m}=j;!m.uploadComplete&&m.uploadStarted&&(a.push(j),j.isPaused||f.push(j)),m.uploadStarted||o.push(j),(m.uploadStarted||m.preprocess||m.postprocess)&&l.push(j),m.uploadStarted&&c.push(j),j.isPaused&&d.push(j),m.uploadComplete&&u.push(j),j.error&&h.push(j),(m.preprocess||m.postprocess)&&g.push(j)}return{newFiles:o,startedFiles:l,uploadStartedFiles:c,pausedFiles:d,completeFiles:u,erroredFiles:h,inProgressFiles:a,inProgressNotPausedFiles:f,processingFiles:g,isUploadStarted:c.length>0,isAllComplete:r===100&&u.length===s.length&&g.length===0,isAllErrored:!!n&&h.length===s.length,isAllPaused:a.length!==0&&d.length===a.length,isUploadInProgress:a.length>0,isSomeGhost:s.some(j=>j.isGhost)}}validateRestrictions(e,r=this.getFiles()){try{N(this,Fn).validate(r,[e])}catch(n){return n}return null}validateSingleFile(e){try{N(this,Fn).validateSingleFile(e)}catch(r){return r.message}return null}validateAggregateRestrictions(e){const r=this.getFiles();try{N(this,Fn).validateAggregateRestrictions(r,e)}catch(n){return n.message}return null}checkIfFileAlreadyExists(e){const{files:r}=this.getState();return!!(r[e]&&!r[e].isGhost)}addFile(e){q(this,Ee,Fx).call(this,e);const{nextFilesState:r,validFilesToAdd:n,errors:s}=q(this,Ee,Mx).call(this,[e]),a=s.filter(l=>l.isRestriction);if(q(this,Ee,ya).call(this,a),s.length>0)throw s[0];this.setState({files:r});const[o]=n;return this.emit("file-added",o),this.emit("files-added",n),this.log(`Added file: ${o.name}, ${o.id}, mime type: ${o.type}`),q(this,Ee,Ix).call(this),o.id}addFiles(e){q(this,Ee,Fx).call(this);const{nextFilesState:r,validFilesToAdd:n,errors:s}=q(this,Ee,Mx).call(this,e),a=s.filter(l=>l.isRestriction);q(this,Ee,ya).call(this,a);const o=s.filter(l=>!l.isRestriction);if(o.length>0){let l=`Multiple errors occurred while adding files:
`;if(o.forEach(c=>{l+=`
 * ${c.message}`}),this.info({message:this.i18n("addBulkFilesFailed",{smart_count:o.length}),details:l},"error",this.opts.infoTimeout),typeof AggregateError=="function")throw new AggregateError(o,l);{const c=new Error(l);throw c.errors=o,c}}this.setState({files:r}),n.forEach(l=>{this.emit("file-added",l)}),this.emit("files-added",n),n.length>5?this.log(`Added batch of ${n.length} files`):Object.values(n).forEach(l=>{this.log(`Added file: ${l.name}
 id: ${l.id}
 type: ${l.type}`)}),n.length>0&&q(this,Ee,Ix).call(this)}removeFiles(e){const{files:r,currentUploads:n}=this.getState(),s={...r},a={...n},o=Object.create(null);e.forEach(u=>{r[u]&&(o[u]=r[u],delete s[u])});function l(u){return o[u]===void 0}Object.keys(a).forEach(u=>{const h=n[u].fileIDs.filter(l);if(h.length===0){delete a[u];return}const{capabilities:f}=this.getState();if(h.length!==n[u].fileIDs.length&&!f.individualCancellation)throw new Error("The installed uploader plugin does not allow removing files during an upload.");a[u]={...n[u],fileIDs:h}});const c={currentUploads:a,files:s};Object.keys(s).length===0&&(c.allowNewUpload=!0,c.error=null,c.recoveredState=null),this.setState(c),N(this,Ia).call(this);const d=Object.keys(o);d.forEach(u=>{this.emit("file-removed",o[u])}),d.length>5?this.log(`Removed ${d.length} files`):this.log(`Removed files: ${d.join(", ")}`)}removeFile(e){this.removeFiles([e])}pauseResume(e){if(!this.getState().capabilities.resumableUploads||this.getFile(e).progress.uploadComplete)return;const r=this.getFile(e),s=!(r.isPaused||!1);return this.setFileState(e,{isPaused:s}),this.emit("upload-pause",r,s),s}pauseAll(){const e={...this.getState().files};Object.keys(e).filter(n=>!e[n].progress.uploadComplete&&e[n].progress.uploadStarted).forEach(n=>{const s={...e[n],isPaused:!0};e[n]=s}),this.setState({files:e}),this.emit("pause-all")}resumeAll(){const e={...this.getState().files};Object.keys(e).filter(n=>!e[n].progress.uploadComplete&&e[n].progress.uploadStarted).forEach(n=>{const s={...e[n],isPaused:!1,error:null};e[n]=s}),this.setState({files:e}),this.emit("resume-all")}async retryAll(){const e=await q(this,Ee,Lx).call(this);return this.emit("complete",e),e}cancelAll(){this.emit("cancel-all");const{files:e}=this.getState(),r=Object.keys(e);r.length&&this.removeFiles(r),this.setState(_h)}retryUpload(e){this.setFileState(e,{error:null,isPaused:!1}),this.emit("upload-retry",this.getFile(e));const r=q(this,Ee,Qc).call(this,[e],{forceAllowNewUpload:!0});return q(this,Ee,Xc).call(this,r)}logout(){this.iteratePlugins(e=>{var r,n;(n=(r=e.provider)==null?void 0:r.logout)==null||n.call(r)})}[Symbol.for("uppy test: updateTotalProgress")](){return q(this,Ee,$x).call(this)}updateOnlineStatus(){window.navigator.onLine??!0?(this.emit("is-online"),this.wasOffline&&(this.emit("back-online"),this.info(this.i18n("connectedToInternet"),"success",3e3),this.wasOffline=!1)):(this.emit("is-offline"),this.info(this.i18n("noInternetConnection"),"error",0),this.wasOffline=!0)}getID(){return this.opts.id}use(e,...r){if(typeof e!="function"){const o=`Expected a plugin class, but got ${e===null?"null":typeof e}. Please verify that the plugin was imported and spelled correctly.`;throw new TypeError(o)}const n=new e(this,...r),s=n.id;if(!s)throw new Error("Your plugin must have an id");if(!n.type)throw new Error("Your plugin must have a type");const a=this.getPlugin(s);if(a){const o=`Already found a plugin named '${a.id}'. Tried to use: '${s}'.
Uppy plugins must have unique \`id\` options.`;throw new Error(o)}return e.VERSION&&this.log(`Using ${s} v${e.VERSION}`),n.type in N(this,On)?N(this,On)[n.type].push(n):N(this,On)[n.type]=[n],n.install(),this.emit("plugin-added",n),this}getPlugin(e){for(const r of Object.values(N(this,On))){const n=r.find(s=>s.id===e);if(n!=null)return n}}[Symbol.for("uppy test: getPlugins")](e){return N(this,On)[e]}iteratePlugins(e){Object.values(N(this,On)).flat(1).forEach(e)}removePlugin(e){this.log(`Removing plugin ${e.id}`),this.emit("plugin-remove",e),e.uninstall&&e.uninstall();const r=N(this,On)[e.type],n=r.findIndex(o=>o.id===e.id);n!==-1&&r.splice(n,1);const a={plugins:{...this.getState().plugins,[e.id]:void 0}};this.setState(a)}destroy(){this.log(`Closing Uppy instance ${this.opts.id}: removing all files and uninstalling plugins`),this.cancelAll(),N(this,du).call(this),this.iteratePlugins(e=>{this.removePlugin(e)}),typeof window<"u"&&window.removeEventListener&&(window.removeEventListener("online",N(this,Di)),window.removeEventListener("offline",N(this,Di)))}hideInfo(){const{info:e}=this.getState();this.setState({info:e.slice(1)}),this.emit("info-hidden")}info(e,r="info",n=3e3){const s=typeof e=="object";this.setState({info:[...this.getState().info,{type:r,message:s?e.message:e,details:s?e.details:null}]}),setTimeout(()=>this.hideInfo(),n),this.emit("info-visible")}log(e,r){const{logger:n}=this.opts;switch(r){case"error":n.error(e);break;case"warning":n.warn(e);break;default:n.debug(e);break}}registerRequestClient(e,r){N(this,uu).set(e,r)}getRequestClientForFile(e){if(!e.remote)throw new Error(`Tried to get RequestClient for a non-remote file ${e.id}`);const r=N(this,uu).get(e.remote.requestClientId);if(r==null)throw new Error(`requestClientId "${e.remote.requestClientId}" not registered for file "${e.id}"`);return r}restore(e){return this.log(`Core: attempting to restore upload "${e}"`),this.getState().currentUploads[e]?q(this,Ee,Xc).call(this,e):(q(this,Ee,cf).call(this,e),Promise.reject(new Error("Nonexistent upload")))}[Symbol.for("uppy test: createUpload")](...e){return q(this,Ee,Qc).call(this,...e)}addResultData(e,r){if(!q(this,Ee,xF).call(this,e)){this.log(`Not setting result for an upload that has been removed: ${e}`);return}const{currentUploads:n}=this.getState(),s={...n[e],result:{...n[e].result,...r}};this.setState({currentUploads:{...n,[e]:s}})}async upload(){var s;(s=N(this,On).uploader)!=null&&s.length||this.log("No uploader type plugins are used","warning");let{files:e}=this.getState();if(q(this,Ee,Dx).call(this).length>0){const a=await q(this,Ee,Lx).call(this);if(!(this.getFiles().filter(l=>l.progress.uploadStarted==null).length>0))return this.emit("complete",a),a;({files:e}=this.getState())}const n=this.opts.onBeforeUpload(e);return n===!1?Promise.reject(new Error("Not starting the upload because onBeforeUpload returned false")):(n&&typeof n=="object"&&(e=n,this.setState({files:e})),Promise.resolve().then(()=>N(this,Fn).validateMinNumberOfFiles(e)).catch(a=>{throw q(this,Ee,ya).call(this,[a]),a}).then(()=>{if(!q(this,Ee,pF).call(this,e))throw new Un(this.i18n("missingRequiredMetaField"))}).catch(a=>{throw a}).then(async()=>{const{currentUploads:a}=this.getState(),o=Object.values(a).flatMap(u=>u.fileIDs),l=[];Object.keys(e).forEach(u=>{const h=this.getFile(u);!h.progress.uploadStarted&&o.indexOf(u)===-1&&l.push(h.id)});const c=q(this,Ee,Qc).call(this,l),d=await q(this,Ee,Xc).call(this,c);return this.emit("complete",d),d}).catch(a=>{throw this.emit("error",a),this.log(a,"error"),a}))}};On=new WeakMap,Fn=new WeakMap,du=new WeakMap,Oa=new WeakMap,xl=new WeakMap,vl=new WeakMap,Fa=new WeakMap,Ee=new WeakSet,ya=function(e){for(const o of e)o.isRestriction?this.emit("restriction-failed",o.file,o):this.emit("error",o,o.file),this.log(o,"warning");const r=e.filter(o=>o.isUserFacing),n=4,s=r.slice(0,n),a=r.slice(n);s.forEach(({message:o,details:l=""})=>{this.info({message:o,details:l},"error",this.opts.infoTimeout)}),a.length>0&&this.info({message:this.i18n("additionalRestrictionsFailed",{count:a.length})})},Ox=function(e){const{missingFields:r,error:n}=N(this,Fn).getMissingRequiredMetaFields(e);return r.length>0?(this.setFileState(e.id,{missingRequiredMetaFields:r}),this.log(n.message),this.emit("restriction-failed",e,n),!1):(r.length===0&&e.missingRequiredMetaFields&&this.setFileState(e.id,{missingRequiredMetaFields:[]}),!0)},pF=function(e){let r=!0;for(const n of Object.values(e))q(this,Ee,Ox).call(this,n)||(r=!1);return r},Fx=function(e){const{allowNewUpload:r}=this.getState();if(r===!1){const n=new Un(this.i18n("noMoreFilesAllowed"),{file:e});throw q(this,Ee,ya).call(this,[n]),n}},mF=function(e){const r=e instanceof File?{name:e.name,type:e.type,size:e.size,data:e}:e,n=lF(r),s=OW(n,r),a=oF(s).extension,o=aH(r,this.getID()),l=r.meta||{};l.name=s,l.type=n;const c=Number.isFinite(r.data.size)?r.data.size:null;return{source:r.source||"",id:o,name:s,extension:a||"",meta:{...this.getState().meta,...l},type:n,data:r.data,progress:{percentage:0,bytesUploaded:!1,bytesTotal:c,uploadComplete:!1,uploadStarted:null},size:c,isGhost:!1,isRemote:r.isRemote||!1,remote:r.remote,preview:r.preview}},Ix=function(){this.opts.autoProceed&&!this.scheduledAutoProceed&&(this.scheduledAutoProceed=setTimeout(()=>{this.scheduledAutoProceed=null,this.upload().catch(e=>{e.isRestriction||this.log(e.stack||e.message||e)})},4))},Mx=function(e){var o;let{files:r}=this.getState(),n={...r};const s=[],a=[];for(const l of e)try{let c=q(this,Ee,mF).call(this,l);const d=(o=r[c.id])==null?void 0:o.isGhost;d&&(c={...r[c.id],isGhost:!1,data:l.data},this.log(`Replaced the blob in the restored ghost file: ${c.name}, ${c.id}`));const u=this.opts.onBeforeFileAdded(c,n);if(r=this.getState().files,n={...r,...n},!u&&this.checkIfFileAlreadyExists(c.id))throw new Un(this.i18n("noDuplicates",{fileName:c.name??this.i18n("unnamed")}),{file:l});if(u===!1&&!d)throw new Un("Cannot add the file because onBeforeFileAdded returned false.",{isUserFacing:!1,file:l});typeof u=="object"&&u!==null&&(c=u),N(this,Fn).validateSingleFile(c),n[c.id]=c,s.push(c)}catch(c){a.push(c)}try{N(this,Fn).validateAggregateRestrictions(Object.values(r),s)}catch(l){return a.push(l),{nextFilesState:r,validFilesToAdd:[],errors:a}}return{nextFilesState:n,validFilesToAdd:s,errors:a}},Dx=function(){const{files:e}=this.getState();return Object.keys(e).filter(r=>e[r].error)},Lx=async function(){const e=q(this,Ee,Dx).call(this),r={...this.getState().files};if(e.forEach(s=>{r[s]={...r[s],isPaused:!1,error:null}}),this.setState({files:r,error:null}),this.emit("retry-all",this.getFilesByIds(e)),e.length===0)return{successful:[],failed:[]};const n=q(this,Ee,Qc).call(this,e,{forceAllowNewUpload:!0});return q(this,Ee,Xc).call(this,n)},wp=new WeakMap,$x=function(){const e=q(this,Ee,gF).call(this);let r=null;e!=null&&(r=Math.round(e*100),r>100?r=100:r<0&&(r=0)),this.emit("progress",r??0),this.setState({totalProgress:r??0})},Ia=new WeakMap,gF=function(){const r=this.getFiles().filter(c=>c.progress.uploadStarted||c.progress.preprocess||c.progress.postprocess);if(r.length===0)return 0;if(r.every(c=>c.progress.uploadComplete))return 1;const n=c=>c.progress.bytesTotal!=null&&c.progress.bytesTotal!==0,s=r.filter(n),a=r.filter(c=>!n(c));if(s.every(c=>c.progress.uploadComplete)&&a.length>0&&!a.every(c=>c.progress.uploadComplete))return null;const o=s.reduce((c,d)=>c+(d.progress.bytesTotal??0),0),l=s.reduce((c,d)=>c+(d.progress.bytesUploaded||0),0);return o===0?0:l/o},yF=function(){const e=(s,a,o)=>{let l=s.message||"Unknown error";s.details&&(l+=` ${s.details}`),this.setState({error:l}),a!=null&&a.id in this.getState().files&&this.setFileState(a.id,{error:l,response:o})};this.on("error",e),this.on("upload-error",(s,a,o)=>{if(e(a,s,o),typeof a=="object"&&a.message){this.log(a.message,"error");const l=new Error(this.i18n("failedToUpload",{file:(s==null?void 0:s.name)??""}));l.isUserFacing=!0,l.details=a.message,a.details&&(l.details+=` ${a.details}`),q(this,Ee,ya).call(this,[l])}else q(this,Ee,ya).call(this,[a])});let r=null;this.on("upload-stalled",(s,a)=>{const{message:o}=s,l=a.map(c=>c.meta.name).join(", ");r||(this.info({message:o,details:l},"warning",this.opts.infoTimeout),r=setTimeout(()=>{r=null},this.opts.infoTimeout)),this.log(`${o} ${l}`.trim(),"warning")}),this.on("upload",()=>{this.setState({error:null})});const n=s=>{const a=s.filter(l=>{const c=l!=null&&this.getFile(l.id);return c||this.log(`Not setting progress for a file that has been removed: ${l==null?void 0:l.id}`),c}),o=Object.fromEntries(a.map(l=>[l.id,{progress:{uploadStarted:Date.now(),uploadComplete:!1,bytesUploaded:0,bytesTotal:l.size}}]));this.patchFilesState(o)};this.on("upload-start",n),this.on("upload-progress",N(this,wp)),this.on("upload-success",(s,a)=>{if(s==null||!this.getFile(s.id)){this.log(`Not setting progress for a file that has been removed: ${s==null?void 0:s.id}`);return}const o=this.getFile(s.id).progress;this.setFileState(s.id,{progress:{...o,postprocess:N(this,Fa).size>0?{mode:"indeterminate"}:void 0,uploadComplete:!0,percentage:100,bytesUploaded:o.bytesTotal},response:a,uploadURL:a.uploadURL,isPaused:!1}),s.size==null&&this.setFileState(s.id,{size:a.bytesUploaded||o.bytesTotal}),N(this,Ia).call(this)}),this.on("preprocess-progress",(s,a)=>{if(s==null||!this.getFile(s.id)){this.log(`Not setting progress for a file that has been removed: ${s==null?void 0:s.id}`);return}this.setFileState(s.id,{progress:{...this.getFile(s.id).progress,preprocess:a}})}),this.on("preprocess-complete",s=>{if(s==null||!this.getFile(s.id)){this.log(`Not setting progress for a file that has been removed: ${s==null?void 0:s.id}`);return}const a={...this.getState().files};a[s.id]={...a[s.id],progress:{...a[s.id].progress}},delete a[s.id].progress.preprocess,this.setState({files:a})}),this.on("postprocess-progress",(s,a)=>{if(s==null||!this.getFile(s.id)){this.log(`Not setting progress for a file that has been removed: ${s==null?void 0:s.id}`);return}this.setFileState(s.id,{progress:{...this.getState().files[s.id].progress,postprocess:a}})}),this.on("postprocess-complete",s=>{if(s==null||!this.getFile(s.id)){this.log(`Not setting progress for a file that has been removed: ${s==null?void 0:s.id}`);return}const a={...this.getState().files};a[s.id]={...a[s.id],progress:{...a[s.id].progress}},delete a[s.id].progress.postprocess,this.setState({files:a})}),this.on("restored",()=>{N(this,Ia).call(this)}),this.on("dashboard:file-edit-complete",s=>{s&&q(this,Ee,Ox).call(this,s)}),typeof window<"u"&&window.addEventListener&&(window.addEventListener("online",N(this,Di)),window.addEventListener("offline",N(this,Di)),setTimeout(N(this,Di),3e3))},Di=new WeakMap,uu=new WeakMap,Qc=function(e,r={}){const{forceAllowNewUpload:n=!1}=r,{allowNewUpload:s,currentUploads:a}=this.getState();if(!s&&!n)throw new Error("Cannot create a new upload: already uploading.");const o=mW();return this.emit("upload",o,this.getFilesByIds(e)),this.setState({allowNewUpload:this.opts.allowMultipleUploadBatches!==!1&&this.opts.allowMultipleUploads!==!1,currentUploads:{...a,[o]:{fileIDs:e,step:0,result:{}}}}),o},xF=function(e){const{currentUploads:r}=this.getState();return r[e]},cf=function(e){const r={...this.getState().currentUploads};delete r[e],this.setState({currentUploads:r})},Xc=async function(e){const r=()=>{const{currentUploads:o}=this.getState();return o[e]};let n=r();const s=[...N(this,xl),...N(this,vl),...N(this,Fa)];try{for(let o=n.step||0;o<s.length&&n;o++){const l=s[o];this.setState({currentUploads:{...this.getState().currentUploads,[e]:{...n,step:o}}});const{fileIDs:c}=n;await l(c,e),n=r()}}catch(o){throw q(this,Ee,cf).call(this,e),o}if(n){n.fileIDs.forEach(d=>{const u=this.getFile(d);u!=null&&u.progress.postprocess&&this.emit("postprocess-complete",u)});const o=n.fileIDs.map(d=>this.getFile(d)),l=o.filter(d=>!d.error),c=o.filter(d=>d.error);this.addResultData(e,{successful:l,failed:c,uploadID:e}),n=r()}let a;return n&&(a=n.result,q(this,Ee,cf).call(this,e)),a==null&&(this.log(`Not setting result for an upload that has been removed: ${e}`),a={successful:[],failed:[],uploadID:e}),a},C(jp,"VERSION",RW.version);let Rx=jp;var qW=0;function _(t,e,r,n,s,a){e||(e={});var o,l,c=e;if("ref"in c)for(l in c={},e)l=="ref"?o=e[l]:c[l]=e[l];var d={type:t,props:c,key:r,ref:o,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--qW,__i:-1,__u:0,__source:s,__self:a};if(typeof t=="function"&&(o=t.defaultProps))for(l in o)c[l]===void 0&&(c[l]=o[l]);return ze.vnode&&ze.vnode(d),d}const HW="@uppy/informer",WW="A notification and error pop-up bar for Uppy.",GW="4.3.2",KW="MIT",QW="lib/index.js",XW="dist/style.min.css",ZW="module",YW={build:"tsc --build tsconfig.build.json","build:css":"sass --load-path=../../ src/style.scss dist/style.css && postcss dist/style.css -u cssnano -o dist/style.min.css",typecheck:"tsc --build"},JW=["file uploader","uppy","uppy-plugin","notification","bar","ui"],eG="https://uppy.io",tG={url:"https://github.com/transloadit/uppy/issues"},rG={type:"git",url:"git+https://github.com/transloadit/uppy.git"},nG=["src","lib","dist","CHANGELOG.md"],sG={"@uppy/utils":"^6.2.2",preact:"^10.5.13"},iG={"@uppy/core":"^4.5.2"},aG={cssnano:"^7.0.7",postcss:"^8.5.6","postcss-cli":"^11.0.1",sass:"^1.89.2",typescript:"^5.8.3"},oG={name:HW,description:WW,version:GW,license:KW,main:QW,style:XW,type:ZW,scripts:YW,keywords:JW,homepage:eG,bugs:tG,repository:rG,files:nG,dependencies:sG,peerDependencies:iG,devDependencies:aG},Pj=300;class lG extends qr{constructor(){super(...arguments);C(this,"ref",bq())}componentWillEnter(r){this.ref.current.style.opacity="1",this.ref.current.style.transform="none",setTimeout(r,Pj)}componentWillLeave(r){this.ref.current.style.opacity="0",this.ref.current.style.transform="translateY(350%)",setTimeout(r,Pj)}render(){const{children:r}=this.props;return _("div",{className:"uppy-Informer-animated",ref:this.ref,children:r})}}function cG(t,e){return Object.assign(t,e)}function dG(t,e){return(t==null?void 0:t.key)??e}function uG(t,e){const r=t._ptgLinkedRefs||(t._ptgLinkedRefs={});return r[e]||(r[e]=n=>{t.refs[e]=n})}function Mc(t){const e={};for(let r=0;r<t.length;r++)if(t[r]!=null){const n=dG(t[r],r.toString(36));e[n]=t[r]}return e}function hG(t,e){t=t||{},e=e||{};const r=o=>Object.hasOwn(e,o)?e[o]:t[o],n={};let s=[];for(const o in t)Object.hasOwn(e,o)?s.length&&(n[o]=s,s=[]):s.push(o);const a={};for(const o in e){if(Object.hasOwn(n,o))for(let l=0;l<n[o].length;l++){const c=n[o][l];a[n[o][l]]=r(c)}a[o]=r(o)}for(let o=0;o<s.length;o++)a[s[o]]=r(s[o]);return a}const fG=t=>t;class vF extends qr{constructor(e,r){super(e,r),this.refs={},this.state={children:Mc(Wn(Wn(this.props.children))||[])},this.performAppear=this.performAppear.bind(this),this.performEnter=this.performEnter.bind(this),this.performLeave=this.performLeave.bind(this)}componentWillMount(){this.currentlyTransitioningKeys={},this.keysToAbortLeave=[],this.keysToEnter=[],this.keysToLeave=[]}componentDidMount(){const e=this.state.children;for(const r in e)e[r]&&this.performAppear(r)}componentWillReceiveProps(e){const r=Mc(Wn(e.children)||[]),n=this.state.children;this.setState(a=>({children:hG(a.children,r)}));let s;for(s in r)if(Object.hasOwn(r,s)){const a=n&&Object.hasOwn(n,s);r[s]&&a&&this.currentlyTransitioningKeys[s]?(this.keysToEnter.push(s),this.keysToAbortLeave.push(s)):r[s]&&!a&&!this.currentlyTransitioningKeys[s]&&this.keysToEnter.push(s)}for(s in n)if(Object.hasOwn(n,s)){const a=r&&Object.hasOwn(r,s);n[s]&&!a&&!this.currentlyTransitioningKeys[s]&&this.keysToLeave.push(s)}}componentDidUpdate(){const{keysToEnter:e}=this;this.keysToEnter=[],e.forEach(this.performEnter);const{keysToLeave:r}=this;this.keysToLeave=[],r.forEach(this.performLeave)}_finishAbort(e){const r=this.keysToAbortLeave.indexOf(e);r!==-1&&this.keysToAbortLeave.splice(r,1)}performAppear(e){this.currentlyTransitioningKeys[e]=!0;const r=this.refs[e];r!=null&&r.componentWillAppear?r.componentWillAppear(this._handleDoneAppearing.bind(this,e)):this._handleDoneAppearing(e)}_handleDoneAppearing(e){const r=this.refs[e];r!=null&&r.componentDidAppear&&r.componentDidAppear(),delete this.currentlyTransitioningKeys[e],this._finishAbort(e);const n=Mc(Wn(this.props.children)||[]);(!n||!Object.hasOwn(n,e))&&this.performLeave(e)}performEnter(e){this.currentlyTransitioningKeys[e]=!0;const r=this.refs[e];r!=null&&r.componentWillEnter?r.componentWillEnter(this._handleDoneEntering.bind(this,e)):this._handleDoneEntering(e)}_handleDoneEntering(e){const r=this.refs[e];r!=null&&r.componentDidEnter&&r.componentDidEnter(),delete this.currentlyTransitioningKeys[e],this._finishAbort(e);const n=Mc(Wn(this.props.children)||[]);(!n||!Object.hasOwn(n,e))&&this.performLeave(e)}performLeave(e){if(this.keysToAbortLeave.indexOf(e)!==-1)return;this.currentlyTransitioningKeys[e]=!0;const n=this.refs[e];n!=null&&n.componentWillLeave?n.componentWillLeave(this._handleDoneLeaving.bind(this,e)):this._handleDoneLeaving(e)}_handleDoneLeaving(e){if(this.keysToAbortLeave.indexOf(e)!==-1)return;const n=this.refs[e];n!=null&&n.componentDidLeave&&n.componentDidLeave(),delete this.currentlyTransitioningKeys[e];const s=Mc(Wn(this.props.children)||[]);if(s&&Object.hasOwn(s,e))this.performEnter(e);else{const a=cG({},this.state.children);delete a[e],this.setState({children:a})}}render({childFactory:e,transitionLeave:r,transitionName:n,transitionAppear:s,transitionEnter:a,transitionLeaveTimeout:o,transitionEnterTimeout:l,transitionAppearTimeout:c,component:d,...u},{children:h}){const f=Object.entries(h).map(([g,j])=>{if(!j)return;const m=uG(this,g);return Y5(e(j),{ref:m,key:g})}).filter(Boolean);return Jd(d,u,f)}}vF.defaultProps={component:"span",childFactory:fG};class bF extends sc{constructor(r,n){super(r,n);C(this,"render",r=>_("div",{className:"uppy uppy-Informer",children:_(vF,{children:r.info.map(n=>_(lG,{children:_("p",{role:"alert",children:[n.message," ",n.details&&_("span",{"aria-label":n.details,"data-microtip-position":"top-left","data-microtip-size":"medium",role:"tooltip",onClick:()=>alert(`${n.message} 

 ${n.details}`),children:"?"})]})},n.message))})}));this.type="progressindicator",this.id=this.opts.id||"Informer",this.title="Informer"}install(){const{target:r}=this.opts;r&&this.mount(r,this)}}C(bF,"VERSION",oG.version);var wF={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function r(){for(var a="",o=0;o<arguments.length;o++){var l=arguments[o];l&&(a=s(a,n(l)))}return a}function n(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return r.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var o="";for(var l in a)e.call(a,l)&&a[l]&&(o=s(o,l));return o}function s(a,o){return o?a?a+" "+o:a+o:a}t.exports?(r.default=r,t.exports=r):window.classNames=r})()})(wF);var pG=wF.exports;const is=pi(pG),mG={position:"relative",width:"100%",minHeight:"100%"},gG={position:"absolute",top:0,left:0,width:"100%",overflow:"visible"};class yG extends qr{constructor(r){super(r);C(this,"handleScroll",()=>{this.setState({offset:this.base.scrollTop})});C(this,"handleResize",()=>{this.resize()});this.focusElement=null,this.state={offset:0,height:0}}componentDidMount(){this.resize(),window.addEventListener("resize",this.handleResize)}componentWillUpdate(){this.base.contains(document.activeElement)&&(this.focusElement=document.activeElement)}componentDidUpdate(){var r;(r=this.focusElement)!=null&&r.parentNode&&document.activeElement!==this.focusElement&&this.focusElement.focus(),this.focusElement=null,this.resize()}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}resize(){const{height:r}=this.state;r!==this.base.offsetHeight&&this.setState({height:this.base.offsetHeight})}render({data:r,rowHeight:n,renderRow:s,overscanCount:a=10,...o}){const{offset:l,height:c}=this.state;let d=Math.floor(l/n),u=Math.floor(c/n);a&&(d=Math.max(0,d-d%a),u+=a);const h=d+u+4,f=r.slice(d,h),g={...mG,height:r.length*n},j={...gG,top:d*n};return _("div",{onScroll:this.handleScroll,...o,children:_("div",{role:"presentation",style:g,children:_("div",{role:"presentation",style:j,children:f.map(s)})})})}}function xG(){return _("svg",{"aria-hidden":"true",focusable:"false",width:"30",height:"30",viewBox:"0 0 30 30",children:_("path",{d:"M15 30c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15C6.716 0 0 6.716 0 15c0 8.284 6.716 15 15 15zm4.258-12.676v6.846h-8.426v-6.846H5.204l9.82-12.364 9.82 12.364H19.26z"})})}function Aj(t,e,r,n){return t===e?t:n===0?e:t+(e-t)*2**(-n/r)}const vG="@uppy/status-bar",bG="A progress bar for Uppy, with many bells and whistles.",wG="4.2.3",jG="MIT",NG="lib/index.js",SG="dist/style.min.css",CG="module",_G={build:"tsc --build tsconfig.build.json","build:css":"sass --load-path=../../ src/style.scss dist/style.css && postcss dist/style.css -u cssnano -o dist/style.min.css",typecheck:"tsc --build"},EG=["file uploader","uppy","uppy-plugin","progress bar","status bar","progress","upload","eta","speed"],TG="https://uppy.io",kG={url:"https://github.com/transloadit/uppy/issues"},PG={type:"git",url:"git+https://github.com/transloadit/uppy.git"},AG=["src","lib","dist","CHANGELOG.md"],RG={"@transloadit/prettier-bytes":"^0.3.4","@uppy/utils":"^6.2.2",classnames:"^2.2.6",preact:"^10.5.13"},OG={"@uppy/core":"^4.5.2"},FG={cssnano:"^7.0.7",postcss:"^8.5.6","postcss-cli":"^11.0.1",sass:"^1.89.2",typescript:"^5.8.3"},IG={name:vG,description:bG,version:wG,license:jG,main:NG,style:SG,type:CG,scripts:_G,keywords:EG,homepage:TG,bugs:kG,repository:PG,files:AG,dependencies:RG,peerDependencies:OG,devDependencies:FG},MG={strings:{uploading:"Uploading",complete:"Complete",uploadFailed:"Upload failed",paused:"Paused",retry:"Retry",cancel:"Cancel",pause:"Pause",resume:"Resume",done:"Done",filesUploadedOfTotal:{0:"%{complete} of %{smart_count} file uploaded",1:"%{complete} of %{smart_count} files uploaded"},dataUploadedOfTotal:"%{complete} of %{total}",dataUploadedOfUnknown:"%{complete} of unknown",xTimeLeft:"%{time} left",uploadXFiles:{0:"Upload %{smart_count} file",1:"Upload %{smart_count} files"},uploadXNewFiles:{0:"Upload +%{smart_count} file",1:"Upload +%{smart_count} files"},upload:"Upload",retryUpload:"Retry upload",xMoreFilesAdded:{0:"%{smart_count} more file added",1:"%{smart_count} more files added"},showErrorDetails:"Show error details"}},ms={STATE_ERROR:"error",STATE_WAITING:"waiting",STATE_PREPROCESSING:"preprocessing",STATE_UPLOADING:"uploading",STATE_POSTPROCESSING:"postprocessing",STATE_COMPLETE:"complete"};function DG(t){const e=Math.floor(t/3600)%24,r=Math.floor(t/60)%60,n=Math.floor(t%60);return{hours:e,minutes:r,seconds:n}}function LG(t){const e=DG(t),r=e.hours===0?"":`${e.hours}h`,n=e.minutes===0?"":`${e.hours===0?e.minutes:` ${e.minutes.toString(10).padStart(2,"0")}`}m`,s=e.hours!==0?"":`${e.minutes===0?e.seconds:` ${e.seconds.toString(10).padStart(2,"0")}`}s`;return`${r}${n}${s}`}const $G="",Rj=()=>` ${$G} `;function UG(t){const{newFiles:e,isUploadStarted:r,recoveredState:n,i18n:s,uploadState:a,isSomeGhost:o,startUpload:l}=t,c=is("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--upload",{"uppy-c-btn-primary":a===ms.STATE_WAITING},{"uppy-StatusBar-actionBtn--disabled":o}),d=e&&r&&!n?s("uploadXNewFiles",{smart_count:e}):s("uploadXFiles",{smart_count:e});return _("button",{type:"button",className:c,"aria-label":s("uploadXFiles",{smart_count:e}),onClick:l,disabled:o,"data-uppy-super-focusable":!0,children:d})}function zG(t){const{i18n:e,uppy:r}=t;return _("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--retry","aria-label":e("retryUpload"),onClick:()=>r.retryAll().catch(()=>{}),"data-uppy-super-focusable":!0,"data-cy":"retry",children:[_("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"8",height:"10",viewBox:"0 0 8 10",children:_("path",{d:"M4 2.408a2.75 2.75 0 1 0 2.75 2.75.626.626 0 0 1 1.25.018v.023a4 4 0 1 1-4-4.041V.25a.25.25 0 0 1 .389-.208l2.299 1.533a.25.25 0 0 1 0 .416l-2.3 1.533A.25.25 0 0 1 4 3.316v-.908z"})}),e("retry")]})}function BG(t){const{i18n:e,uppy:r}=t;return _("button",{type:"button",className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",title:e("cancel"),"aria-label":e("cancel"),onClick:()=>r.cancelAll(),"data-cy":"cancel","data-uppy-super-focusable":!0,children:_("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16",children:_("g",{fill:"none",fillRule:"evenodd",children:[_("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),_("path",{fill:"#FFF",d:"M9.283 8l2.567 2.567-1.283 1.283L8 9.283 5.433 11.85 4.15 10.567 6.717 8 4.15 5.433 5.433 4.15 8 6.717l2.567-2.567 1.283 1.283z"})]})})})}function VG(t){const{isAllPaused:e,i18n:r,isAllComplete:n,resumableUploads:s,uppy:a}=t,o=r(e?"resume":"pause");function l(){if(!n){if(!s){a.cancelAll();return}if(e){a.resumeAll();return}a.pauseAll()}}return _("button",{title:o,"aria-label":o,className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",type:"button",onClick:l,"data-cy":"togglePauseResume","data-uppy-super-focusable":!0,children:_("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16",children:_("g",{fill:"none",fillRule:"evenodd",children:[_("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),_("path",{fill:"#FFF",d:e?"M6 4.25L11.5 8 6 11.75z":"M5 4.5h2v7H5v-7zm4 0h2v7H9v-7z"})]})})})}function qG(t){const{i18n:e,doneButtonHandler:r}=t;return _("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--done",onClick:r,"data-uppy-super-focusable":!0,children:e("done")})}function jF(){return _("svg",{className:"uppy-StatusBar-spinner","aria-hidden":"true",focusable:"false",width:"14",height:"14",children:_("path",{d:"M13.983 6.547c-.12-2.509-1.64-4.893-3.939-5.936-2.48-1.127-5.488-.656-7.556 1.094C.524 3.367-.398 6.048.162 8.562c.556 2.495 2.46 4.52 4.94 5.183 2.932.784 5.61-.602 7.256-3.015-1.493 1.993-3.745 3.309-6.298 2.868-2.514-.434-4.578-2.349-5.153-4.84a6.226 6.226 0 0 1 2.98-6.778C6.34.586 9.74 1.1 11.373 3.493c.407.596.693 1.282.842 1.988.127.598.073 1.197.161 1.794.078.525.543 1.257 1.15.864.525-.341.49-1.05.456-1.592-.007-.15.02.3 0 0",fillRule:"evenodd"})})}function HG(t){const{progress:e}=t,{value:r,mode:n,message:s}=e;return _("div",{className:"uppy-StatusBar-content",children:[_(jF,{}),n==="determinate"?`${Math.round(r*100)}%  `:"",s]})}function WG(t){const{numUploads:e,complete:r,totalUploadedSize:n,totalSize:s,totalETA:a,i18n:o}=t,l=e>1,c=Ca(n);return _("div",{className:"uppy-StatusBar-statusSecondary",children:[l&&o("filesUploadedOfTotal",{complete:r,smart_count:e}),_("span",{className:"uppy-StatusBar-additionalInfo",children:[l&&Rj(),s!=null?o("dataUploadedOfTotal",{complete:c,total:Ca(s)}):o("dataUploadedOfUnknown",{complete:c}),Rj(),a!=null&&o("xTimeLeft",{time:LG(a)})]})]})}function NF(t){const{i18n:e,complete:r,numUploads:n}=t;return _("div",{className:"uppy-StatusBar-statusSecondary",children:e("filesUploadedOfTotal",{complete:r,smart_count:n})})}function GG(t){const{i18n:e,newFiles:r,startUpload:n}=t,s=is("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--uploadNewlyAdded");return _("div",{className:"uppy-StatusBar-statusSecondary",children:[_("div",{className:"uppy-StatusBar-statusSecondaryHint",children:e("xMoreFilesAdded",{smart_count:r})}),_("button",{type:"button",className:s,"aria-label":e("uploadXFiles",{smart_count:r}),onClick:n,children:e("upload")})]})}function KG(t){const{i18n:e,supportsUploadProgress:r,totalProgress:n,showProgressDetails:s,isUploadStarted:a,isAllComplete:o,isAllPaused:l,newFiles:c,numUploads:d,complete:u,totalUploadedSize:h,totalSize:f,totalETA:g,startUpload:j}=t,m=c&&a;if(!a||o)return null;const v=e(l?"paused":"uploading");function w(){return!l&&!m&&s?r?_(WG,{numUploads:d,complete:u,totalUploadedSize:h,totalSize:f,totalETA:g,i18n:e}):_(NF,{i18n:e,complete:u,numUploads:d}):null}return _("div",{className:"uppy-StatusBar-content",title:v,children:[l?null:_(jF,{}),_("div",{className:"uppy-StatusBar-status",children:[_("div",{className:"uppy-StatusBar-statusPrimary",children:r&&n!==0?`${v}: ${n}%`:v}),w(),m?_(GG,{i18n:e,newFiles:c,startUpload:j}):null]})]})}function QG(t){const{i18n:e}=t;return _("div",{className:"uppy-StatusBar-content",role:"status",title:e("complete"),children:_("div",{className:"uppy-StatusBar-status",children:_("div",{className:"uppy-StatusBar-statusPrimary",children:[_("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"15",height:"11",viewBox:"0 0 15 11",children:_("path",{d:"M.414 5.843L1.627 4.63l3.472 3.472L13.202 0l1.212 1.213L5.1 10.528z"})}),e("complete")]})})})}function XG(t){const{error:e,i18n:r,complete:n,numUploads:s}=t;function a(){const o=`${r("uploadFailed")} 

 ${e}`;alert(o)}return _("div",{className:"uppy-StatusBar-content",title:r("uploadFailed"),children:[_("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"11",height:"11",viewBox:"0 0 11 11",children:_("path",{d:"M4.278 5.5L0 1.222 1.222 0 5.5 4.278 9.778 0 11 1.222 6.722 5.5 11 9.778 9.778 11 5.5 6.722 1.222 11 0 9.778z"})}),_("div",{className:"uppy-StatusBar-status",children:[_("div",{className:"uppy-StatusBar-statusPrimary",children:[r("uploadFailed"),_("button",{className:"uppy-u-reset uppy-StatusBar-details","aria-label":r("showErrorDetails"),"data-microtip-position":"top-right","data-microtip-size":"medium",onClick:a,type:"button",children:"?"})]}),_(NF,{i18n:r,complete:n,numUploads:s})]})]})}function kg(t){const e=[];let r="indeterminate",n;for(const{progress:a}of Object.values(t)){const{preprocess:o,postprocess:l}=a;n==null&&(o||l)&&({mode:r,message:n}=o||l),(o==null?void 0:o.mode)==="determinate"&&e.push(o.value),(l==null?void 0:l.mode)==="determinate"&&e.push(l.value)}const s=e.reduce((a,o)=>a+o/e.length,0);return{mode:r,message:n,value:s}}const{STATE_ERROR:Oj,STATE_WAITING:ZG,STATE_PREPROCESSING:Pg,STATE_UPLOADING:Eh,STATE_POSTPROCESSING:Ag,STATE_COMPLETE:Th}=ms;function YG({newFiles:t,allowNewUpload:e,isUploadInProgress:r,isAllPaused:n,resumableUploads:s,error:a,hideUploadButton:o=void 0,hidePauseResumeButton:l=!1,hideCancelButton:c=!1,hideRetryButton:d=!1,recoveredState:u,uploadState:h,totalProgress:f,files:g,supportsUploadProgress:j,hideAfterFinish:m=!1,isSomeGhost:v,doneButtonHandler:w=void 0,isUploadStarted:y,i18n:x,startUpload:b,uppy:E,isAllComplete:k,showProgressDetails:T=void 0,numUploads:A,complete:O,totalSize:M,totalETA:G,totalUploadedSize:L}){function R(){switch(h){case Ag:case Pg:{const Re=kg(g);return Re.mode==="determinate"?Re.value*100:f}case Oj:return null;case Eh:return j?f:null;default:return f}}function I(){switch(h){case Ag:case Pg:{const{mode:Re}=kg(g);return Re==="indeterminate"}case Eh:return!j;default:return!1}}const ae=R(),J=ae??100,ce=!a&&t&&(!r&&!n||u)&&e&&!o,F=!c&&h!==ZG&&h!==Th,$=s&&!l&&h===Eh,W=a&&!k&&!d,ne=w&&h===Th,Ce=is("uppy-StatusBar-progress",{"is-indeterminate":I()}),ut=is("uppy-StatusBar",`is-${h}`,{"has-ghosts":v}),tt=(()=>{switch(h){case Pg:case Ag:return _(HG,{progress:kg(g)});case Th:return _(QG,{i18n:x});case Oj:return _(XG,{error:a,i18n:x,numUploads:A,complete:O});case Eh:return _(KG,{i18n:x,supportsUploadProgress:j,totalProgress:f,showProgressDetails:T,isUploadStarted:y,isAllComplete:k,isAllPaused:n,newFiles:t,numUploads:A,complete:O,totalUploadedSize:L,totalSize:M,totalETA:G,startUpload:b});default:return null}})();return!(ce||W||$||F||ne)&&!tt||h===Th&&m?null:_("div",{className:ut,children:[_("div",{className:Ce,style:{width:`${J}%`},role:"progressbar","aria-label":`${J}%`,"aria-valuetext":`${J}%`,"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":ae}),tt,_("div",{className:"uppy-StatusBar-actions",children:[ce?_(UG,{newFiles:t,isUploadStarted:y,recoveredState:u,i18n:x,isSomeGhost:v,startUpload:b,uploadState:h}):null,W?_(zG,{i18n:x,uppy:E}):null,$?_(VG,{isAllPaused:n,i18n:x,isAllComplete:k,resumableUploads:s,uppy:E}):null,F?_(BG,{i18n:x,uppy:E}):null,ne?_(qG,{i18n:x,doneButtonHandler:w}):null]})]})}const JG=2e3,eK=2e3;function tK(t,e,r,n){if(t)return ms.STATE_ERROR;if(e)return ms.STATE_COMPLETE;if(r)return ms.STATE_WAITING;let s=ms.STATE_WAITING;const a=Object.keys(n);for(let o=0;o<a.length;o++){const{progress:l}=n[a[o]];if(l.uploadStarted&&!l.uploadComplete)return ms.STATE_UPLOADING;l.preprocess&&(s=ms.STATE_PREPROCESSING),l.postprocess&&s!==ms.STATE_PREPROCESSING&&(s=ms.STATE_POSTPROCESSING)}return s}const rK={hideUploadButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideCancelButton:!1,showProgressDetails:!1,hideAfterFinish:!0,doneButtonHandler:null};var Ug,Li,$i,Ma,Ks,Np,SF,hu;let nK=(Ug=class extends sc{constructor(r,n){super(r,{...rK,...n});U(this,Np);U(this,Li);U(this,$i);U(this,Ma);U(this,Ks);C(this,"startUpload",()=>this.uppy.upload().catch(()=>{}));U(this,hu,()=>{const{recoveredState:r}=this.uppy.getState();if(B(this,Ma,null),B(this,Ks,null),r){B(this,$i,Object.values(r.files).reduce((n,{progress:s})=>n+s.bytesUploaded,0)),this.uppy.emit("restore-confirmed");return}B(this,Li,performance.now()),B(this,$i,0)});this.id=this.opts.id||"StatusBar",this.title="StatusBar",this.type="progressindicator",this.defaultLocale=MG,this.i18nInit(),this.render=this.render.bind(this),this.install=this.install.bind(this)}render(r){const{capabilities:n,files:s,allowNewUpload:a,totalProgress:o,error:l,recoveredState:c}=r,{newFiles:d,startedFiles:u,completeFiles:h,isUploadStarted:f,isAllComplete:g,isAllPaused:j,isUploadInProgress:m,isSomeGhost:v}=this.uppy.getObjectOfFilesPerState(),w=c?Object.values(s):d,y=!!n.resumableUploads,x=n.uploadProgress!==!1;let b=null,E=0;u.every(T=>T.progress.bytesTotal!=null&&T.progress.bytesTotal!==0)?(b=0,u.forEach(T=>{b+=T.progress.bytesTotal||0,E+=T.progress.bytesUploaded||0})):u.forEach(T=>{E+=T.progress.bytesUploaded||0});const k=q(this,Np,SF).call(this,{uploaded:E,total:b});return YG({error:l,uploadState:tK(l,g,c,r.files||{}),allowNewUpload:a,totalProgress:o,totalSize:b,totalUploadedSize:E,isAllComplete:!1,isAllPaused:j,isUploadStarted:f,isUploadInProgress:m,isSomeGhost:v,recoveredState:c,complete:h.length,newFiles:w.length,numUploads:u.length,totalETA:k,files:s,i18n:this.i18n,uppy:this.uppy,startUpload:this.startUpload,doneButtonHandler:this.opts.doneButtonHandler,resumableUploads:y,supportsUploadProgress:x,showProgressDetails:this.opts.showProgressDetails,hideUploadButton:this.opts.hideUploadButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,hideCancelButton:this.opts.hideCancelButton,hideAfterFinish:this.opts.hideAfterFinish})}onMount(){const r=this.el;U5(r)||(r.dir="ltr")}install(){const{target:r}=this.opts;r&&this.mount(r,this),this.uppy.on("upload",N(this,hu)),B(this,Li,performance.now()),B(this,$i,this.uppy.getFiles().reduce((n,s)=>n+s.progress.bytesUploaded,0))}uninstall(){this.unmount(),this.uppy.off("upload",N(this,hu))}},Li=new WeakMap,$i=new WeakMap,Ma=new WeakMap,Ks=new WeakMap,Np=new WeakSet,SF=function(r){if(r.total==null||r.total===0)return null;const n=r.total-r.uploaded;if(n<=0)return null;N(this,Li)??B(this,Li,performance.now());const s=performance.now()-N(this,Li);if(s===0)return Math.round((N(this,Ks)??0)/100)/10;const a=r.uploaded-N(this,$i);if(B(this,$i,r.uploaded),a<=0)return Math.round((N(this,Ks)??0)/100)/10;const o=a/s,l=N(this,Ma)==null?o:Aj(o,N(this,Ma),JG,s);B(this,Ma,l);const c=n/l,d=Math.max(N(this,Ks)-s,0),u=N(this,Ks)==null?c:Aj(c,d,eK,s);return B(this,Ks,u),B(this,Li,performance.now()),Math.round(u/100)/10},hu=new WeakMap,C(Ug,"VERSION",IG.version),Ug);const sK=/^data:([^/]+\/[^,;]+(?:[^,]*?))(;base64)?,([\s\S]*)$/;function iK(t,e,r){const n=sK.exec(t),s=e.mimeType??(n==null?void 0:n[1])??"plain/text";let a;if((n==null?void 0:n[2])!=null){const o=atob(decodeURIComponent(n[3])),l=new Uint8Array(o.length);for(let c=0;c<o.length;c++)l[c]=o.charCodeAt(c);a=[l]}else(n==null?void 0:n[3])!=null&&(a=[decodeURIComponent(n[3])]);return new Blob(a,{type:s})}function Fj(t){return t.startsWith("blob:")}function Ij(t){return t?/^[^/]+\/(jpe?g|gif|png|svg|svg\+xml|bmp|webp|avif)$/.test(t):!1}function it(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var CF=typeof self<"u"?self:global;const ru=typeof navigator<"u",aK=ru&&typeof HTMLImageElement>"u",Mj=!(typeof global>"u"||typeof process>"u"||!process.versions||!process.versions.node),_F=CF.Buffer,EF=!!_F,oK=t=>t!==void 0;function TF(t){return t===void 0||(t instanceof Map?t.size===0:Object.values(t).filter(oK).length===0)}function Qt(t){let e=new Error(t);throw delete e.stack,e}function Dj(t){let e=function(r){let n=0;return r.ifd0.enabled&&(n+=1024),r.exif.enabled&&(n+=2048),r.makerNote&&(n+=2048),r.userComment&&(n+=1024),r.gps.enabled&&(n+=512),r.interop.enabled&&(n+=100),r.ifd1.enabled&&(n+=1024),n+2048}(t);return t.jfif.enabled&&(e+=50),t.xmp.enabled&&(e+=2e4),t.iptc.enabled&&(e+=14e3),t.icc.enabled&&(e+=6e3),e}const Rg=t=>String.fromCharCode.apply(null,t),Lj=typeof TextDecoder<"u"?new TextDecoder("utf-8"):void 0;class Qn{static from(e,r){return e instanceof this&&e.le===r?e:new Qn(e,void 0,void 0,r)}constructor(e,r=0,n,s){if(typeof s=="boolean"&&(this.le=s),Array.isArray(e)&&(e=new Uint8Array(e)),e===0)this.byteOffset=0,this.byteLength=0;else if(e instanceof ArrayBuffer){n===void 0&&(n=e.byteLength-r);let a=new DataView(e,r,n);this._swapDataView(a)}else if(e instanceof Uint8Array||e instanceof DataView||e instanceof Qn){n===void 0&&(n=e.byteLength-r),(r+=e.byteOffset)+n>e.byteOffset+e.byteLength&&Qt("Creating view outside of available memory in ArrayBuffer");let a=new DataView(e.buffer,r,n);this._swapDataView(a)}else if(typeof e=="number"){let a=new DataView(new ArrayBuffer(e));this._swapDataView(a)}else Qt("Invalid input argument for BufferView: "+e)}_swapArrayBuffer(e){this._swapDataView(new DataView(e))}_swapBuffer(e){this._swapDataView(new DataView(e.buffer,e.byteOffset,e.byteLength))}_swapDataView(e){this.dataView=e,this.buffer=e.buffer,this.byteOffset=e.byteOffset,this.byteLength=e.byteLength}_lengthToEnd(e){return this.byteLength-e}set(e,r,n=Qn){return e instanceof DataView||e instanceof Qn?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer&&(e=new Uint8Array(e)),e instanceof Uint8Array||Qt("BufferView.set(): Invalid data argument."),this.toUint8().set(e,r),new n(this,r,e.byteLength)}subarray(e,r){return r=r||this._lengthToEnd(e),new Qn(this,e,r)}toUint8(){return new Uint8Array(this.buffer,this.byteOffset,this.byteLength)}getUint8Array(e,r){return new Uint8Array(this.buffer,this.byteOffset+e,r)}getString(e=0,r=this.byteLength){return s=this.getUint8Array(e,r),Lj?Lj.decode(s):EF?Buffer.from(s).toString("utf8"):decodeURIComponent(escape(Rg(s)));var s}getLatin1String(e=0,r=this.byteLength){let n=this.getUint8Array(e,r);return Rg(n)}getUnicodeString(e=0,r=this.byteLength){const n=[];for(let s=0;s<r&&e+s<this.byteLength;s+=2)n.push(this.getUint16(e+s));return Rg(n)}getInt8(e){return this.dataView.getInt8(e)}getUint8(e){return this.dataView.getUint8(e)}getInt16(e,r=this.le){return this.dataView.getInt16(e,r)}getInt32(e,r=this.le){return this.dataView.getInt32(e,r)}getUint16(e,r=this.le){return this.dataView.getUint16(e,r)}getUint32(e,r=this.le){return this.dataView.getUint32(e,r)}getFloat32(e,r=this.le){return this.dataView.getFloat32(e,r)}getFloat64(e,r=this.le){return this.dataView.getFloat64(e,r)}getFloat(e,r=this.le){return this.dataView.getFloat32(e,r)}getDouble(e,r=this.le){return this.dataView.getFloat64(e,r)}getUintBytes(e,r,n){switch(r){case 1:return this.getUint8(e,n);case 2:return this.getUint16(e,n);case 4:return this.getUint32(e,n);case 8:return this.getUint64&&this.getUint64(e,n)}}getUint(e,r,n){switch(r){case 8:return this.getUint8(e,n);case 16:return this.getUint16(e,n);case 32:return this.getUint32(e,n);case 64:return this.getUint64&&this.getUint64(e,n)}}toString(e){return this.dataView.toString(e,this.constructor.name)}ensureChunk(){}}function Ux(t,e){Qt(`${t} '${e}' was not loaded, try using full build of exifr.`)}let gb=class extends Map{constructor(e){super(),this.kind=e}get(e,r){return this.has(e)||Ux(this.kind,e),r&&(e in r||function(n,s){Qt(`Unknown ${n} '${s}'.`)}(this.kind,e),r[e].enabled||Ux(this.kind,e)),super.get(e)}keyList(){return Array.from(this.keys())}};var kF=new gb("file parser"),zn=new gb("segment parser"),yb=new gb("file reader");let lK=CF.fetch;function $j(t,e){return(r=t).startsWith("data:")||r.length>1e4?Bx(t,e,"base64"):Mj&&t.includes("://")?zx(t,e,"url",Uj):Mj?Bx(t,e,"fs"):ru?zx(t,e,"url",Uj):void Qt("Invalid input argument");var r}async function zx(t,e,r,n){return yb.has(r)?Bx(t,e,r):n?async function(s,a){let o=await a(s);return new Qn(o)}(t,n):void Qt(`Parser ${r} is not loaded`)}async function Bx(t,e,r){let n=new(yb.get(r))(t,e);return await n.read(),n}const Uj=t=>lK(t).then(e=>e.arrayBuffer()),Vx=t=>new Promise((e,r)=>{let n=new FileReader;n.onloadend=()=>e(n.result||new ArrayBuffer),n.onerror=r,n.readAsArrayBuffer(t)}),xb=new Map,cK=new Map,dK=new Map,kh=["chunked","firstChunkSize","firstChunkSizeNode","firstChunkSizeBrowser","chunkSize","chunkLimit"],PF=["jfif","xmp","icc","iptc","ihdr"],qx=["tiff",...PF],qt=["ifd0","ifd1","exif","gps","interop"],Ph=[...qx,...qt],Ah=["makerNote","userComment"],AF=["translateKeys","translateValues","reviveValues","multiSegment"],Rh=[...AF,"sanitize","mergeOutput","silentErrors"];class RF{get translate(){return this.translateKeys||this.translateValues||this.reviveValues}}class Dc extends RF{get needed(){return this.enabled||this.deps.size>0}constructor(e,r,n,s){if(super(),it(this,"enabled",!1),it(this,"skip",new Set),it(this,"pick",new Set),it(this,"deps",new Set),it(this,"translateKeys",!1),it(this,"translateValues",!1),it(this,"reviveValues",!1),this.key=e,this.enabled=r,this.parse=this.enabled,this.applyInheritables(s),this.canBeFiltered=qt.includes(e),this.canBeFiltered&&(this.dict=xb.get(e)),n!==void 0)if(Array.isArray(n))this.parse=this.enabled=!0,this.canBeFiltered&&n.length>0&&this.translateTagSet(n,this.pick);else if(typeof n=="object"){if(this.enabled=!0,this.parse=n.parse!==!1,this.canBeFiltered){let{pick:a,skip:o}=n;a&&a.length>0&&this.translateTagSet(a,this.pick),o&&o.length>0&&this.translateTagSet(o,this.skip)}this.applyInheritables(n)}else n===!0||n===!1?this.parse=this.enabled=n:Qt(`Invalid options argument: ${n}`)}applyInheritables(e){let r,n;for(r of AF)n=e[r],n!==void 0&&(this[r]=n)}translateTagSet(e,r){if(this.dict){let n,s,{tagKeys:a,tagValues:o}=this.dict;for(n of e)typeof n=="string"?(s=o.indexOf(n),s===-1&&(s=a.indexOf(Number(n))),s!==-1&&r.add(Number(a[s]))):r.add(n)}else for(let n of e)r.add(n)}finalizeFilters(){!this.enabled&&this.deps.size>0?(this.enabled=!0,gp(this.pick,this.deps)):this.enabled&&this.pick.size>0&&gp(this.pick,this.deps)}}var br={jfif:!1,tiff:!0,xmp:!1,icc:!1,iptc:!1,ifd0:!0,ifd1:!1,exif:!0,gps:!0,interop:!1,ihdr:void 0,makerNote:!1,userComment:!1,multiSegment:!1,skip:[],pick:[],translateKeys:!0,translateValues:!0,reviveValues:!0,sanitize:!0,mergeOutput:!0,silentErrors:!0,chunked:!0,firstChunkSize:void 0,firstChunkSizeNode:512,firstChunkSizeBrowser:65536,chunkSize:65536,chunkLimit:5},zj=new Map;class vb extends RF{static useCached(e){let r=zj.get(e);return r!==void 0||(r=new this(e),zj.set(e,r)),r}constructor(e){super(),e===!0?this.setupFromTrue():e===void 0?this.setupFromUndefined():Array.isArray(e)?this.setupFromArray(e):typeof e=="object"?this.setupFromObject(e):Qt(`Invalid options argument ${e}`),this.firstChunkSize===void 0&&(this.firstChunkSize=ru?this.firstChunkSizeBrowser:this.firstChunkSizeNode),this.mergeOutput&&(this.ifd1.enabled=!1),this.filterNestedSegmentTags(),this.traverseTiffDependencyTree(),this.checkLoadedPlugins()}setupFromUndefined(){let e;for(e of kh)this[e]=br[e];for(e of Rh)this[e]=br[e];for(e of Ah)this[e]=br[e];for(e of Ph)this[e]=new Dc(e,br[e],void 0,this)}setupFromTrue(){let e;for(e of kh)this[e]=br[e];for(e of Rh)this[e]=br[e];for(e of Ah)this[e]=!0;for(e of Ph)this[e]=new Dc(e,!0,void 0,this)}setupFromArray(e){let r;for(r of kh)this[r]=br[r];for(r of Rh)this[r]=br[r];for(r of Ah)this[r]=br[r];for(r of Ph)this[r]=new Dc(r,!1,void 0,this);this.setupGlobalFilters(e,void 0,qt)}setupFromObject(e){let r;for(r of(qt.ifd0=qt.ifd0||qt.image,qt.ifd1=qt.ifd1||qt.thumbnail,Object.assign(this,e),kh))this[r]=Og(e[r],br[r]);for(r of Rh)this[r]=Og(e[r],br[r]);for(r of Ah)this[r]=Og(e[r],br[r]);for(r of qx)this[r]=new Dc(r,br[r],e[r],this);for(r of qt)this[r]=new Dc(r,br[r],e[r],this.tiff);this.setupGlobalFilters(e.pick,e.skip,qt,Ph),e.tiff===!0?this.batchEnableWithBool(qt,!0):e.tiff===!1?this.batchEnableWithUserValue(qt,e):Array.isArray(e.tiff)?this.setupGlobalFilters(e.tiff,void 0,qt):typeof e.tiff=="object"&&this.setupGlobalFilters(e.tiff.pick,e.tiff.skip,qt)}batchEnableWithBool(e,r){for(let n of e)this[n].enabled=r}batchEnableWithUserValue(e,r){for(let n of e){let s=r[n];this[n].enabled=s!==!1&&s!==void 0}}setupGlobalFilters(e,r,n,s=n){if(e&&e.length){for(let o of s)this[o].enabled=!1;let a=Bj(e,n);for(let[o,l]of a)gp(this[o].pick,l),this[o].enabled=!0}else if(r&&r.length){let a=Bj(r,n);for(let[o,l]of a)gp(this[o].skip,l)}}filterNestedSegmentTags(){let{ifd0:e,exif:r,xmp:n,iptc:s,icc:a}=this;this.makerNote?r.deps.add(37500):r.skip.add(37500),this.userComment?r.deps.add(37510):r.skip.add(37510),n.enabled||e.skip.add(700),s.enabled||e.skip.add(33723),a.enabled||e.skip.add(34675)}traverseTiffDependencyTree(){let{ifd0:e,exif:r,gps:n,interop:s}=this;s.needed&&(r.deps.add(40965),e.deps.add(40965)),r.needed&&e.deps.add(34665),n.needed&&e.deps.add(34853),this.tiff.enabled=qt.some(a=>this[a].enabled===!0)||this.makerNote||this.userComment;for(let a of qt)this[a].finalizeFilters()}get onlyTiff(){return!PF.map(e=>this[e].enabled).some(e=>e===!0)&&this.tiff.enabled}checkLoadedPlugins(){for(let e of qx)this[e].enabled&&!zn.has(e)&&Ux("segment parser",e)}}function Bj(t,e){let r,n,s,a,o=[];for(s of e){for(a of(r=xb.get(s),n=[],r))(t.includes(a[0])||t.includes(a[1]))&&n.push(a[0]);n.length&&o.push([s,n])}return o}function Og(t,e){return t!==void 0?t:e!==void 0?e:void 0}function gp(t,e){for(let r of e)t.add(r)}it(vb,"default",br);class uK{constructor(e){it(this,"parsers",{}),it(this,"output",{}),it(this,"errors",[]),it(this,"pushToErrors",r=>this.errors.push(r)),this.options=vb.useCached(e)}async read(e){this.file=await function(r,n){return typeof r=="string"?$j(r,n):ru&&!aK&&r instanceof HTMLImageElement?$j(r.src,n):r instanceof Uint8Array||r instanceof ArrayBuffer||r instanceof DataView?new Qn(r):ru&&r instanceof Blob?zx(r,n,"blob",Vx):void Qt("Invalid input argument")}(e,this.options)}setup(){if(this.fileParser)return;let{file:e}=this,r=e.getUint16(0);for(let[n,s]of kF)if(s.canHandle(e,r))return this.fileParser=new s(this.options,this.file,this.parsers),e[n]=!0;this.file.close&&this.file.close(),Qt("Unknown file format")}async parse(){let{output:e,errors:r}=this;return this.setup(),this.options.silentErrors?(await this.executeParsers().catch(this.pushToErrors),r.push(...this.fileParser.errors)):await this.executeParsers(),this.file.close&&this.file.close(),this.options.silentErrors&&r.length>0&&(e.errors=r),TF(n=e)?void 0:n;var n}async executeParsers(){let{output:e}=this;await this.fileParser.parse();let r=Object.values(this.parsers).map(async n=>{let s=await n.parse();n.assignToOutput(e,s)});this.options.silentErrors&&(r=r.map(n=>n.catch(this.pushToErrors))),await Promise.all(r)}async extractThumbnail(){this.setup();let{options:e,file:r}=this,n=zn.get("tiff",e);var s;if(r.tiff?s={start:0,type:"tiff"}:r.jpeg&&(s=await this.fileParser.getOrFindSegment("tiff")),s===void 0)return;let a=await this.fileParser.ensureSegmentChunk(s),o=this.parsers.tiff=new n(a,e,r),l=await o.extractThumbnail();return r.close&&r.close(),l}}class zo{static findPosition(e,r){let n=e.getUint16(r+2)+2,s=typeof this.headerLength=="function"?this.headerLength(e,r,n):this.headerLength,a=r+s,o=n-s;return{offset:r,length:n,headerLength:s,start:a,size:o,end:a+o}}static parse(e,r={}){return new this(e,new vb({[this.type]:r}),e).parse()}normalizeInput(e){return e instanceof Qn?e:new Qn(e)}constructor(e,r={},n){it(this,"errors",[]),it(this,"raw",new Map),it(this,"handleError",s=>{if(!this.options.silentErrors)throw s;this.errors.push(s.message)}),this.chunk=this.normalizeInput(e),this.file=n,this.type=this.constructor.type,this.globalOptions=this.options=r,this.localOptions=r[this.type],this.canTranslate=this.localOptions&&this.localOptions.translate}translate(){this.canTranslate&&(this.translated=this.translateBlock(this.raw,this.type))}get output(){return this.translated?this.translated:this.raw?Object.fromEntries(this.raw):void 0}translateBlock(e,r){let n=dK.get(r),s=cK.get(r),a=xb.get(r),o=this.options[r],l=o.reviveValues&&!!n,c=o.translateValues&&!!s,d=o.translateKeys&&!!a,u={};for(let[h,f]of e)l&&n.has(h)?f=n.get(h)(f):c&&s.has(h)&&(f=this.translateValue(f,s.get(h))),d&&a.has(h)&&(h=a.get(h)||h),u[h]=f;return u}translateValue(e,r){return r[e]||r.DEFAULT||e}assignToOutput(e,r){this.assignObjectToOutput(e,this.constructor.type,r)}assignObjectToOutput(e,r,n){if(this.globalOptions.mergeOutput)return Object.assign(e,n);e[r]?Object.assign(e[r],n):e[r]=n}}it(zo,"headerLength",4),it(zo,"type",void 0),it(zo,"multiSegment",!1),it(zo,"canHandle",()=>!1);function hK(t){return t===192||t===194||t===196||t===219||t===221||t===218||t===254}function fK(t){return t>=224&&t<=239}function pK(t,e,r){for(let[n,s]of zn)if(s.canHandle(t,e,r))return n}class Vj extends class{constructor(e,r,n){it(this,"errors",[]),it(this,"ensureSegmentChunk",async s=>{let a=s.start,o=s.size||65536;if(this.file.chunked)if(this.file.available(a,o))s.chunk=this.file.subarray(a,o);else try{s.chunk=await this.file.readChunk(a,o)}catch(l){Qt(`Couldn't read segment: ${JSON.stringify(s)}. ${l.message}`)}else this.file.byteLength>a+o?s.chunk=this.file.subarray(a,o):s.size===void 0?s.chunk=this.file.subarray(a):Qt("Segment unreachable: "+JSON.stringify(s));return s.chunk}),this.extendOptions&&this.extendOptions(e),this.options=e,this.file=r,this.parsers=n}injectSegment(e,r){this.options[e].enabled&&this.createParser(e,r)}createParser(e,r){let n=new(zn.get(e))(r,this.options,this.file);return this.parsers[e]=n}createParsers(e){for(let r of e){let{type:n,chunk:s}=r,a=this.options[n];if(a&&a.enabled){let o=this.parsers[n];o&&o.append||o||this.createParser(n,s)}}}async readSegments(e){let r=e.map(this.ensureSegmentChunk);await Promise.all(r)}}{constructor(...e){super(...e),it(this,"appSegments",[]),it(this,"jpegSegments",[]),it(this,"unknownSegments",[])}static canHandle(e,r){return r===65496}async parse(){await this.findAppSegments(),await this.readSegments(this.appSegments),this.mergeMultiSegments(),this.createParsers(this.mergedAppSegments||this.appSegments)}setupSegmentFinderArgs(e){e===!0?(this.findAll=!0,this.wanted=new Set(zn.keyList())):(e=e===void 0?zn.keyList().filter(r=>this.options[r].enabled):e.filter(r=>this.options[r].enabled&&zn.has(r)),this.findAll=!1,this.remaining=new Set(e),this.wanted=new Set(e)),this.unfinishedMultiSegment=!1}async findAppSegments(e=0,r){this.setupSegmentFinderArgs(r);let{file:n,findAll:s,wanted:a,remaining:o}=this;if(!s&&this.file.chunked&&(s=Array.from(a).some(l=>{let c=zn.get(l),d=this.options[l];return c.multiSegment&&d.multiSegment}),s&&await this.file.readWhole()),e=this.findAppSegmentsInRange(e,n.byteLength),!this.options.onlyTiff&&n.chunked){let l=!1;for(;o.size>0&&!l&&(n.canReadNextChunk||this.unfinishedMultiSegment);){let{nextChunkOffset:c}=n,d=this.appSegments.some(u=>!this.file.available(u.offset||u.start,u.length||u.size));if(l=e>c&&!d?!await n.readNextChunk(e):!await n.readNextChunk(c),(e=this.findAppSegmentsInRange(e,n.byteLength))===void 0)return}}}findAppSegmentsInRange(e,r){r-=2;let n,s,a,o,l,c,{file:d,findAll:u,wanted:h,remaining:f,options:g}=this;for(;e<r;e++)if(d.getUint8(e)===255){if(n=d.getUint8(e+1),fK(n)){if(s=d.getUint16(e+2),a=pK(d,e,s),a&&h.has(a)&&(o=zn.get(a),l=o.findPosition(d,e),c=g[a],l.type=a,this.appSegments.push(l),!u&&(o.multiSegment&&c.multiSegment?(this.unfinishedMultiSegment=l.chunkNumber<l.chunkCount,this.unfinishedMultiSegment||f.delete(a)):f.delete(a),f.size===0)))break;g.recordUnknownSegments&&(l=zo.findPosition(d,e),l.marker=n,this.unknownSegments.push(l)),e+=s+1}else if(hK(n)){if(s=d.getUint16(e+2),n===218&&g.stopAfterSos!==!1)return;g.recordJpegSegments&&this.jpegSegments.push({offset:e,length:s,marker:n}),e+=s+1}}return e}mergeMultiSegments(){if(!this.appSegments.some(r=>r.multiSegment))return;let e=function(r,n){let s,a,o,l=new Map;for(let c=0;c<r.length;c++)s=r[c],a=s[n],l.has(a)?o=l.get(a):l.set(a,o=[]),o.push(s);return Array.from(l)}(this.appSegments,"type");this.mergedAppSegments=e.map(([r,n])=>{let s=zn.get(r,this.options);return s.handleMultiSegments?{type:r,chunk:s.handleMultiSegments(n)}:n[0]})}getSegment(e){return this.appSegments.find(r=>r.type===e)}async getOrFindSegment(e){let r=this.getSegment(e);return r===void 0&&(await this.findAppSegments(0,[e]),r=this.getSegment(e)),r}}it(Vj,"type","jpeg"),kF.set("jpeg",Vj);const mK=[void 0,1,1,2,4,8,1,1,2,4,8,4,8,4];class gK extends zo{parseHeader(){var e=this.chunk.getUint16();e===18761?this.le=!0:e===19789&&(this.le=!1),this.chunk.le=this.le,this.headerParsed=!0}parseTags(e,r,n=new Map){let{pick:s,skip:a}=this.options[r];s=new Set(s);let o=s.size>0,l=a.size===0,c=this.chunk.getUint16(e);e+=2;for(let d=0;d<c;d++){let u=this.chunk.getUint16(e);if(o){if(s.has(u)&&(n.set(u,this.parseTag(e,u,r)),s.delete(u),s.size===0))break}else!l&&a.has(u)||n.set(u,this.parseTag(e,u,r));e+=12}return n}parseTag(e,r,n){let{chunk:s}=this,a=s.getUint16(e+2),o=s.getUint32(e+4),l=mK[a];if(l*o<=4?e+=8:e=s.getUint32(e+8),(a<1||a>13)&&Qt(`Invalid TIFF value type. block: ${n.toUpperCase()}, tag: ${r.toString(16)}, type: ${a}, offset ${e}`),e>s.byteLength&&Qt(`Invalid TIFF value offset. block: ${n.toUpperCase()}, tag: ${r.toString(16)}, type: ${a}, offset ${e} is outside of chunk size ${s.byteLength}`),a===1)return s.getUint8Array(e,o);if(a===2)return(c=function(d){for(;d.endsWith("\0");)d=d.slice(0,-1);return d}(c=s.getString(e,o)).trim())===""?void 0:c;var c;if(a===7)return s.getUint8Array(e,o);if(o===1)return this.parseTagValue(a,e);{let d=new(function(h){switch(h){case 1:return Uint8Array;case 3:return Uint16Array;case 4:return Uint32Array;case 5:return Array;case 6:return Int8Array;case 8:return Int16Array;case 9:return Int32Array;case 10:return Array;case 11:return Float32Array;case 12:return Float64Array;default:return Array}}(a))(o),u=l;for(let h=0;h<o;h++)d[h]=this.parseTagValue(a,e),e+=u;return d}}parseTagValue(e,r){let{chunk:n}=this;switch(e){case 1:return n.getUint8(r);case 3:return n.getUint16(r);case 4:return n.getUint32(r);case 5:return n.getUint32(r)/n.getUint32(r+4);case 6:return n.getInt8(r);case 8:return n.getInt16(r);case 9:return n.getInt32(r);case 10:return n.getInt32(r)/n.getInt32(r+4);case 11:return n.getFloat(r);case 12:return n.getDouble(r);case 13:return n.getUint32(r);default:Qt(`Invalid tiff type ${e}`)}}}class Fg extends gK{static canHandle(e,r){return e.getUint8(r+1)===225&&e.getUint32(r+4)===1165519206&&e.getUint16(r+8)===0}async parse(){this.parseHeader();let{options:e}=this;return e.ifd0.enabled&&await this.parseIfd0Block(),e.exif.enabled&&await this.safeParse("parseExifBlock"),e.gps.enabled&&await this.safeParse("parseGpsBlock"),e.interop.enabled&&await this.safeParse("parseInteropBlock"),e.ifd1.enabled&&await this.safeParse("parseThumbnailBlock"),this.createOutput()}safeParse(e){let r=this[e]();return r.catch!==void 0&&(r=r.catch(this.handleError)),r}findIfd0Offset(){this.ifd0Offset===void 0&&(this.ifd0Offset=this.chunk.getUint32(4))}findIfd1Offset(){if(this.ifd1Offset===void 0){this.findIfd0Offset();let e=this.chunk.getUint16(this.ifd0Offset),r=this.ifd0Offset+2+12*e;this.ifd1Offset=this.chunk.getUint32(r)}}parseBlock(e,r){let n=new Map;return this[r]=n,this.parseTags(e,r,n),n}async parseIfd0Block(){if(this.ifd0)return;let{file:e}=this;this.findIfd0Offset(),this.ifd0Offset<8&&Qt("Malformed EXIF data"),!e.chunked&&this.ifd0Offset>e.byteLength&&Qt(`IFD0 offset points to outside of file.
this.ifd0Offset: ${this.ifd0Offset}, file.byteLength: ${e.byteLength}`),e.tiff&&await e.ensureChunk(this.ifd0Offset,Dj(this.options));let r=this.parseBlock(this.ifd0Offset,"ifd0");return r.size!==0?(this.exifOffset=r.get(34665),this.interopOffset=r.get(40965),this.gpsOffset=r.get(34853),this.xmp=r.get(700),this.iptc=r.get(33723),this.icc=r.get(34675),this.options.sanitize&&(r.delete(34665),r.delete(40965),r.delete(34853),r.delete(700),r.delete(33723),r.delete(34675)),r):void 0}async parseExifBlock(){if(this.exif||(this.ifd0||await this.parseIfd0Block(),this.exifOffset===void 0))return;this.file.tiff&&await this.file.ensureChunk(this.exifOffset,Dj(this.options));let e=this.parseBlock(this.exifOffset,"exif");return this.interopOffset||(this.interopOffset=e.get(40965)),this.makerNote=e.get(37500),this.userComment=e.get(37510),this.options.sanitize&&(e.delete(40965),e.delete(37500),e.delete(37510)),this.unpack(e,41728),this.unpack(e,41729),e}unpack(e,r){let n=e.get(r);n&&n.length===1&&e.set(r,n[0])}async parseGpsBlock(){if(this.gps||(this.ifd0||await this.parseIfd0Block(),this.gpsOffset===void 0))return;let e=this.parseBlock(this.gpsOffset,"gps");return e&&e.has(2)&&e.has(4)&&(e.set("latitude",qj(...e.get(2),e.get(1))),e.set("longitude",qj(...e.get(4),e.get(3)))),e}async parseInteropBlock(){if(!this.interop&&(this.ifd0||await this.parseIfd0Block(),this.interopOffset!==void 0||this.exif||await this.parseExifBlock(),this.interopOffset!==void 0))return this.parseBlock(this.interopOffset,"interop")}async parseThumbnailBlock(e=!1){if(!this.ifd1&&!this.ifd1Parsed&&(!this.options.mergeOutput||e))return this.findIfd1Offset(),this.ifd1Offset>0&&(this.parseBlock(this.ifd1Offset,"ifd1"),this.ifd1Parsed=!0),this.ifd1}async extractThumbnail(){if(this.headerParsed||this.parseHeader(),this.ifd1Parsed||await this.parseThumbnailBlock(!0),this.ifd1===void 0)return;let e=this.ifd1.get(513),r=this.ifd1.get(514);return this.chunk.getUint8Array(e,r)}get image(){return this.ifd0}get thumbnail(){return this.ifd1}createOutput(){let e,r,n,s={};for(r of qt)if(e=this[r],!TF(e))if(n=this.canTranslate?this.translateBlock(e,r):Object.fromEntries(e),this.options.mergeOutput){if(r==="ifd1")continue;Object.assign(s,n)}else s[r]=n;return this.makerNote&&(s.makerNote=this.makerNote),this.userComment&&(s.userComment=this.userComment),s}assignToOutput(e,r){if(this.globalOptions.mergeOutput)Object.assign(e,r);else for(let[n,s]of Object.entries(r))this.assignObjectToOutput(e,n,s)}}function qj(t,e,r,n){var s=t+e/60+r/3600;return n!=="S"&&n!=="W"||(s*=-1),s}it(Fg,"type","tiff"),it(Fg,"headerLength",10),zn.set("tiff",Fg);const bb={ifd0:!1,ifd1:!1,exif:!1,gps:!1,interop:!1,sanitize:!1,reviveValues:!0,translateKeys:!1,translateValues:!1,mergeOutput:!1};Object.assign({},bb,{firstChunkSize:4e4,gps:[1,2,3,4]});Object.assign({},bb,{tiff:!1,ifd1:!0,mergeOutput:!1});const yK=Object.assign({},bb,{firstChunkSize:4e4,ifd0:[274]});async function xK(t){let e=new uK(yK);await e.read(t);let r=await e.parse();if(r&&r.ifd0)return r.ifd0[274]}const vK=Object.freeze({1:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:0,rad:0},2:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:0,rad:0},3:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:180,rad:180*Math.PI/180},4:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:180,rad:180*Math.PI/180},5:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:90,rad:90*Math.PI/180},6:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:90,rad:90*Math.PI/180},7:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:270,rad:270*Math.PI/180},8:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:270,rad:270*Math.PI/180}});let Zc=!0,Yc=!0;if(typeof navigator=="object"){let t=navigator.userAgent;if(t.includes("iPad")||t.includes("iPhone")){let e=t.match(/OS (\d+)_(\d+)/);if(e){let[,r,n]=e;Zc=Number(r)+.1*Number(n)<13.4,Yc=!1}}else if(t.includes("OS X 10")){let[,e]=t.match(/OS X 10[_.](\d+)/);Zc=Yc=Number(e)<15}if(t.includes("Chrome/")){let[,e]=t.match(/Chrome\/(\d+)/);Zc=Yc=Number(e)<81}else if(t.includes("Firefox/")){let[,e]=t.match(/Firefox\/(\d+)/);Zc=Yc=Number(e)<77}}async function bK(t){let e=await xK(t);return Object.assign({canvas:Zc,css:Yc},vK[e])}class wK extends Qn{constructor(...e){super(...e),it(this,"ranges",new jK),this.byteLength!==0&&this.ranges.add(0,this.byteLength)}_tryExtend(e,r,n){if(e===0&&this.byteLength===0&&n){let s=new DataView(n.buffer||n,n.byteOffset,n.byteLength);this._swapDataView(s)}else{let s=e+r;if(s>this.byteLength){let{dataView:a}=this._extend(s);this._swapDataView(a)}}}_extend(e){let r;r=EF?_F.allocUnsafe(e):new Uint8Array(e);let n=new DataView(r.buffer,r.byteOffset,r.byteLength);return r.set(new Uint8Array(this.buffer,this.byteOffset,this.byteLength),0),{uintView:r,dataView:n}}subarray(e,r,n=!1){return r=r||this._lengthToEnd(e),n&&this._tryExtend(e,r),this.ranges.add(e,r),super.subarray(e,r)}set(e,r,n=!1){n&&this._tryExtend(r,e.byteLength,e);let s=super.set(e,r);return this.ranges.add(r,s.byteLength),s}async ensureChunk(e,r){this.chunked&&(this.ranges.available(e,r)||await this.readChunk(e,r))}available(e,r){return this.ranges.available(e,r)}}class jK{constructor(){it(this,"list",[])}get length(){return this.list.length}add(e,r,n=0){let s=e+r,a=this.list.filter(o=>Hj(e,o.offset,s)||Hj(e,o.end,s));if(a.length>0){e=Math.min(e,...a.map(l=>l.offset)),s=Math.max(s,...a.map(l=>l.end)),r=s-e;let o=a.shift();o.offset=e,o.length=r,o.end=s,this.list=this.list.filter(l=>!a.includes(l))}else this.list.push({offset:e,length:r,end:s})}available(e,r){let n=e+r;return this.list.some(s=>s.offset<=e&&n<=s.end)}}function Hj(t,e,r){return t<=e&&e<=r}class NK extends wK{constructor(e,r){super(0),it(this,"chunksRead",0),this.input=e,this.options=r}async readWhole(){this.chunked=!1,await this.readChunk(this.nextChunkOffset)}async readChunked(){this.chunked=!0,await this.readChunk(0,this.options.firstChunkSize)}async readNextChunk(e=this.nextChunkOffset){if(this.fullyRead)return this.chunksRead++,!1;let r=this.options.chunkSize,n=await this.readChunk(e,r);return!!n&&n.byteLength===r}async readChunk(e,r){if(this.chunksRead++,(r=this.safeWrapAddress(e,r))!==0)return this._readChunk(e,r)}safeWrapAddress(e,r){return this.size!==void 0&&e+r>this.size?Math.max(0,this.size-e):r}get nextChunkOffset(){if(this.ranges.list.length!==0)return this.ranges.list[0].length}get canReadNextChunk(){return this.chunksRead<this.options.chunkLimit}get fullyRead(){return this.size!==void 0&&this.nextChunkOffset===this.size}read(){return this.options.chunked?this.readChunked():this.readWhole()}close(){}}yb.set("blob",class extends NK{async readWhole(){this.chunked=!1;let t=await Vx(this.input);this._swapArrayBuffer(t)}readChunked(){return this.chunked=!0,this.size=this.input.size,super.readChunked()}async _readChunk(t,e){let r=e?t+e:void 0,n=this.input.slice(t,r),s=await Vx(n);return this.set(s,t,!0)}});const SK="@uppy/thumbnail-generator",CK="Uppy plugin that generates small previews of images to show on your upload UI.",_K="4.2.2",EK="MIT",TK="lib/index.js",kK="module",PK={build:"tsc --build tsconfig.build.json",typecheck:"tsc --build",test:"vitest run --environment=jsdom --silent='passed-only'"},AK=["file uploader","uppy","uppy-plugin","thumbnail","preview","resize"],RK="https://uppy.io",OK={url:"https://github.com/transloadit/uppy/issues"},FK={type:"git",url:"git+https://github.com/transloadit/uppy.git"},IK=["src","lib","dist","CHANGELOG.md"],MK={"@uppy/utils":"^6.2.2",exifr:"^7.0.0"},DK={jsdom:"^26.1.0","namespace-emitter":"2.0.1",typescript:"^5.8.3",vitest:"^3.2.4"},LK={"@uppy/core":"^4.5.2"},$K={name:SK,description:CK,version:_K,license:EK,main:TK,type:kK,scripts:PK,keywords:AK,homepage:RK,bugs:OK,repository:FK,files:IK,dependencies:MK,devDependencies:DK,peerDependencies:LK},UK={strings:{generatingThumbnails:"Generating thumbnails..."}};function zK(t,e,r){try{t.getContext("2d").getImageData(0,0,1,1)}catch(n){if(n.code===18)return Promise.reject(new Error("cannot read image, probably an svg with external resources"))}return t.toBlob?new Promise(n=>{t.toBlob(n,e,r)}).then(n=>{if(n===null)throw new Error("cannot read image, probably an svg with external resources");return n}):Promise.resolve().then(()=>iK(t.toDataURL(e,r),{})).then(n=>{if(n===null)throw new Error("could not extract blob, probably an old browser");return n})}function BK(t,e){let r=t.width,n=t.height;(e.deg===90||e.deg===270)&&(r=t.height,n=t.width);const s=document.createElement("canvas");s.width=r,s.height=n;const a=s.getContext("2d");return a.translate(r/2,n/2),e.canvas&&(a.rotate(e.rad),a.scale(e.scaleX,e.scaleY)),a.drawImage(t,-t.width/2,-t.height/2,t.width,t.height),s}function VK(t){const e=t.width/t.height,r=5e6,n=4096;let s=Math.floor(Math.sqrt(r*e)),a=Math.floor(r/Math.sqrt(r*e));if(s>n&&(s=n,a=Math.round(s/e)),a>n&&(a=n,s=Math.round(e*a)),t.width>s){const o=document.createElement("canvas");return o.width=s,o.height=a,o.getContext("2d").drawImage(t,0,0,s,a),o}return t}const qK={thumbnailWidth:null,thumbnailHeight:null,thumbnailType:"image/jpeg",waitForThumbnailsBeforeUpload:!1,lazy:!1};class OF extends sc{constructor(r,n){super(r,{...qK,...n});C(this,"queue");C(this,"queueProcessing");C(this,"defaultThumbnailDimension");C(this,"thumbnailType");C(this,"onFileAdded",r=>{!r.preview&&r.data&&Ij(r.type)&&!r.isRemote&&this.addToQueue(r.id)});C(this,"onCancelRequest",r=>{const n=this.queue.indexOf(r.id);n!==-1&&this.queue.splice(n,1)});C(this,"onFileRemoved",r=>{const n=this.queue.indexOf(r.id);n!==-1&&this.queue.splice(n,1),r.preview&&Fj(r.preview)&&URL.revokeObjectURL(r.preview)});C(this,"onRestored",()=>{this.uppy.getFiles().filter(n=>n.isRestored).forEach(n=>{(!n.preview||Fj(n.preview))&&this.addToQueue(n.id)})});C(this,"onAllFilesRemoved",()=>{this.queue=[]});C(this,"waitUntilAllProcessed",r=>{r.forEach(s=>{const a=this.uppy.getFile(s);this.uppy.emit("preprocess-progress",a,{mode:"indeterminate",message:this.i18n("generatingThumbnails")})});const n=()=>{r.forEach(s=>{const a=this.uppy.getFile(s);this.uppy.emit("preprocess-complete",a)})};return new Promise(s=>{this.queueProcessing?this.uppy.once("thumbnail:all-generated",()=>{n(),s()}):(n(),s())})});if(this.type="modifier",this.id=this.opts.id||"ThumbnailGenerator",this.title="Thumbnail Generator",this.queue=[],this.queueProcessing=!1,this.defaultThumbnailDimension=200,this.thumbnailType=this.opts.thumbnailType,this.defaultLocale=UK,this.i18nInit(),this.opts.lazy&&this.opts.waitForThumbnailsBeforeUpload)throw new Error("ThumbnailGenerator: The `lazy` and `waitForThumbnailsBeforeUpload` options are mutually exclusive. Please ensure at most one of them is set to `true`.")}createThumbnail(r,n,s){const a=URL.createObjectURL(r.data),o=new Promise((c,d)=>{const u=new Image;u.src=a,u.addEventListener("load",()=>{URL.revokeObjectURL(a),c(u)}),u.addEventListener("error",h=>{URL.revokeObjectURL(a),d(h.error||new Error("Could not create thumbnail"))})}),l=bK(r.data).catch(()=>1);return Promise.all([o,l]).then(([c,d])=>{const u=this.getProportionalDimensions(c,n,s,d.deg),h=BK(c,d),f=this.resizeImage(h,u.width,u.height);return zK(f,this.thumbnailType,80)}).then(c=>URL.createObjectURL(c))}getProportionalDimensions(r,n,s,a){let o=r.width/r.height;return(a===90||a===270)&&(o=r.height/r.width),n!=null?{width:n,height:Math.round(n/o)}:s!=null?{width:Math.round(s*o),height:s}:{width:this.defaultThumbnailDimension,height:Math.round(this.defaultThumbnailDimension/o)}}resizeImage(r,n,s){let a=VK(r),o=Math.ceil(Math.log2(a.width/n));o<1&&(o=1);let l=n*2**(o-1),c=s*2**(o-1);const d=2;for(;o--;){const u=document.createElement("canvas");u.width=l,u.height=c,u.getContext("2d").drawImage(a,0,0,l,c),a=u,l=Math.round(l/d),c=Math.round(c/d)}return a}setPreviewURL(r,n){this.uppy.setFileState(r,{preview:n})}addToQueue(r){this.queue.push(r),this.queueProcessing===!1&&this.processQueue()}processQueue(){if(this.queueProcessing=!0,this.queue.length>0){const r=this.uppy.getFile(this.queue.shift());return r?this.requestThumbnail(r).catch(()=>{}).then(()=>this.processQueue()):(this.uppy.log("[ThumbnailGenerator] file was removed before a thumbnail could be generated, but not removed from the queue. This is probably a bug","error"),Promise.resolve())}return this.queueProcessing=!1,this.uppy.log("[ThumbnailGenerator] Emptied thumbnail queue"),this.uppy.emit("thumbnail:all-generated"),Promise.resolve()}requestThumbnail(r){return Ij(r.type)&&!r.isRemote?this.createThumbnail(r,this.opts.thumbnailWidth,this.opts.thumbnailHeight).then(n=>{this.setPreviewURL(r.id,n),this.uppy.log(`[ThumbnailGenerator] Generated thumbnail for ${r.id}`),this.uppy.emit("thumbnail:generated",this.uppy.getFile(r.id),n)}).catch(n=>{this.uppy.log(`[ThumbnailGenerator] Failed thumbnail for ${r.id}:`,"warning"),this.uppy.log(n,"warning"),this.uppy.emit("thumbnail:error",this.uppy.getFile(r.id),n)}):Promise.resolve()}install(){this.uppy.on("file-removed",this.onFileRemoved),this.uppy.on("cancel-all",this.onAllFilesRemoved),this.opts.lazy?(this.uppy.on("thumbnail:request",this.onFileAdded),this.uppy.on("thumbnail:cancel",this.onCancelRequest)):(this.uppy.on("thumbnail:request",this.onFileAdded),this.uppy.on("file-added",this.onFileAdded),this.uppy.on("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.addPreProcessor(this.waitUntilAllProcessed)}uninstall(){this.uppy.off("file-removed",this.onFileRemoved),this.uppy.off("cancel-all",this.onAllFilesRemoved),this.opts.lazy?(this.uppy.off("thumbnail:request",this.onFileAdded),this.uppy.off("thumbnail:cancel",this.onCancelRequest)):(this.uppy.off("thumbnail:request",this.onFileAdded),this.uppy.off("file-added",this.onFileAdded),this.uppy.off("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.removePreProcessor(this.waitUntilAllProcessed)}}C(OF,"VERSION",$K.version);function Wj(t){if(typeof t=="string"){const e=document.querySelectorAll(t);return e.length===0?null:Array.from(e)}return typeof t=="object"&&$5(t)?[t]:null}const pd=Array.from;function HK(t){const e=pd(t.files);return Promise.resolve(e)}function FF(t,e,r,{onSuccess:n}){t.readEntries(s=>{const a=[...e,...s];s.length?queueMicrotask(()=>{FF(t,a,r,{onSuccess:n})}):n(a)},s=>{r(s),n(e)})}function IF(t,e){return t==null?t:{kind:t.isFile?"file":t.isDirectory?"directory":void 0,name:t.name,getFile(){return new Promise((r,n)=>t.file(r,n))},async*values(){const r=t.createReader();yield*await new Promise(s=>{FF(r,[],e,{onSuccess:a=>s(a.map(o=>IF(o,e)))})})},isSameEntry:void 0}}async function*MF(t,e,r=void 0){const n=()=>`${e}/${t.name}`;if(t.kind==="file"){const s=await t.getFile();s!=null?(s.relativePath=e?n():null,yield s):r!=null&&(yield r)}else if(t.kind==="directory")for await(const s of t.values())yield*MF(s,e?n():t.name);else r!=null&&(yield r)}async function*WK(t,e){const r=await Promise.all(Array.from(t.items,async n=>{let s;return s??(s=IF(typeof n.getAsEntry=="function"?n.getAsEntry():n.webkitGetAsEntry(),e)),{fileSystemHandle:s,lastResortFile:n.getAsFile()}}));for(const{lastResortFile:n,fileSystemHandle:s}of r)if(s!=null)try{yield*MF(s,"",n)}catch(a){n!=null?yield n:e(a)}else n!=null&&(yield n)}async function GK(t,e){const r=(e==null?void 0:e.logDropError)??Function.prototype;try{const n=[];for await(const s of WK(t,r))n.push(s);return n}catch{return HK(t)}}let KK="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",DF=(t=21)=>{let e="",r=t|0;for(;r--;)e+=KK[Math.random()*64|0];return e};const QK="@uppy/dashboard",XK="Universal UI plugin for Uppy.",ZK="4.4.3",YK="MIT",JK="lib/index.js",eQ="dist/style.min.css",tQ="module",rQ={build:"tsc --build tsconfig.build.json","build:css":"sass --load-path=../../ src/style.scss dist/style.css && postcss dist/style.css -u cssnano -o dist/style.min.css",typecheck:"tsc --build",test:"vitest run --silent='passed-only'","test:e2e":"vitest watch --project browser --browser.headless false"},nQ=["file uploader","uppy","uppy-plugin","dashboard","ui"],sQ="https://uppy.io",iQ={url:"https://github.com/transloadit/uppy/issues"},aQ={type:"git",url:"git+https://github.com/transloadit/uppy.git"},oQ=["src","lib","dist","CHANGELOG.md"],lQ={"@transloadit/prettier-bytes":"^0.3.4","@uppy/informer":"^4.3.2","@uppy/provider-views":"^4.5.2","@uppy/status-bar":"^4.2.3","@uppy/thumbnail-generator":"^4.2.2","@uppy/utils":"^6.2.2",classnames:"^2.2.6",lodash:"^4.17.21",nanoid:"^5.0.9",preact:"^10.5.13","shallow-equal":"^3.0.0"},cQ={"@uppy/core":"^4.5.2","@uppy/google-drive":"^4.4.2","@uppy/status-bar":"^4.2.3","@uppy/url":"^4.3.2","@uppy/webcam":"^4.3.2","@vitest/browser":"^3.2.4",cssnano:"^7.0.7",jsdom:"^26.1.0",postcss:"^8.5.6","postcss-cli":"^11.0.1","resize-observer-polyfill":"^1.5.0",sass:"^1.89.2",typescript:"^5.8.3",vitest:"^3.2.4"},dQ={"@uppy/core":"^4.5.2"},uQ={name:QK,description:XK,version:ZK,license:YK,main:JK,style:eQ,type:tQ,scripts:rQ,keywords:nQ,homepage:sQ,bugs:iQ,repository:aQ,files:oQ,dependencies:lQ,devDependencies:cQ,peerDependencies:dQ};function hQ(){const t=document.body;return!(!("draggable"in t)||!("ondragstart"in t&&"ondrop"in t)||!("FormData"in window)||!("FileReader"in window))}class LF extends qr{constructor(){super(...arguments);C(this,"fileInput",null);C(this,"folderInput",null);C(this,"mobilePhotoFileInput",null);C(this,"mobileVideoFileInput",null);C(this,"triggerFileInputClick",()=>{var r;(r=this.fileInput)==null||r.click()});C(this,"triggerFolderInputClick",()=>{var r;(r=this.folderInput)==null||r.click()});C(this,"triggerVideoCameraInputClick",()=>{var r;(r=this.mobileVideoFileInput)==null||r.click()});C(this,"triggerPhotoCameraInputClick",()=>{var r;(r=this.mobilePhotoFileInput)==null||r.click()});C(this,"onFileInputChange",r=>{this.props.handleInputChange(r),r.currentTarget.value=""});C(this,"renderHiddenInput",(r,n)=>{var s;return _("input",{className:"uppy-Dashboard-input",hidden:!0,"aria-hidden":"true",tabIndex:-1,webkitdirectory:r,type:"file",name:"files[]",multiple:this.props.maxNumberOfFiles!==1,onChange:this.onFileInputChange,accept:(s=this.props.allowedFileTypes)==null?void 0:s.join(", "),ref:n})});C(this,"renderHiddenCameraInput",(r,n,s)=>{const o={photo:"image/*",video:"video/*"}[r];return _("input",{className:"uppy-Dashboard-input",hidden:!0,"aria-hidden":"true",tabIndex:-1,type:"file",name:`camera-${r}`,onChange:this.onFileInputChange,capture:n===""?"environment":n,accept:o,ref:s})});C(this,"renderMyDeviceAcquirer",()=>_("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MyDevice",children:_("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:this.triggerFileInputClick,children:[_("div",{className:"uppy-DashboardTab-inner",children:_("svg",{className:"uppy-DashboardTab-iconMyDevice","aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32",children:_("path",{d:"M8.45 22.087l-1.305-6.674h17.678l-1.572 6.674H8.45zm4.975-12.412l1.083 1.765a.823.823 0 00.715.386h7.951V13.5H8.587V9.675h4.838zM26.043 13.5h-1.195v-2.598c0-.463-.336-.75-.798-.75h-8.356l-1.082-1.766A.823.823 0 0013.897 8H7.728c-.462 0-.815.256-.815.718V13.5h-.956a.97.97 0 00-.746.37.972.972 0 00-.19.81l1.724 8.565c.095.44.484.755.933.755H24c.44 0 .824-.3.929-.727l2.043-8.568a.972.972 0 00-.176-.825.967.967 0 00-.753-.38z",fill:"currentcolor","fill-rule":"evenodd"})})}),_("div",{className:"uppy-DashboardTab-name",children:this.props.i18n("myDevice")})]})}));C(this,"renderPhotoCamera",()=>_("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MobilePhotoCamera",children:_("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:this.triggerPhotoCameraInputClick,children:[_("div",{className:"uppy-DashboardTab-inner",children:_("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32",children:_("path",{d:"M23.5 9.5c1.417 0 2.5 1.083 2.5 2.5v9.167c0 1.416-1.083 2.5-2.5 2.5h-15c-1.417 0-2.5-1.084-2.5-2.5V12c0-1.417 1.083-2.5 2.5-2.5h2.917l1.416-2.167C13 7.167 13.25 7 13.5 7h5c.25 0 .5.167.667.333L20.583 9.5H23.5zM16 11.417a4.706 4.706 0 00-4.75 4.75 4.704 4.704 0 004.75 4.75 4.703 4.703 0 004.75-4.75c0-2.663-2.09-4.75-4.75-4.75zm0 7.825c-1.744 0-3.076-1.332-3.076-3.074 0-1.745 1.333-3.077 3.076-3.077 1.744 0 3.074 1.333 3.074 3.076s-1.33 3.075-3.074 3.075z",fill:"#02B383","fill-rule":"nonzero"})})}),_("div",{className:"uppy-DashboardTab-name",children:this.props.i18n("takePictureBtn")})]})}));C(this,"renderVideoCamera",()=>_("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MobileVideoCamera",children:_("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:this.triggerVideoCameraInputClick,children:[_("div",{className:"uppy-DashboardTab-inner",children:_("svg",{"aria-hidden":"true",width:"32",height:"32",viewBox:"0 0 32 32",children:_("path",{fill:"#FF675E",fillRule:"nonzero",d:"m21.254 14.277 2.941-2.588c.797-.313 1.243.818 1.09 1.554-.01 2.094.02 4.189-.017 6.282-.126.915-1.145 1.08-1.58.34l-2.434-2.142c-.192.287-.504 1.305-.738.468-.104-1.293-.028-2.596-.05-3.894.047-.312.381.823.426 1.069.063-.384.206-.744.362-1.09zm-12.939-3.73c3.858.013 7.717-.025 11.574.02.912.129 1.492 1.237 1.351 2.217-.019 2.412.04 4.83-.03 7.239-.17 1.025-1.166 1.59-2.029 1.429-3.705-.012-7.41.025-11.114-.019-.913-.129-1.492-1.237-1.352-2.217.018-2.404-.036-4.813.029-7.214.136-.82.83-1.473 1.571-1.454z "})})}),_("div",{className:"uppy-DashboardTab-name",children:this.props.i18n("recordVideoBtn")})]})}));C(this,"renderBrowseButton",(r,n)=>{const s=this.props.acquirers.length;return _("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-Dashboard-browse",onClick:n,"data-uppy-super-focusable":s===0,children:r})});C(this,"renderDropPasteBrowseTagline",r=>{const n=this.renderBrowseButton(this.props.i18n("browseFiles"),this.triggerFileInputClick),s=this.renderBrowseButton(this.props.i18n("browseFolders"),this.triggerFolderInputClick),a=this.props.fileManagerSelectionType,o=a.charAt(0).toUpperCase()+a.slice(1);return _("div",{class:"uppy-Dashboard-AddFiles-title",children:this.props.disableLocalFiles?this.props.i18n("importFiles"):r>0?this.props.i18nArray(`dropPasteImport${o}`,{browseFiles:n,browseFolders:s,browse:n}):this.props.i18nArray(`dropPaste${o}`,{browseFiles:n,browseFolders:s,browse:n})})});C(this,"renderAcquirer",r=>{var n;return _("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":r.id,children:_("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-cy":r.id,"aria-controls":`uppy-DashboardContent-panel--${r.id}`,"aria-selected":((n=this.props.activePickerPanel)==null?void 0:n.id)===r.id,"data-uppy-super-focusable":!0,onClick:()=>this.props.showPanel(r.id),children:[_("div",{className:"uppy-DashboardTab-inner",children:r.icon()}),_("div",{className:"uppy-DashboardTab-name",children:r.name})]})})});C(this,"renderAcquirers",r=>{const n=[...r],s=n.splice(r.length-2,r.length);return _(Zn,{children:[n.map(a=>this.renderAcquirer(a)),_("span",{role:"presentation",style:{"white-space":"nowrap"},children:s.map(a=>this.renderAcquirer(a))})]})});C(this,"renderSourcesList",(r,n)=>{const{showNativePhotoCameraButton:s,showNativeVideoCameraButton:a}=this.props;let o=[];const l="myDevice";n||o.push({key:l,elements:this.renderMyDeviceAcquirer()}),s&&o.push({key:"nativePhotoCameraButton",elements:this.renderPhotoCamera()}),a&&o.push({key:"nativePhotoCameraButton",elements:this.renderVideoCamera()}),o.push(...r.map(h=>({key:h.id,elements:this.renderAcquirer(h)}))),o.length===1&&o[0].key===l&&(o=[]);const d=[...o],u=d.splice(o.length-2,o.length);return _(Zn,{children:[this.renderDropPasteBrowseTagline(o.length),_("div",{className:"uppy-Dashboard-AddFiles-list",role:"tablist",children:[d.map(({key:h,elements:f})=>_(Zn,{children:f},h)),_("span",{role:"presentation",style:{"white-space":"nowrap"},children:u.map(({key:h,elements:f})=>_(Zn,{children:f},h))})]})]})})}[Symbol.for("uppy test: disable unused locale key warning")](){this.props.i18nArray("dropPasteBoth"),this.props.i18nArray("dropPasteFiles"),this.props.i18nArray("dropPasteFolders"),this.props.i18nArray("dropPasteImportBoth"),this.props.i18nArray("dropPasteImportFiles"),this.props.i18nArray("dropPasteImportFolders")}renderPoweredByUppy(){const{i18nArray:r}=this.props,n=_("span",{children:[_("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-Dashboard-poweredByIcon",width:"11",height:"11",viewBox:"0 0 11 11",children:_("path",{d:"M7.365 10.5l-.01-4.045h2.612L5.5.806l-4.467 5.65h2.604l.01 4.044h3.718z",fillRule:"evenodd"})}),_("span",{className:"uppy-Dashboard-poweredByUppy",children:"Uppy"})]}),s=r("poweredBy",{uppy:n});return _("a",{tabIndex:-1,href:"https://uppy.io",rel:"noreferrer noopener",target:"_blank",className:"uppy-Dashboard-poweredBy",children:s})}render(){const{showNativePhotoCameraButton:r,showNativeVideoCameraButton:n,nativeCameraFacingMode:s}=this.props;return _("div",{className:"uppy-Dashboard-AddFiles",children:[this.renderHiddenInput(!1,a=>{this.fileInput=a}),this.renderHiddenInput(!0,a=>{this.folderInput=a}),r&&this.renderHiddenCameraInput("photo",s,a=>{this.mobilePhotoFileInput=a}),n&&this.renderHiddenCameraInput("video",s,a=>{this.mobileVideoFileInput=a}),this.renderSourcesList(this.props.acquirers,this.props.disableLocalFiles),_("div",{className:"uppy-Dashboard-AddFiles-info",children:[this.props.note&&_("div",{className:"uppy-Dashboard-note",children:this.props.note}),this.props.proudlyDisplayPoweredByUppy&&this.renderPoweredByUppy()]})]})}}const fQ=t=>_("div",{className:is("uppy-Dashboard-AddFilesPanel",t.className),"data-uppy-panelType":"AddFiles","aria-hidden":!t.showAddFilesPanel,children:[_("div",{className:"uppy-DashboardContent-bar",children:[_("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":1,children:t.i18n("addingMoreFiles")}),_("button",{className:"uppy-DashboardContent-back",type:"button",onClick:()=>t.toggleAddFilesPanel(!1),children:t.i18n("back")})]}),_(LF,{...t})]});function pQ(t){const e=t.files[t.fileCardFor],r=()=>{t.uppy.emit("file-editor:cancel",e),t.closeFileEditor()};return _("div",{className:is("uppy-DashboardContent-panel",t.className),role:"tabpanel","data-uppy-panelType":"FileEditor",id:"uppy-DashboardContent-panel--editor",children:[_("div",{className:"uppy-DashboardContent-bar",children:[_("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":1,children:t.i18nArray("editing",{file:_("span",{className:"uppy-DashboardContent-titleFile",children:e.meta?e.meta.name:e.name})})}),_("button",{className:"uppy-DashboardContent-back",type:"button",onClick:r,children:t.i18n("cancel")}),_("button",{className:"uppy-DashboardContent-save",type:"button",onClick:t.saveFileEditor,children:t.i18n("save")})]}),_("div",{className:"uppy-DashboardContent-panelBody",children:t.editors.map(n=>t.uppy.getPlugin(n.id).render(t.state))})]})}function mQ(){return _("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25",children:_("g",{fill:"#686DE0",fillRule:"evenodd",children:[_("path",{d:"M5 7v10h15V7H5zm0-1h15a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1z",fillRule:"nonzero"}),_("path",{d:"M6.35 17.172l4.994-5.026a.5.5 0 0 1 .707 0l2.16 2.16 3.505-3.505a.5.5 0 0 1 .707 0l2.336 2.31-.707.72-1.983-1.97-3.505 3.505a.5.5 0 0 1-.707 0l-2.16-2.159-3.938 3.939-1.409.026z",fillRule:"nonzero"}),_("circle",{cx:"7.5",cy:"9.5",r:"1.5"})]})})}function gQ(){return _("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:_("path",{d:"M9.5 18.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V7.25a.5.5 0 0 1 .379-.485l9-2.25A.5.5 0 0 1 18.5 5v11.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V8.67l-8 2v7.97zm8-11v-2l-8 2v2l8-2zM7 19.64c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1zm9-2c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1z",fill:"#049BCF",fillRule:"nonzero"})})}function yQ(){return _("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:_("path",{d:"M16 11.834l4.486-2.691A1 1 0 0 1 22 10v6a1 1 0 0 1-1.514.857L16 14.167V17a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v2.834zM15 9H5v8h10V9zm1 4l5 3v-6l-5 3z",fill:"#19AF67",fillRule:"nonzero"})})}function xQ(){return _("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:_("path",{d:"M9.766 8.295c-.691-1.843-.539-3.401.747-3.726 1.643-.414 2.505.938 2.39 3.299-.039.79-.194 1.662-.537 3.148.324.49.66.967 1.055 1.51.17.231.382.488.629.757 1.866-.128 3.653.114 4.918.655 1.487.635 2.192 1.685 1.614 2.84-.566 1.133-1.839 1.084-3.416.249-1.141-.604-2.457-1.634-3.51-2.707a13.467 13.467 0 0 0-2.238.426c-1.392 4.051-4.534 6.453-5.707 4.572-.986-1.58 1.38-4.206 4.914-5.375.097-.322.185-.656.264-1.001.08-.353.306-1.31.407-1.737-.678-1.059-1.2-2.031-1.53-2.91zm2.098 4.87c-.033.144-.068.287-.104.427l.033-.01-.012.038a14.065 14.065 0 0 1 1.02-.197l-.032-.033.052-.004a7.902 7.902 0 0 1-.208-.271c-.197-.27-.38-.526-.555-.775l-.006.028-.002-.003c-.076.323-.148.632-.186.8zm5.77 2.978c1.143.605 1.832.632 2.054.187.26-.519-.087-1.034-1.113-1.473-.911-.39-2.175-.608-3.55-.608.845.766 1.787 1.459 2.609 1.894zM6.559 18.789c.14.223.693.16 1.425-.413.827-.648 1.61-1.747 2.208-3.206-2.563 1.064-4.102 2.867-3.633 3.62zm5.345-10.97c.088-1.793-.351-2.48-1.146-2.28-.473.119-.564 1.05-.056 2.405.213.566.52 1.188.908 1.859.18-.858.268-1.453.294-1.984z",fill:"#E2514A",fillRule:"nonzero"})})}function vQ(){return _("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25",children:_("path",{d:"M10.45 2.05h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V2.55a.5.5 0 0 1 .5-.5zm2.05 1.024h1.05a.5.5 0 0 1 .5.5V3.6a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5v-.001zM10.45 0h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V.5a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 3.074h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 1.024h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm-2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-1.656 3.074l-.82 5.946c.52.302 1.174.458 1.976.458.803 0 1.455-.156 1.975-.458l-.82-5.946h-2.311zm0-1.025h2.312c.512 0 .946.378 1.015.885l.82 5.946c.056.412-.142.817-.501 1.026-.686.398-1.515.597-2.49.597-.974 0-1.804-.199-2.49-.597a1.025 1.025 0 0 1-.5-1.026l.819-5.946c.07-.507.503-.885 1.015-.885zm.545 6.6a.5.5 0 0 1-.397-.561l.143-.999a.5.5 0 0 1 .495-.429h.74a.5.5 0 0 1 .495.43l.143.998a.5.5 0 0 1-.397.561c-.404.08-.819.08-1.222 0z",fill:"#00C469",fillRule:"nonzero"})})}function bQ(){return _("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:_("g",{fill:"#A7AFB7",fillRule:"nonzero",children:[_("path",{d:"M5.5 22a.5.5 0 0 1-.5-.5v-18a.5.5 0 0 1 .5-.5h10.719a.5.5 0 0 1 .367.16l3.281 3.556a.5.5 0 0 1 .133.339V21.5a.5.5 0 0 1-.5.5h-14zm.5-1h13V7.25L16 4H6v17z"}),_("path",{d:"M15 4v3a1 1 0 0 0 1 1h3V7h-3V4h-1z"})]})})}function wQ(){return _("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:_("path",{d:"M4.5 7h13a.5.5 0 1 1 0 1h-13a.5.5 0 0 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h10a.5.5 0 1 1 0 1h-10a.5.5 0 1 1 0-1z",fill:"#5A5E69",fillRule:"nonzero"})})}function wb(t){const e={color:"#838999",icon:bQ()};if(!t)return e;const r=t.split("/")[0],n=t.split("/")[1];return r==="text"?{color:"#5a5e69",icon:wQ()}:r==="image"?{color:"#686de0",icon:mQ()}:r==="audio"?{color:"#068dbb",icon:gQ()}:r==="video"?{color:"#19af67",icon:yQ()}:r==="application"&&n==="pdf"?{color:"#e25149",icon:xQ()}:r==="application"&&["zip","x-7z-compressed","x-zip-compressed","x-rar-compressed","x-tar","x-gzip","x-apple-diskimage"].indexOf(n)!==-1?{color:"#00C469",icon:vQ()}:e}function Bi(t){const{tagName:e}=t.target;if(e==="INPUT"||e==="TEXTAREA"){t.stopPropagation();return}t.preventDefault(),t.stopPropagation()}function $F(t){const{file:e}=t;if(e.preview)return _("img",{draggable:!1,className:"uppy-Dashboard-Item-previewImg",alt:e.name,src:e.preview});const{color:r,icon:n}=wb(e.type);return _("div",{className:"uppy-Dashboard-Item-previewIconWrap",children:[_("span",{className:"uppy-Dashboard-Item-previewIcon",style:{color:r},children:n}),_("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-Dashboard-Item-previewIconBg",width:"58",height:"76",viewBox:"0 0 58 76",children:_("rect",{fill:"#FFF",width:"58",height:"76",rx:"3",fillRule:"evenodd"})})]})}function jQ(t){const{computedMetaFields:e,requiredMetaFields:r,updateMeta:n,form:s,formState:a}=t,o={text:"uppy-u-reset uppy-c-textInput uppy-Dashboard-FileCard-input"};return e.map(l=>{const c=`uppy-Dashboard-FileCard-input-${l.id}`,d=r.includes(l.id);return _("fieldset",{className:"uppy-Dashboard-FileCard-fieldset",children:[_("label",{className:"uppy-Dashboard-FileCard-label",htmlFor:c,children:l.name}),l.render!==void 0?l.render({value:a[l.id],onChange:u=>n(u,l.id),fieldCSSClasses:o,required:d,form:s.id},Jd):_("input",{className:o.text,id:c,form:s.id,type:l.type||"text",required:d,value:a[l.id],placeholder:l.placeholder,onInput:u=>n(u.target.value,l.id),"data-uppy-super-focusable":!0})]},l.id)})}function NQ(t){const{files:e,fileCardFor:r,toggleFileCard:n,saveFileCard:s,metaFields:a,requiredMetaFields:o,openFileEditor:l,i18n:c,i18nArray:d,className:u,canEditFile:h}=t,f=()=>typeof a=="function"?a(e[r]):a,g=e[r],j=f()??[],m=h(g),v={};j.forEach(T=>{v[T.id]=g.meta[T.id]??""});const[w,y]=mp(v),x=Eq(T=>{T.preventDefault(),s(w,r)},[s,w,r]),b=(T,A)=>{y({...w,[A]:T})},E=()=>{n(!1)},[k]=mp(()=>{const T=document.createElement("form");return T.setAttribute("tabindex","-1"),T.id=DF(),T});return Px(()=>(document.body.appendChild(k),k.addEventListener("submit",x),()=>{k.removeEventListener("submit",x),document.body.removeChild(k)}),[k,x]),_("div",{className:is("uppy-Dashboard-FileCard",u),"data-uppy-panelType":"FileCard",onDragOver:Bi,onDragLeave:Bi,onDrop:Bi,onPaste:Bi,children:[_("div",{className:"uppy-DashboardContent-bar",children:[_("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":1,children:d("editing",{file:_("span",{className:"uppy-DashboardContent-titleFile",children:g.meta?g.meta.name:g.name})})}),_("button",{className:"uppy-DashboardContent-back",type:"button",form:k.id,title:c("finishEditingFile"),onClick:E,children:c("cancel")})]}),_("div",{className:"uppy-Dashboard-FileCard-inner",children:[_("div",{className:"uppy-Dashboard-FileCard-preview",style:{backgroundColor:wb(g.type).color},children:[_($F,{file:g}),m&&_("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-Dashboard-FileCard-edit",onClick:T=>{x(T),l(g)},children:c("editImage")})]}),_("div",{className:"uppy-Dashboard-FileCard-info",children:_(jQ,{computedMetaFields:j,requiredMetaFields:o,updateMeta:b,form:k,formState:w})}),_("div",{className:"uppy-Dashboard-FileCard-actions",children:[_("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Dashboard-FileCard-actionsBtn",type:"submit",form:k.id,children:c("saveChanges")}),_("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-link uppy-Dashboard-FileCard-actionsBtn",type:"button",onClick:E,form:k.id,children:c("cancel")})]})]})]})}function SQ(t,e){if(t===e)return!0;if(!t||!e)return!1;const r=Object.keys(t),n=Object.keys(e),s=r.length;if(n.length!==s)return!1;for(let a=0;a<s;a++){const o=r[a];if(t[o]!==e[o]||!Object.prototype.hasOwnProperty.call(e,o))return!1}return!0}function CQ(t,e="Copy the URL below"){return new Promise(r=>{const n=document.createElement("textarea");n.setAttribute("style",{position:"fixed",top:0,left:0,width:"2em",height:"2em",padding:0,border:"none",outline:"none",boxShadow:"none",background:"transparent"}),n.value=t,document.body.appendChild(n),n.select();const s=()=>{document.body.removeChild(n),window.prompt(e,t),r()};try{return document.execCommand("copy")?(document.body.removeChild(n),r()):s()}catch{return document.body.removeChild(n),s()}})}function _Q({file:t,uploadInProgressOrComplete:e,metaFields:r,canEditFile:n,i18n:s,onClick:a}){return!e&&r&&r.length>0||!e&&n(t)?_("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-action uppy-Dashboard-Item-action--edit",type:"button","aria-label":s("editFileWithFilename",{file:t.meta.name}),title:s("editFileWithFilename",{file:t.meta.name}),onClick:()=>a(),children:_("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 14",children:_("g",{fillRule:"evenodd",children:[_("path",{d:"M1.5 10.793h2.793A1 1 0 0 0 5 10.5L11.5 4a1 1 0 0 0 0-1.414L9.707.793a1 1 0 0 0-1.414 0l-6.5 6.5A1 1 0 0 0 1.5 8v2.793zm1-1V8L9 1.5l1.793 1.793-6.5 6.5H2.5z",fillRule:"nonzero"}),_("rect",{x:"1",y:"12.293",width:"11",height:"1",rx:".5"}),_("path",{fillRule:"nonzero",d:"M6.793 2.5L9.5 5.207l.707-.707L7.5 1.793z"})]})})}):null}function EQ({i18n:t,onClick:e,file:r}){return _("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--remove",type:"button","aria-label":t("removeFile",{file:r.meta.name}),title:t("removeFile",{file:r.meta.name}),onClick:()=>e(),children:_("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"18",height:"18",viewBox:"0 0 18 18",children:[_("path",{d:"M9 0C4.034 0 0 4.034 0 9s4.034 9 9 9 9-4.034 9-9-4.034-9-9-9z"}),_("path",{fill:"#FFF",d:"M13 12.222l-.778.778L9 9.778 5.778 13 5 12.222 8.222 9 5 5.778 5.778 5 9 8.222 12.222 5l.778.778L9.778 9z"})]})})}function TQ({file:t,uppy:e,i18n:r}){const n=s=>{CQ(t.uploadURL,r("copyLinkToClipboardFallback")).then(()=>{e.log("Link copied to clipboard."),e.info(r("copyLinkToClipboardSuccess"),"info",3e3)}).catch(e.log).then(()=>s.target.focus({preventScroll:!0}))};return _("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--copyLink",type:"button","aria-label":r("copyLink"),title:r("copyLink"),onClick:s=>n(s),children:_("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 12",children:_("path",{d:"M7.94 7.703a2.613 2.613 0 0 1-.626 2.681l-.852.851a2.597 2.597 0 0 1-1.849.766A2.616 2.616 0 0 1 2.764 7.54l.852-.852a2.596 2.596 0 0 1 2.69-.625L5.267 7.099a1.44 1.44 0 0 0-.833.407l-.852.851a1.458 1.458 0 0 0 1.03 2.486c.39 0 .755-.152 1.03-.426l.852-.852c.231-.231.363-.522.406-.824l1.04-1.038zm4.295-5.937A2.596 2.596 0 0 0 10.387 1c-.698 0-1.355.272-1.849.766l-.852.851a2.614 2.614 0 0 0-.624 2.688l1.036-1.036c.041-.304.173-.6.407-.833l.852-.852c.275-.275.64-.426 1.03-.426a1.458 1.458 0 0 1 1.03 2.486l-.852.851a1.442 1.442 0 0 1-.824.406l-1.04 1.04a2.596 2.596 0 0 0 2.683-.628l.851-.85a2.616 2.616 0 0 0 0-3.697zm-6.88 6.883a.577.577 0 0 0 .82 0l3.474-3.474a.579.579 0 1 0-.819-.82L5.355 7.83a.579.579 0 0 0 0 .819z"})})})}function kQ(t){const{uppy:e,file:r,uploadInProgressOrComplete:n,canEditFile:s,metaFields:a,showLinkToFileUploadResult:o,showRemoveButton:l,i18n:c,toggleFileCard:d,openFileEditor:u}=t;return _("div",{className:"uppy-Dashboard-Item-actionWrapper",children:[_(_Q,{i18n:c,file:r,uploadInProgressOrComplete:n,canEditFile:s,metaFields:a,onClick:()=>{a&&a.length>0?d(!0,r.id):u(r)}}),o&&r.uploadURL?_(TQ,{file:r,uppy:e,i18n:c}):null,l?_(EQ,{i18n:c,file:r,onClick:()=>e.removeFile(r.id)}):null]})}const Ig="...";function UF(t,e){if(e===0)return"";if(t.length<=e)return t;if(e<=Ig.length+1)return`${t.slice(0,e-1)}`;const r=e-Ig.length,n=Math.ceil(r/2),s=Math.floor(r/2);return t.slice(0,n)+Ig+t.slice(-s)}const PQ=(t,e)=>(typeof e=="function"?e():e).filter(s=>s.id===t)[0].name;function zF(t){const{file:e,toggleFileCard:r,i18n:n,metaFields:s}=t,{missingRequiredMetaFields:a}=e;if(!(a!=null&&a.length))return null;const o=a.map(l=>PQ(l,s)).join(", ");return _("div",{className:"uppy-Dashboard-Item-errorMessage",children:[n("missingRequiredMetaFields",{smart_count:a.length,fields:o})," ",_("button",{type:"button",class:"uppy-u-reset uppy-Dashboard-Item-errorMessageBtn",onClick:()=>r(!0,e.id),children:n("editFile")})]})}const AQ=t=>{const{author:e,name:r}=t.file.meta;function n(){return t.isSingleFile&&t.containerHeight>=350?90:t.containerWidth<=352?35:t.containerWidth<=576?60:e?20:30}return _("div",{className:"uppy-Dashboard-Item-name",title:r,children:UF(r,n())})},RQ=t=>{var s;const{author:e}=t.file.meta,r=(s=t.file.remote)==null?void 0:s.providerName,n="";return e?_("div",{className:"uppy-Dashboard-Item-author",children:[_("a",{href:`${e.url}?utm_source=Companion&utm_medium=referral`,target:"_blank",rel:"noopener noreferrer",children:UF(e.name,13)}),r?_(Zn,{children:[` ${n} `,r,` ${n} `]}):null]}):null},OQ=t=>t.file.size&&_("div",{className:"uppy-Dashboard-Item-statusSize",children:Ca(t.file.size)}),FQ=t=>t.file.isGhost&&_("span",{children:["  ",_("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-reSelect",type:"button",onClick:()=>t.toggleAddFilesPanel(!0),children:t.i18n("reSelect")})]}),IQ=({file:t,onClick:e})=>t.error?_("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-errorDetails","aria-label":t.error,"data-microtip-position":"bottom","data-microtip-size":"medium",onClick:e,type:"button",children:"?"}):null;function MQ(t){const{file:e,i18n:r,toggleFileCard:n,metaFields:s,toggleAddFilesPanel:a,isSingleFile:o,containerHeight:l,containerWidth:c}=t;return _("div",{className:"uppy-Dashboard-Item-fileInfo","data-uppy-file-source":e.source,children:[_("div",{className:"uppy-Dashboard-Item-fileName",children:[AQ({file:e,isSingleFile:o,containerHeight:l,containerWidth:c}),_(IQ,{file:e,onClick:()=>alert(e.error)})]}),_("div",{className:"uppy-Dashboard-Item-status",children:[RQ({file:e}),OQ({file:e}),FQ({file:e,toggleAddFilesPanel:a,i18n:r})]}),_(zF,{file:e,i18n:r,toggleFileCard:n,metaFields:s})]})}function DQ(t){const{file:e,i18n:r,toggleFileCard:n,metaFields:s,showLinkToFileUploadResult:a}=t,l=e.preview?"rgba(255, 255, 255, 0.5)":wb(e.type).color;return _("div",{className:"uppy-Dashboard-Item-previewInnerWrap",style:{backgroundColor:l},children:[a&&e.uploadURL&&_("a",{className:"uppy-Dashboard-Item-previewLink",href:e.uploadURL,rel:"noreferrer noopener",target:"_blank","aria-label":e.meta.name,children:_("span",{hidden:!0,children:e.meta.name})}),_($F,{file:e}),_(zF,{file:e,i18n:r,toggleFileCard:n,metaFields:s})]})}function LQ(t){if(!t.isUploaded){if(t.error&&!t.hideRetryButton){t.uppy.retryUpload(t.file.id);return}t.resumableUploads&&!t.hidePauseResumeButton?t.uppy.pauseResume(t.file.id):t.individualCancellation&&!t.hideCancelButton&&t.uppy.removeFile(t.file.id)}}function Gj(t){return t.isUploaded?t.i18n("uploadComplete"):t.error?t.i18n("retryUpload"):t.resumableUploads?t.file.isPaused?t.i18n("resumeUpload"):t.i18n("pauseUpload"):t.individualCancellation?t.i18n("cancelUpload"):""}function Mg(t){return _("div",{className:"uppy-Dashboard-Item-progress",children:_("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-progressIndicator",type:"button","aria-label":Gj(t),title:Gj(t),onClick:()=>LQ(t),children:t.children})})}function Oh({children:t}){return _("svg",{"aria-hidden":"true",focusable:"false",width:"70",height:"70",viewBox:"0 0 36 36",className:"uppy-c-icon uppy-Dashboard-Item-progressIcon--circle",children:t})}function Dg({progress:t}){const e=2*Math.PI*15;return _("g",{children:[_("circle",{className:"uppy-Dashboard-Item-progressIcon--bg",r:"15",cx:"18",cy:"18","stroke-width":"2",fill:"none"}),_("circle",{className:"uppy-Dashboard-Item-progressIcon--progress",r:"15",cx:"18",cy:"18",transform:"rotate(-90, 18, 18)",fill:"none","stroke-width":"2","stroke-dasharray":e,"stroke-dashoffset":e-e/100*t})]})}function $Q(t){return!t.file.progress.uploadStarted||t.file.progress.percentage===void 0?null:t.isUploaded?_("div",{className:"uppy-Dashboard-Item-progress",children:_("div",{className:"uppy-Dashboard-Item-progressIndicator",children:_(Oh,{children:[_("circle",{r:"15",cx:"18",cy:"18",fill:"#1bb240"}),_("polygon",{className:"uppy-Dashboard-Item-progressIcon--check",transform:"translate(2, 3)",points:"14 22.5 7 15.2457065 8.99985857 13.1732815 14 18.3547104 22.9729883 9 25 11.1005634"})]})})}):t.recoveredState?null:t.error&&!t.hideRetryButton?_(Mg,{...t,children:_("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-Dashboard-Item-progressIcon--retry",width:"28",height:"31",viewBox:"0 0 16 19",children:[_("path",{d:"M16 11a8 8 0 1 1-8-8v2a6 6 0 1 0 6 6h2z"}),_("path",{d:"M7.9 3H10v2H7.9z"}),_("path",{d:"M8.536.5l3.535 3.536-1.414 1.414L7.12 1.914z"}),_("path",{d:"M10.657 2.621l1.414 1.415L8.536 7.57 7.12 6.157z"})]})}):t.resumableUploads&&!t.hidePauseResumeButton?_(Mg,{...t,children:_(Oh,{children:[_(Dg,{progress:t.file.progress.percentage}),t.file.isPaused?_("polygon",{className:"uppy-Dashboard-Item-progressIcon--play",transform:"translate(3, 3)",points:"12 20 12 10 20 15"}):_("g",{className:"uppy-Dashboard-Item-progressIcon--pause",transform:"translate(14.5, 13)",children:[_("rect",{x:"0",y:"0",width:"2",height:"10",rx:"0"}),_("rect",{x:"5",y:"0",width:"2",height:"10",rx:"0"})]})]})}):!t.resumableUploads&&t.individualCancellation&&!t.hideCancelButton?_(Mg,{...t,children:_(Oh,{children:[_(Dg,{progress:t.file.progress.percentage}),_("polygon",{className:"cancel",transform:"translate(2, 2)",points:"19.8856516 11.0625 16 14.9481516 12.1019737 11.0625 11.0625 12.1143484 14.9481516 16 11.0625 19.8980263 12.1019737 20.9375 16 17.0518484 19.8856516 20.9375 20.9375 19.8980263 17.0518484 16 20.9375 12"})]})}):_("div",{className:"uppy-Dashboard-Item-progress",children:_("div",{className:"uppy-Dashboard-Item-progressIndicator",children:_(Oh,{children:_(Dg,{progress:t.file.progress.percentage})})})})}class UQ extends qr{componentDidMount(){const{file:e}=this.props;e.preview||this.props.handleRequestThumbnail(e)}shouldComponentUpdate(e){return!SQ(this.props,e)}componentDidUpdate(){const{file:e}=this.props;e.preview||this.props.handleRequestThumbnail(e)}componentWillUnmount(){const{file:e}=this.props;e.preview||this.props.handleCancelThumbnail(e)}render(){const{file:e}=this.props,r=e.progress.preprocess||e.progress.postprocess,n=!!e.progress.uploadComplete&&!r&&!e.error,s=!!e.progress.uploadStarted||!!r,a=e.progress.uploadStarted&&!e.progress.uploadComplete||r,o=e.error||!1,{isGhost:l}=e;let c=(this.props.individualCancellation||!a)&&!n;n&&this.props.showRemoveButtonAfterComplete&&(c=!0);const d=is({"uppy-Dashboard-Item":!0,"is-inprogress":a&&!this.props.recoveredState,"is-processing":r,"is-complete":n,"is-error":!!o,"is-resumable":this.props.resumableUploads,"is-noIndividualCancellation":!this.props.individualCancellation,"is-ghost":l});return _("div",{className:d,id:`uppy_${e.id}`,role:this.props.role,children:[_("div",{className:"uppy-Dashboard-Item-preview",children:[_(DQ,{file:e,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult,i18n:this.props.i18n,toggleFileCard:this.props.toggleFileCard,metaFields:this.props.metaFields}),_($Q,{uppy:this.props.uppy,file:e,error:o,isUploaded:n,hideRetryButton:this.props.hideRetryButton,hideCancelButton:this.props.hideCancelButton,hidePauseResumeButton:this.props.hidePauseResumeButton,recoveredState:this.props.recoveredState,resumableUploads:this.props.resumableUploads,individualCancellation:this.props.individualCancellation,i18n:this.props.i18n})]}),_("div",{className:"uppy-Dashboard-Item-fileInfoAndButtons",children:[_(MQ,{file:e,containerWidth:this.props.containerWidth,containerHeight:this.props.containerHeight,i18n:this.props.i18n,toggleAddFilesPanel:this.props.toggleAddFilesPanel,toggleFileCard:this.props.toggleFileCard,metaFields:this.props.metaFields,isSingleFile:this.props.isSingleFile}),_(kQ,{file:e,metaFields:this.props.metaFields,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult,showRemoveButton:c,canEditFile:this.props.canEditFile,uploadInProgressOrComplete:s,toggleFileCard:this.props.toggleFileCard,openFileEditor:this.props.openFileEditor,uppy:this.props.uppy,i18n:this.props.i18n})]})]})}}function zQ(t,e){const r=[];let n=[];return t.forEach(s=>{n.length<e?n.push(s):(r.push(n),n=[s])}),n.length&&r.push(n),r}function BQ({id:t,i18n:e,uppy:r,files:n,resumableUploads:s,hideRetryButton:a,hidePauseResumeButton:o,hideCancelButton:l,showLinkToFileUploadResult:c,showRemoveButtonAfterComplete:d,metaFields:u,isSingleFile:h,toggleFileCard:f,handleRequestThumbnail:g,handleCancelThumbnail:j,recoveredState:m,individualCancellation:v,itemsPerRow:w,openFileEditor:y,canEditFile:x,toggleAddFilesPanel:b,containerWidth:E,containerHeight:k}){const T=w===1?71:200,A=pb(()=>{const M=(L,R)=>Number(n[R].isGhost)-Number(n[L].isGhost),G=Object.keys(n);return m&&G.sort(M),zQ(G,w)},[n,w,m]),O=M=>_("div",{class:"uppy-Dashboard-filesInner",role:"presentation",children:M.map(G=>_(UQ,{uppy:r,id:t,i18n:e,resumableUploads:s,individualCancellation:v,hideRetryButton:a,hidePauseResumeButton:o,hideCancelButton:l,showLinkToFileUploadResult:c,showRemoveButtonAfterComplete:d,metaFields:u,recoveredState:m,isSingleFile:h,containerWidth:E,containerHeight:k,toggleFileCard:f,handleRequestThumbnail:g,handleCancelThumbnail:j,role:"listitem",openFileEditor:y,canEditFile:x,toggleAddFilesPanel:b,file:n[G]},G))},M[0]);return h?_("div",{class:"uppy-Dashboard-files",children:O(A[0])}):_(yG,{class:"uppy-Dashboard-files",role:"list",data:A,renderRow:O,rowHeight:T})}function VQ({activePickerPanel:t,className:e,hideAllPanels:r,i18n:n,state:s,uppy:a}){const o=of(null);return _("div",{className:is("uppy-DashboardContent-panel",e),role:"tabpanel","data-uppy-panelType":"PickerPanel",id:`uppy-DashboardContent-panel--${t.id}`,onDragOver:Bi,onDragLeave:Bi,onDrop:Bi,onPaste:Bi,children:[_("div",{className:"uppy-DashboardContent-bar",children:[_("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":1,children:n("importFrom",{name:t.name})}),_("button",{className:"uppy-DashboardContent-back",type:"button",onClick:r,children:n("cancel")})]}),_("div",{ref:o,className:"uppy-DashboardContent-panelBody",children:a.getPlugin(t.id).render(s,o.current)})]})}const hs={STATE_ERROR:"error",STATE_WAITING:"waiting",STATE_PREPROCESSING:"preprocessing",STATE_UPLOADING:"uploading",STATE_POSTPROCESSING:"postprocessing",STATE_COMPLETE:"complete",STATE_PAUSED:"paused"};function qQ(t,e,r,n={}){if(t)return hs.STATE_ERROR;if(e)return hs.STATE_COMPLETE;if(r)return hs.STATE_PAUSED;let s=hs.STATE_WAITING;const a=Object.keys(n);for(let o=0;o<a.length;o++){const{progress:l}=n[a[o]];if(l.uploadStarted&&!l.uploadComplete)return hs.STATE_UPLOADING;l.preprocess&&s!==hs.STATE_UPLOADING&&(s=hs.STATE_PREPROCESSING),l.postprocess&&s!==hs.STATE_UPLOADING&&s!==hs.STATE_PREPROCESSING&&(s=hs.STATE_POSTPROCESSING)}return s}function HQ({files:t,i18n:e,isAllComplete:r,isAllErrored:n,isAllPaused:s,inProgressNotPausedFiles:a,newFiles:o,processingFiles:l}){switch(qQ(n,r,s,t)){case"uploading":return e("uploadingXFiles",{smart_count:a.length});case"preprocessing":case"postprocessing":return e("processingXFiles",{smart_count:l.length});case"paused":return e("uploadPaused");case"waiting":return e("xFilesSelected",{smart_count:o.length});case"complete":return e("uploadComplete");case"error":return e("error")}}function WQ(t){const{i18n:e,isAllComplete:r,hideCancelButton:n,maxNumberOfFiles:s,toggleAddFilesPanel:a,uppy:o}=t;let{allowNewUpload:l}=t;return l&&s&&(l=t.totalFileCount<t.maxNumberOfFiles),_("div",{className:"uppy-DashboardContent-bar",children:[!r&&!n?_("button",{className:"uppy-DashboardContent-back",type:"button",onClick:()=>o.cancelAll(),children:e("cancel")}):_("div",{}),_("div",{className:"uppy-DashboardContent-title",children:_(HQ,{...t})}),l?_("button",{className:"uppy-DashboardContent-addMore",type:"button","aria-label":e("addMoreFiles"),title:e("addMoreFiles"),onClick:()=>a(!0),children:[_("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"15",height:"15",viewBox:"0 0 15 15",children:_("path",{d:"M8 6.5h6a.5.5 0 0 1 .5.5v.5a.5.5 0 0 1-.5.5H8v6a.5.5 0 0 1-.5.5H7a.5.5 0 0 1-.5-.5V8h-6a.5.5 0 0 1-.5-.5V7a.5.5 0 0 1 .5-.5h6v-6A.5.5 0 0 1 7 0h.5a.5.5 0 0 1 .5.5v6z"})}),_("span",{className:"uppy-DashboardContent-addMoreCaption",children:e("addMore")})]}):_("div",{})]})}const Co="uppy-transition-slideDownUp",Kj=250;function Fh({children:t}){const[e,r]=mp(null),[n,s]=mp(""),a=of(),o=of(),l=of(),c=()=>{s(`${Co}-enter`),cancelAnimationFrame(l.current),clearTimeout(o.current),o.current=void 0,l.current=requestAnimationFrame(()=>{s(`${Co}-enter ${Co}-enter-active`),a.current=setTimeout(()=>{s("")},Kj)})},d=()=>{s(`${Co}-leave`),cancelAnimationFrame(l.current),clearTimeout(a.current),a.current=void 0,l.current=requestAnimationFrame(()=>{s(`${Co}-leave ${Co}-leave-active`),o.current=setTimeout(()=>{r(null),s("")},Kj)})};return Px(()=>{const u=Wn(t)[0];e!==u&&(u&&!e?c():e&&!u&&!o.current&&d(),r(u))},[t,e]),Px(()=>()=>{clearTimeout(a.current),clearTimeout(o.current),cancelAnimationFrame(l.current)},[]),e?Y5(e,{className:is(n,e.props.className)}):null}const Qj=900,Xj=700,Lg=576,Zj=330;function GQ(t){const e=t.totalFileCount===0,r=t.totalFileCount===1,n=t.containerWidth>Lg,s=t.containerHeight>Zj,a=is({"uppy-Dashboard":!0,"uppy-Dashboard--isDisabled":t.disabled,"uppy-Dashboard--animateOpenClose":t.animateOpenClose,"uppy-Dashboard--isClosing":t.isClosing,"uppy-Dashboard--isDraggingOver":t.isDraggingOver,"uppy-Dashboard--modal":!t.inline,"uppy-size--md":t.containerWidth>Lg,"uppy-size--lg":t.containerWidth>Xj,"uppy-size--xl":t.containerWidth>Qj,"uppy-size--height-md":t.containerHeight>Zj,"uppy-Dashboard--isAddFilesPanelVisible":t.showAddFilesPanel,"uppy-Dashboard--isInnerWrapVisible":t.areInsidesReadyToBeVisible,"uppy-Dashboard--singleFile":t.singleFileFullScreen&&r&&s});let o=1;t.containerWidth>Qj?o=5:t.containerWidth>Xj?o=4:t.containerWidth>Lg&&(o=3);const l=t.showSelectedFiles&&!e,c=t.recoveredState?Object.keys(t.recoveredState.files).length:null,d=t.files?Object.keys(t.files).filter(f=>t.files[f].isGhost).length:0,u=()=>d>0?t.i18n("recoveredXFiles",{smart_count:d}):t.i18n("recoveredAllFiles");return _("div",{className:a,"data-uppy-theme":t.theme,"data-uppy-num-acquirers":t.acquirers.length,"data-uppy-drag-drop-supported":!t.disableLocalFiles&&hQ(),"aria-hidden":t.inline?"false":t.isHidden,"aria-disabled":t.disabled,"aria-label":t.inline?t.i18n("dashboardTitle"):t.i18n("dashboardWindowTitle"),onPaste:t.handlePaste,onDragOver:t.handleDragOver,onDragLeave:t.handleDragLeave,onDrop:t.handleDrop,children:[_("div",{"aria-hidden":"true",className:"uppy-Dashboard-overlay",tabIndex:-1,onClick:t.handleClickOutside}),_("div",{className:"uppy-Dashboard-inner",role:t.inline?void 0:"dialog",style:{width:t.inline&&t.width?t.width:"",height:t.inline&&t.height?t.height:""},children:[t.inline?null:_("button",{className:"uppy-u-reset uppy-Dashboard-close",type:"button","aria-label":t.i18n("closeModal"),title:t.i18n("closeModal"),onClick:t.closeModal,children:_("span",{"aria-hidden":"true",children:""})}),_("div",{className:"uppy-Dashboard-innerWrap",children:[_("div",{className:"uppy-Dashboard-dropFilesHereHint",children:t.i18n("dropHint")}),l&&_(WQ,{...t}),c&&_("div",{className:"uppy-Dashboard-serviceMsg",children:[_("svg",{className:"uppy-Dashboard-serviceMsg-icon","aria-hidden":"true",focusable:"false",width:"21",height:"16",viewBox:"0 0 24 19",children:_("g",{transform:"translate(0 -1)",fill:"none",fillRule:"evenodd",children:[_("path",{d:"M12.857 1.43l10.234 17.056A1 1 0 0122.234 20H1.766a1 1 0 01-.857-1.514L11.143 1.429a1 1 0 011.714 0z",fill:"#FFD300"}),_("path",{fill:"#000",d:"M11 6h2l-.3 8h-1.4z"}),_("circle",{fill:"#000",cx:"12",cy:"17",r:"1"})]})}),_("strong",{className:"uppy-Dashboard-serviceMsg-title",children:t.i18n("sessionRestored")}),_("div",{className:"uppy-Dashboard-serviceMsg-text",children:u()})]}),l?_(BQ,{id:t.id,i18n:t.i18n,uppy:t.uppy,files:t.files,resumableUploads:t.resumableUploads,hideRetryButton:t.hideRetryButton,hidePauseResumeButton:t.hidePauseResumeButton,hideCancelButton:t.hideCancelButton,showLinkToFileUploadResult:t.showLinkToFileUploadResult,showRemoveButtonAfterComplete:t.showRemoveButtonAfterComplete,metaFields:t.metaFields,toggleFileCard:t.toggleFileCard,handleRequestThumbnail:t.handleRequestThumbnail,handleCancelThumbnail:t.handleCancelThumbnail,recoveredState:t.recoveredState,individualCancellation:t.individualCancellation,openFileEditor:t.openFileEditor,canEditFile:t.canEditFile,toggleAddFilesPanel:t.toggleAddFilesPanel,isSingleFile:r,itemsPerRow:o,containerWidth:t.containerWidth,containerHeight:t.containerHeight}):_(LF,{i18n:t.i18n,i18nArray:t.i18nArray,acquirers:t.acquirers,handleInputChange:t.handleInputChange,maxNumberOfFiles:t.maxNumberOfFiles,allowedFileTypes:t.allowedFileTypes,showNativePhotoCameraButton:t.showNativePhotoCameraButton,showNativeVideoCameraButton:t.showNativeVideoCameraButton,nativeCameraFacingMode:t.nativeCameraFacingMode,showPanel:t.showPanel,activePickerPanel:t.activePickerPanel,disableLocalFiles:t.disableLocalFiles,fileManagerSelectionType:t.fileManagerSelectionType,note:t.note,proudlyDisplayPoweredByUppy:t.proudlyDisplayPoweredByUppy}),_(Fh,{children:t.showAddFilesPanel?_(fQ,{...t,isSizeMD:n},"AddFiles"):null}),_(Fh,{children:t.fileCardFor?_(NQ,{...t},"FileCard"):null}),_(Fh,{children:t.activePickerPanel?_(VQ,{...t},"Picker"):null}),_(Fh,{children:t.showFileEditor?_(pQ,{...t},"Editor"):null}),_("div",{className:"uppy-Dashboard-progressindicators",children:t.progressindicators.map(f=>t.uppy.getPlugin(f.id).render(t.state))})]})]})]})}const KQ={strings:{closeModal:"Close Modal",addMoreFiles:"Add more files",addingMoreFiles:"Adding more files",importFrom:"Import from %{name}",dashboardWindowTitle:"Uppy Dashboard Window (Press escape to close)",dashboardTitle:"Uppy Dashboard",copyLinkToClipboardSuccess:"Link copied to clipboard.",copyLinkToClipboardFallback:"Copy the URL below",copyLink:"Copy link",back:"Back",removeFile:"Remove file",editFile:"Edit file",editImage:"Edit image",editing:"Editing %{file}",error:"Error",finishEditingFile:"Finish editing file",saveChanges:"Save changes",myDevice:"My Device",dropHint:"Drop your files here",uploadComplete:"Upload complete",uploadPaused:"Upload paused",resumeUpload:"Resume upload",pauseUpload:"Pause upload",retryUpload:"Retry upload",cancelUpload:"Cancel upload",xFilesSelected:{0:"%{smart_count} file selected",1:"%{smart_count} files selected"},uploadingXFiles:{0:"Uploading %{smart_count} file",1:"Uploading %{smart_count} files"},processingXFiles:{0:"Processing %{smart_count} file",1:"Processing %{smart_count} files"},poweredBy:"Powered by %{uppy}",addMore:"Add more",editFileWithFilename:"Edit file %{file}",save:"Save",cancel:"Cancel",dropPasteFiles:"Drop files here or %{browseFiles}",dropPasteFolders:"Drop files here or %{browseFolders}",dropPasteBoth:"Drop files here, %{browseFiles} or %{browseFolders}",dropPasteImportFiles:"Drop files here, %{browseFiles} or import from:",dropPasteImportFolders:"Drop files here, %{browseFolders} or import from:",dropPasteImportBoth:"Drop files here, %{browseFiles}, %{browseFolders} or import from:",importFiles:"Import files from:",browseFiles:"browse files",browseFolders:"browse folders",recoveredXFiles:{0:"We could not fully recover 1 file. Please re-select it and resume the upload.",1:"We could not fully recover %{smart_count} files. Please re-select them and resume the upload."},recoveredAllFiles:"We restored all files. You can now resume the upload.",sessionRestored:"Session restored",reSelect:"Re-select",missingRequiredMetaFields:{0:"Missing required meta field: %{fields}.",1:"Missing required meta fields: %{fields}."},takePictureBtn:"Take Picture",recordVideoBtn:"Record Video"}},BF=['a[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','area[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])',"input:not([disabled]):not([inert]):not([aria-hidden])","select:not([disabled]):not([inert]):not([aria-hidden])","textarea:not([disabled]):not([inert]):not([aria-hidden])","button:not([disabled]):not([inert]):not([aria-hidden])",'iframe:not([tabindex^="-"]):not([inert]):not([aria-hidden])','object:not([tabindex^="-"]):not([inert]):not([aria-hidden])','embed:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[contenteditable]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[tabindex]:not([tabindex^="-"]):not([inert]):not([aria-hidden])'];function VF(t,e){if(e){const r=t.querySelector(`[data-uppy-paneltype="${e}"]`);if(r)return r}return t}function QQ(){let t=!1;return iW((r,n)=>{const s=VF(r,n),a=s.contains(document.activeElement);if(a&&t)return;const o=s.querySelector("[data-uppy-super-focusable]");if(!(a&&!o))if(o)o.focus({preventScroll:!0}),t=!0;else{const l=s.querySelector(BF);l==null||l.focus({preventScroll:!0}),t=!1}},260)}function Yj(t,e){const r=e[0];r&&(r.focus(),t.preventDefault())}function XQ(t,e){const r=e[e.length-1];r&&(r.focus(),t.preventDefault())}function ZQ(t){return t.contains(document.activeElement)}function qF(t,e,r){const n=VF(r,e),s=pd(n.querySelectorAll(BF)),a=s.indexOf(document.activeElement);ZQ(n)?t.shiftKey&&a===0?XQ(t,s):!t.shiftKey&&a===s.length-1&&Yj(t,s):Yj(t,s)}function YQ(t,e,r){e===null||qF(t,e,r)}const Jj=9,JQ=27;function eN(){const t={};return t.promise=new Promise((e,r)=>{t.resolve=e,t.reject=r}),t}const eX={target:"body",metaFields:[],thumbnailWidth:280,thumbnailType:"image/jpeg",waitForThumbnailsBeforeUpload:!1,defaultPickerIcon:xG,showLinkToFileUploadResult:!1,showProgressDetails:!1,hideUploadButton:!1,hideCancelButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideProgressAfterFinish:!1,note:null,singleFileFullScreen:!0,disableStatusBar:!1,disableInformer:!1,disableThumbnailGenerator:!1,fileManagerSelectionType:"files",proudlyDisplayPoweredByUppy:!0,showSelectedFiles:!0,showRemoveButtonAfterComplete:!1,showNativePhotoCameraButton:!1,showNativeVideoCameraButton:!1,theme:"light",autoOpen:null,disabled:!1,disableLocalFiles:!1,nativeCameraFacingMode:"",onDragLeave:()=>{},onDragOver:()=>{},onDrop:()=>{},plugins:[],doneButtonHandler:void 0,onRequestCloseModal:null,inline:!1,animateOpenClose:!0,browserBackButtonClose:!1,closeAfterFinish:!1,closeModalOnClickOutside:!1,disablePageScrollWhenModalOpen:!0,trigger:null,width:750,height:550};var zg,bl,Da,fu,wl,Sp,Cp,_p,La,Ep,Tp,jl,Xt,Hx,Wx,HF,Gx,Kx,WF;let tX=(zg=class extends sc{constructor(r,n){var a;const s=(n==null?void 0:n.autoOpen)??null;super(r,{...eX,...n,autoOpen:s});U(this,Xt);U(this,bl);C(this,"modalName",`uppy-Dashboard-${DF()}`);C(this,"superFocus",QQ());C(this,"ifFocusedOnUppyRecently",!1);C(this,"dashboardIsDisabled");C(this,"savedScrollPosition");C(this,"savedActiveElement");C(this,"resizeObserver");C(this,"darkModeMediaQuery");C(this,"makeDashboardInsidesVisibleAnywayTimeout");C(this,"removeTarget",r=>{const s=this.getPluginState().targets.filter(a=>a.id!==r.id);this.setPluginState({targets:s})});C(this,"addTarget",r=>{const n=r.id||r.constructor.name,s=r.title||n,a=r.type;if(a!=="acquirer"&&a!=="progressindicator"&&a!=="editor")return this.uppy.log("Dashboard: can only be targeted by plugins of types: acquirer, progressindicator, editor","error"),null;const o={id:n,name:s,type:a},c=this.getPluginState().targets.slice();return c.push(o),this.setPluginState({targets:c}),this.el});C(this,"hideAllPanels",()=>{var s;const r=this.getPluginState(),n={activePickerPanel:void 0,showAddFilesPanel:!1,activeOverlayType:null,fileCardFor:null,showFileEditor:!1};r.activePickerPanel===n.activePickerPanel&&r.showAddFilesPanel===n.showAddFilesPanel&&r.showFileEditor===n.showFileEditor&&r.activeOverlayType===n.activeOverlayType||(this.setPluginState(n),this.uppy.emit("dashboard:close-panel",(s=r.activePickerPanel)==null?void 0:s.id))});C(this,"showPanel",r=>{const{targets:n}=this.getPluginState(),s=n.find(a=>a.type==="acquirer"&&a.id===r);this.setPluginState({activePickerPanel:s,activeOverlayType:"PickerPanel"}),this.uppy.emit("dashboard:show-panel",r)});C(this,"canEditFile",r=>{const{targets:n}=this.getPluginState();return N(this,La).call(this,n).some(a=>this.uppy.getPlugin(a.id).canEditFile(r))});C(this,"openFileEditor",r=>{const{targets:n}=this.getPluginState(),s=N(this,La).call(this,n);this.setPluginState({showFileEditor:!0,fileCardFor:r.id||null,activeOverlayType:"FileEditor"}),s.forEach(a=>{this.uppy.getPlugin(a.id).selectFile(r)})});C(this,"closeFileEditor",()=>{const{metaFields:r}=this.getPluginState();r&&r.length>0?this.setPluginState({showFileEditor:!1,activeOverlayType:"FileCard"}):this.setPluginState({showFileEditor:!1,fileCardFor:null,activeOverlayType:"AddFiles"})});C(this,"saveFileEditor",()=>{const{targets:r}=this.getPluginState();N(this,La).call(this,r).forEach(s=>{this.uppy.getPlugin(s.id).save()}),this.closeFileEditor()});C(this,"openModal",()=>{const{promise:r,resolve:n}=eN();if(this.savedScrollPosition=window.pageYOffset,this.savedActiveElement=document.activeElement,this.opts.disablePageScrollWhenModalOpen&&document.body.classList.add("uppy-Dashboard-isFixed"),this.opts.animateOpenClose&&this.getPluginState().isClosing){const s=()=>{this.setPluginState({isHidden:!1}),this.el.removeEventListener("animationend",s,!1),n()};this.el.addEventListener("animationend",s,!1)}else this.setPluginState({isHidden:!1}),n();return this.opts.browserBackButtonClose&&this.updateBrowserHistory(),document.addEventListener("keydown",this.handleKeyDownInModal),this.uppy.emit("dashboard:modal-open"),r});C(this,"closeModal",r=>{var c;const n=(r==null?void 0:r.manualClose)??!0,{isHidden:s,isClosing:a}=this.getPluginState();if(s||a)return;const{promise:o,resolve:l}=eN();if(this.opts.disablePageScrollWhenModalOpen&&document.body.classList.remove("uppy-Dashboard-isFixed"),this.opts.animateOpenClose){this.setPluginState({isClosing:!0});const d=()=>{this.setPluginState({isHidden:!0,isClosing:!1}),this.superFocus.cancel(),this.savedActiveElement.focus(),this.el.removeEventListener("animationend",d,!1),l()};this.el.addEventListener("animationend",d,!1)}else this.setPluginState({isHidden:!0}),this.superFocus.cancel(),this.savedActiveElement.focus(),l();return document.removeEventListener("keydown",this.handleKeyDownInModal),n&&this.opts.browserBackButtonClose&&(c=history.state)!=null&&c[this.modalName]&&history.back(),this.uppy.emit("dashboard:modal-closed"),o});C(this,"isModalOpen",()=>!this.getPluginState().isHidden||!1);C(this,"requestCloseModal",()=>this.opts.onRequestCloseModal?this.opts.onRequestCloseModal():this.closeModal());C(this,"setDarkModeCapability",r=>{const{capabilities:n}=this.uppy.getState();this.uppy.setState({capabilities:{...n,darkMode:r}})});C(this,"handleSystemDarkModeChange",r=>{const n=r.matches;this.uppy.log(`[Dashboard] Dark mode is ${n?"on":"off"}`),this.setDarkModeCapability(n)});C(this,"toggleFileCard",(r,n)=>{const s=this.uppy.getFile(n);r?this.uppy.emit("dashboard:file-edit-start",s):this.uppy.emit("dashboard:file-edit-complete",s),this.setPluginState({fileCardFor:r?n:null,activeOverlayType:r?"FileCard":null})});C(this,"toggleAddFilesPanel",r=>{this.setPluginState({showAddFilesPanel:r,activeOverlayType:r?"AddFiles":null})});C(this,"addFiles",r=>{const n=r.map(s=>({source:this.id,name:s.name,type:s.type,data:s,meta:{relativePath:s.relativePath||s.webkitRelativePath||null}}));try{this.uppy.addFiles(n)}catch(s){this.uppy.log(s)}});C(this,"startListeningToResize",()=>{this.resizeObserver=new ResizeObserver(r=>{const n=r[0],{width:s,height:a}=n.contentRect;this.setPluginState({containerWidth:s,containerHeight:a,areInsidesReadyToBeVisible:!0})}),this.resizeObserver.observe(this.el.querySelector(".uppy-Dashboard-inner")),this.makeDashboardInsidesVisibleAnywayTimeout=setTimeout(()=>{const r=this.getPluginState(),n=!this.opts.inline&&r.isHidden;!r.areInsidesReadyToBeVisible&&!n&&(this.uppy.log("[Dashboard] resize event didnt fire on time: defaulted to mobile layout","warning"),this.setPluginState({areInsidesReadyToBeVisible:!0}))},1e3)});C(this,"stopListeningToResize",()=>{this.resizeObserver.disconnect(),clearTimeout(this.makeDashboardInsidesVisibleAnywayTimeout)});C(this,"recordIfFocusedOnUppyRecently",r=>{this.el.contains(r.target)?this.ifFocusedOnUppyRecently=!0:(this.ifFocusedOnUppyRecently=!1,this.superFocus.cancel())});C(this,"disableInteractiveElements",r=>{const n=["a[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])",'[role="button"]:not([disabled])'],s=N(this,bl)??pd(this.el.querySelectorAll(n)).filter(a=>!a.classList.contains("uppy-Dashboard-close"));for(const a of s)a.tagName==="A"?a.setAttribute("aria-disabled",r):a.disabled=r;r?B(this,bl,s):B(this,bl,null),this.dashboardIsDisabled=r});C(this,"updateBrowserHistory",()=>{var r;(r=history.state)!=null&&r[this.modalName]||history.pushState({...history.state,[this.modalName]:!0},""),window.addEventListener("popstate",this.handlePopState,!1)});C(this,"handlePopState",r=>{var n;this.isModalOpen()&&(!r.state||!r.state[this.modalName])&&this.closeModal({manualClose:!1}),!this.isModalOpen()&&((n=r.state)!=null&&n[this.modalName])&&history.back()});C(this,"handleKeyDownInModal",r=>{r.keyCode===JQ&&this.requestCloseModal(),r.keyCode===Jj&&qF(r,this.getPluginState().activeOverlayType,this.el)});C(this,"handleClickOutside",()=>{this.opts.closeModalOnClickOutside&&this.requestCloseModal()});C(this,"handlePaste",r=>{this.uppy.iteratePlugins(s=>{var a;s.type==="acquirer"&&((a=s.handleRootPaste)==null||a.call(s,r))});const n=pd(r.clipboardData.files);n.length>0&&(this.uppy.log("[Dashboard] Files pasted"),this.addFiles(n))});C(this,"handleInputChange",r=>{r.preventDefault();const n=pd(r.currentTarget.files||[]);n.length>0&&(this.uppy.log("[Dashboard] Files selected through input"),this.addFiles(n))});C(this,"handleDragOver",r=>{r.preventDefault(),r.stopPropagation();const n=()=>{let l=!0;return this.uppy.iteratePlugins(c=>{var d;(d=c.canHandleRootDrop)!=null&&d.call(c,r)&&(l=!0)}),l},s=()=>{const{types:l}=r.dataTransfer;return l.some(c=>c==="Files")},a=n(),o=s();if(!a&&!o||this.opts.disabled||this.opts.disableLocalFiles&&(o||!a)||!this.uppy.getState().allowNewUpload){r.dataTransfer.dropEffect="none";return}r.dataTransfer.dropEffect="copy",this.setPluginState({isDraggingOver:!0}),this.opts.onDragOver(r)});C(this,"handleDragLeave",r=>{r.preventDefault(),r.stopPropagation(),this.setPluginState({isDraggingOver:!1}),this.opts.onDragLeave(r)});C(this,"handleDrop",async r=>{r.preventDefault(),r.stopPropagation(),this.setPluginState({isDraggingOver:!1}),this.uppy.iteratePlugins(o=>{var l;o.type==="acquirer"&&((l=o.handleRootDrop)==null||l.call(o,r))});let n=!1;const s=o=>{this.uppy.log(o,"error"),n||(this.uppy.info(o.message,"error"),n=!0)};this.uppy.log("[Dashboard] Processing dropped files");const a=await GK(r.dataTransfer,{logDropError:s});a.length>0&&(this.uppy.log("[Dashboard] Files dropped"),this.addFiles(a)),this.opts.onDrop(r)});C(this,"handleRequestThumbnail",r=>{this.opts.waitForThumbnailsBeforeUpload||this.uppy.emit("thumbnail:request",r)});C(this,"handleCancelThumbnail",r=>{this.opts.waitForThumbnailsBeforeUpload||this.uppy.emit("thumbnail:cancel",r)});C(this,"handleKeyDownInInline",r=>{r.keyCode===Jj&&YQ(r,this.getPluginState().activeOverlayType,this.el)});C(this,"handlePasteOnBody",r=>{this.el.contains(document.activeElement)&&this.handlePaste(r)});C(this,"handleComplete",({failed:r})=>{this.opts.closeAfterFinish&&!(r!=null&&r.length)&&this.requestCloseModal()});C(this,"handleCancelRestore",()=>{this.uppy.emit("restore-canceled")});U(this,Da,()=>{if(this.opts.disableThumbnailGenerator)return;const r=600,n=this.uppy.getFiles();if(n.length===1){const s=this.uppy.getPlugin(`${this.id}:ThumbnailGenerator`);s==null||s.setOptions({thumbnailWidth:r});const a={...n[0],preview:void 0};s==null||s.requestThumbnail(a).then(()=>{s==null||s.setOptions({thumbnailWidth:this.opts.thumbnailWidth})})}});U(this,fu,r=>{const n=r[0],{metaFields:s}=this.getPluginState(),a=s&&s.length>0,o=this.canEditFile(n);a&&this.opts.autoOpen==="metaEditor"?this.toggleFileCard(!0,n.id):o&&this.opts.autoOpen==="imageEditor"&&this.openFileEditor(n)});C(this,"initEvents",()=>{if(this.opts.trigger&&!this.opts.inline){const r=Wj(this.opts.trigger);r?r.forEach(n=>n.addEventListener("click",this.openModal)):this.uppy.log("Dashboard modal trigger not found. Make sure `trigger` is set in Dashboard options, unless you are planning to call `dashboard.openModal()` method yourself","warning")}this.startListeningToResize(),document.addEventListener("paste",this.handlePasteOnBody),this.uppy.on("plugin-added",N(this,jl)),this.uppy.on("plugin-remove",this.removeTarget),this.uppy.on("file-added",this.hideAllPanels),this.uppy.on("dashboard:modal-closed",this.hideAllPanels),this.uppy.on("complete",this.handleComplete),this.uppy.on("files-added",N(this,Da)),this.uppy.on("file-removed",N(this,Da)),document.addEventListener("focus",this.recordIfFocusedOnUppyRecently,!0),document.addEventListener("click",this.recordIfFocusedOnUppyRecently,!0),this.opts.inline&&this.el.addEventListener("keydown",this.handleKeyDownInInline),this.opts.autoOpen&&this.uppy.on("files-added",N(this,fu))});C(this,"removeEvents",()=>{const r=Wj(this.opts.trigger);!this.opts.inline&&r&&r.forEach(n=>n.removeEventListener("click",this.openModal)),this.stopListeningToResize(),document.removeEventListener("paste",this.handlePasteOnBody),window.removeEventListener("popstate",this.handlePopState,!1),this.uppy.off("plugin-added",N(this,jl)),this.uppy.off("plugin-remove",this.removeTarget),this.uppy.off("file-added",this.hideAllPanels),this.uppy.off("dashboard:modal-closed",this.hideAllPanels),this.uppy.off("complete",this.handleComplete),this.uppy.off("files-added",N(this,Da)),this.uppy.off("file-removed",N(this,Da)),document.removeEventListener("focus",this.recordIfFocusedOnUppyRecently),document.removeEventListener("click",this.recordIfFocusedOnUppyRecently),this.opts.inline&&this.el.removeEventListener("keydown",this.handleKeyDownInInline),this.opts.autoOpen&&this.uppy.off("files-added",N(this,fu))});C(this,"superFocusOnEachUpdate",()=>{const r=this.el.contains(document.activeElement),n=document.activeElement===document.body||document.activeElement===null,s=this.uppy.getState().info.length===0,a=!this.opts.inline;s&&(a||r||n&&this.ifFocusedOnUppyRecently)?this.superFocus(this.el,this.getPluginState().activeOverlayType):this.superFocus.cancel()});C(this,"afterUpdate",()=>{if(this.opts.disabled&&!this.dashboardIsDisabled){this.disableInteractiveElements(!0);return}!this.opts.disabled&&this.dashboardIsDisabled&&this.disableInteractiveElements(!1),this.superFocusOnEachUpdate()});C(this,"saveFileCard",(r,n)=>{this.uppy.setFileMeta(n,r),this.toggleFileCard(!1,n)});U(this,wl,r=>{const n=this.uppy.getPlugin(r.id);return{...r,icon:n.icon||this.opts.defaultPickerIcon,render:n.render}});U(this,Sp,r=>{const n=this.uppy.getPlugin(r.id);return typeof n.isSupported!="function"?!0:n.isSupported()});U(this,Cp,r=>r.filter(n=>n.type==="acquirer"&&N(this,Sp).call(this,n)).map(N(this,wl)));U(this,_p,r=>r.filter(n=>n.type==="progressindicator").map(N(this,wl)));U(this,La,r=>r.filter(n=>n.type==="editor").map(N(this,wl)));C(this,"render",r=>{const n=this.getPluginState(),{files:s,capabilities:a,allowNewUpload:o}=r,{newFiles:l,uploadStartedFiles:c,completeFiles:d,erroredFiles:u,inProgressFiles:h,inProgressNotPausedFiles:f,processingFiles:g,isUploadStarted:j,isAllComplete:m,isAllPaused:v}=this.uppy.getObjectOfFilesPerState(),w=N(this,Cp).call(this,n.targets),y=N(this,_p).call(this,n.targets),x=N(this,La).call(this,n.targets);let b;return this.opts.theme==="auto"?b=a.darkMode?"dark":"light":b=this.opts.theme,["files","folders","both"].indexOf(this.opts.fileManagerSelectionType)<0&&(this.opts.fileManagerSelectionType="files",console.warn(`Unsupported option for "fileManagerSelectionType". Using default of "${this.opts.fileManagerSelectionType}".`)),GQ({state:r,isHidden:n.isHidden,files:s,newFiles:l,uploadStartedFiles:c,completeFiles:d,erroredFiles:u,inProgressFiles:h,inProgressNotPausedFiles:f,processingFiles:g,isUploadStarted:j,isAllComplete:m,isAllPaused:v,totalFileCount:Object.keys(s).length,totalProgress:r.totalProgress,allowNewUpload:o,acquirers:w,theme:b,disabled:this.opts.disabled,disableLocalFiles:this.opts.disableLocalFiles,direction:this.opts.direction,activePickerPanel:n.activePickerPanel,showFileEditor:n.showFileEditor,saveFileEditor:this.saveFileEditor,closeFileEditor:this.closeFileEditor,disableInteractiveElements:this.disableInteractiveElements,animateOpenClose:this.opts.animateOpenClose,isClosing:n.isClosing,progressindicators:y,editors:x,autoProceed:this.uppy.opts.autoProceed,id:this.id,closeModal:this.requestCloseModal,handleClickOutside:this.handleClickOutside,handleInputChange:this.handleInputChange,handlePaste:this.handlePaste,inline:this.opts.inline,showPanel:this.showPanel,hideAllPanels:this.hideAllPanels,i18n:this.i18n,i18nArray:this.i18nArray,uppy:this.uppy,note:this.opts.note,recoveredState:r.recoveredState,metaFields:n.metaFields,resumableUploads:a.resumableUploads||!1,individualCancellation:a.individualCancellation,isMobileDevice:a.isMobileDevice,fileCardFor:n.fileCardFor,toggleFileCard:this.toggleFileCard,toggleAddFilesPanel:this.toggleAddFilesPanel,showAddFilesPanel:n.showAddFilesPanel,saveFileCard:this.saveFileCard,openFileEditor:this.openFileEditor,canEditFile:this.canEditFile,width:this.opts.width,height:this.opts.height,showLinkToFileUploadResult:this.opts.showLinkToFileUploadResult,fileManagerSelectionType:this.opts.fileManagerSelectionType,proudlyDisplayPoweredByUppy:this.opts.proudlyDisplayPoweredByUppy,hideCancelButton:this.opts.hideCancelButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,showRemoveButtonAfterComplete:this.opts.showRemoveButtonAfterComplete,containerWidth:n.containerWidth,containerHeight:n.containerHeight,areInsidesReadyToBeVisible:n.areInsidesReadyToBeVisible,parentElement:this.el,allowedFileTypes:this.uppy.opts.restrictions.allowedFileTypes,maxNumberOfFiles:this.uppy.opts.restrictions.maxNumberOfFiles,requiredMetaFields:this.uppy.opts.restrictions.requiredMetaFields,showSelectedFiles:this.opts.showSelectedFiles,showNativePhotoCameraButton:this.opts.showNativePhotoCameraButton,showNativeVideoCameraButton:this.opts.showNativeVideoCameraButton,nativeCameraFacingMode:this.opts.nativeCameraFacingMode,singleFileFullScreen:this.opts.singleFileFullScreen,handleCancelRestore:this.handleCancelRestore,handleRequestThumbnail:this.handleRequestThumbnail,handleCancelThumbnail:this.handleCancelThumbnail,isDraggingOver:n.isDraggingOver,handleDragOver:this.handleDragOver,handleDragLeave:this.handleDragLeave,handleDrop:this.handleDrop})});U(this,Ep,()=>{const{plugins:r}=this.opts;r.forEach(n=>{const s=this.uppy.getPlugin(n);s?s.mount(this,s):this.uppy.log(`[Uppy] Dashboard could not find plugin '${n}', make sure to uppy.use() the plugins you are specifying`,"warning")})});U(this,Tp,()=>{this.uppy.iteratePlugins(N(this,jl))});U(this,jl,r=>{var s;const n=["acquirer","editor"];r&&!((s=r.opts)!=null&&s.target)&&n.includes(r.type)&&(this.getPluginState().targets.some(o=>r.id===o.id)||r.mount(this,r))});C(this,"install",()=>{var c;this.setPluginState({isHidden:!0,fileCardFor:null,activeOverlayType:null,showAddFilesPanel:!1,activePickerPanel:void 0,showFileEditor:!1,metaFields:this.opts.metaFields,targets:[],areInsidesReadyToBeVisible:!1,isDraggingOver:!1});const{inline:r,closeAfterFinish:n}=this.opts;if(r&&n)throw new Error("[Dashboard] `closeAfterFinish: true` cannot be used on an inline Dashboard, because an inline Dashboard cannot be closed at all. Either set `inline: false`, or disable the `closeAfterFinish` option.");const{allowMultipleUploads:s,allowMultipleUploadBatches:a}=this.uppy.opts;(s||a)&&n&&this.uppy.log("[Dashboard] When using `closeAfterFinish`, we recommended setting the `allowMultipleUploadBatches` option to `false` in the Uppy constructor. See https://uppy.io/docs/uppy/#allowMultipleUploads-true","warning");const{target:o}=this.opts;o&&this.mount(o,this),this.opts.disableStatusBar||this.uppy.use(nK,{id:q(this,Xt,Gx).call(this),target:this,...q(this,Xt,Hx).call(this)}),this.opts.disableInformer||this.uppy.use(bF,{id:q(this,Xt,WF).call(this),target:this,...q(this,Xt,HF).call(this)}),this.opts.disableThumbnailGenerator||this.uppy.use(OF,{id:q(this,Xt,Kx).call(this),...q(this,Xt,Wx).call(this)}),this.darkModeMediaQuery=typeof window<"u"&&window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)"):null;const l=this.darkModeMediaQuery?this.darkModeMediaQuery.matches:!1;this.uppy.log(`[Dashboard] Dark mode is ${l?"on":"off"}`),this.setDarkModeCapability(l),this.opts.theme==="auto"&&((c=this.darkModeMediaQuery)==null||c.addListener(this.handleSystemDarkModeChange)),N(this,Ep).call(this),N(this,Tp).call(this),this.initEvents()});C(this,"uninstall",()=>{var n;if(!this.opts.disableInformer){const s=this.uppy.getPlugin(`${this.id}:Informer`);s&&this.uppy.removePlugin(s)}if(!this.opts.disableStatusBar){const s=this.uppy.getPlugin(`${this.id}:StatusBar`);s&&this.uppy.removePlugin(s)}if(!this.opts.disableThumbnailGenerator){const s=this.uppy.getPlugin(`${this.id}:ThumbnailGenerator`);s&&this.uppy.removePlugin(s)}const{plugins:r}=this.opts;r.forEach(s=>{const a=this.uppy.getPlugin(s);a&&a.unmount()}),this.opts.theme==="auto"&&((n=this.darkModeMediaQuery)==null||n.removeListener(this.handleSystemDarkModeChange)),this.opts.disablePageScrollWhenModalOpen&&document.body.classList.remove("uppy-Dashboard-isFixed"),this.unmount(),this.removeEvents()});this.id=this.opts.id||"Dashboard",this.title="Dashboard",this.type="orchestrator",this.defaultLocale=KQ,this.opts.doneButtonHandler===void 0&&(this.opts.doneButtonHandler=()=>{this.uppy.clear(),this.requestCloseModal()}),(a=this.opts).onRequestCloseModal??(a.onRequestCloseModal=()=>this.closeModal()),this.i18nInit()}setOptions(r){var n,s;super.setOptions(r),(n=this.uppy.getPlugin(q(this,Xt,Gx).call(this)))==null||n.setOptions(q(this,Xt,Hx).call(this)),(s=this.uppy.getPlugin(q(this,Xt,Kx).call(this)))==null||s.setOptions(q(this,Xt,Wx).call(this))}},bl=new WeakMap,Da=new WeakMap,fu=new WeakMap,wl=new WeakMap,Sp=new WeakMap,Cp=new WeakMap,_p=new WeakMap,La=new WeakMap,Ep=new WeakMap,Tp=new WeakMap,jl=new WeakMap,Xt=new WeakSet,Hx=function(){const{hideUploadButton:r,hideRetryButton:n,hidePauseResumeButton:s,hideCancelButton:a,showProgressDetails:o,hideProgressAfterFinish:l,locale:c,doneButtonHandler:d}=this.opts;return{hideUploadButton:r,hideRetryButton:n,hidePauseResumeButton:s,hideCancelButton:a,showProgressDetails:o,hideAfterFinish:l,locale:c,doneButtonHandler:d}},Wx=function(){const{thumbnailWidth:r,thumbnailHeight:n,thumbnailType:s,waitForThumbnailsBeforeUpload:a}=this.opts;return{thumbnailWidth:r,thumbnailHeight:n,thumbnailType:s,waitForThumbnailsBeforeUpload:a,lazy:!a}},HF=function(){return{}},Gx=function(){return`${this.id}:StatusBar`},Kx=function(){return`${this.id}:ThumbnailGenerator`},WF=function(){return`${this.id}:Informer`},C(zg,"VERSION",uQ.version),zg);const rX=["defaultChecked","defaultValue","suppressContentEditableWarning","suppressHydrationWarning","dangerouslySetInnerHTML","accessKey","className","contentEditable","contextMenu","dir","draggable","hidden","id","lang","placeholder","slot","spellCheck","style","tabIndex","title","translate","radioGroup","role","about","datatype","inlist","prefix","property","resource","typeof","vocab","autoCapitalize","autoCorrect","autoSave","color","itemProp","itemScope","itemType","itemID","itemRef","results","security","unselectable","inputMode","is","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],nX=/^(aria-|data-)/,GF=t=>Object.fromEntries(Object.entries(t).filter(([e])=>nX.test(e)||rX.includes(e)));function sX(t,e){const r=GF(t);return Object.keys(t).some(n=>!Object.hasOwn(r,n)&&t[n]!==e[n])}class KF extends p.Component{constructor(){super(...arguments);C(this,"container");C(this,"plugin")}componentDidMount(){this.installPlugin()}componentDidUpdate(r){const{uppy:n,open:s,onRequestClose:a}=this.props;if(r.uppy!==n)this.uninstallPlugin(r),this.installPlugin();else if(sX(this.props,r)){const{uppy:o,...l}={...this.props,inline:!1,onRequestCloseModal:a};this.plugin.setOptions(l)}r.open&&!s?this.plugin.closeModal():!r.open&&s&&this.plugin.openModal()}componentWillUnmount(){this.uninstallPlugin()}installPlugin(){const{target:r=this.container,open:n,onRequestClose:s,uppy:a,...o}=this.props,l={id:"DashboardModal",...o,inline:!1,target:r,open:n,onRequestCloseModal:s};a.use(tX,l),this.plugin=a.getPlugin(l.id),n&&this.plugin.openModal()}uninstallPlugin(r=this.props){const{uppy:n}=r;n.removePlugin(this.plugin)}render(){return p.createElement("div",{className:"uppy-Container",ref:r=>{this.container=r},...GF(this.props)})}}C(KF,"defaultProps",{open:void 0,onRequestClose:void 0});p.createContext({uppy:void 0,status:"init",progress:0});var iX={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gu=p;function aX(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var oX=typeof Object.is=="function"?Object.is:aX,lX=Gu.useSyncExternalStore,cX=Gu.useRef,dX=Gu.useEffect,uX=Gu.useMemo,hX=Gu.useDebugValue;iX.useSyncExternalStoreWithSelector=function(t,e,r,n,s){var a=cX(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=uX(function(){function c(g){if(!d){if(d=!0,u=g,g=n(g),s!==void 0&&o.hasValue){var j=o.value;if(s(j,g))return h=j}return h=g}if(j=h,oX(u,g))return j;var m=n(g);return s!==void 0&&s(j,m)?j:(u=g,h=m)}var d=!1,u,h,f=r===void 0?null:r;return[function(){return c(e())},f===null?void 0:function(){return c(f())}]},[e,r,n,s]);var l=lX(t,a[0],a[1]);return dX(function(){o.hasValue=!0,o.value=l},[l]),hX(l),l};function QF(t,e){return Object.hasOwn(t,e)}class fX extends Error{constructor(r,n){super(r);C(this,"isNetworkError");C(this,"cause");this.cause=n==null?void 0:n.cause,this.cause&&QF(this.cause,"isNetworkError")?this.isNetworkError=this.cause.isNetworkError:this.isNetworkError=!1}}class pX extends Error{constructor(r,n=null){super("This looks like a network error, the endpoint might be blocked by an internet provider or a firewall.");C(this,"cause");C(this,"isNetworkError");C(this,"request");this.cause=r,this.isNetworkError=!0,this.request=n}}function mX(...t){return fetch(...t).catch(e=>{throw e.name==="AbortError"?e:new pX(e)})}function gX(t){var s;const r=(s=/^(?:https?:\/\/|\/\/)?(?:[^@\n]+@)?([^\n]+)/i.exec(t))==null?void 0:s[1];return`${/^http:\/\//i.test(t)?"ws":"wss"}://${r}`}class yX extends Error{constructor(){super(...arguments);C(this,"name","UserFacingApiError")}}var XF={};function Nn(t,e){typeof e=="boolean"&&(e={forever:e}),this._originalTimeouts=JSON.parse(JSON.stringify(t)),this._timeouts=t,this._options=e||{},this._maxRetryTime=e&&e.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}var xX=Nn;Nn.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)};Nn.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null};Nn.prototype.retry=function(t){if(this._timeout&&clearTimeout(this._timeout),!t)return!1;var e=new Date().getTime();if(t&&e-this._operationStart>=this._maxRetryTime)return this._errors.push(t),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(t);var r=this._timeouts.shift();if(r===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),r=this._cachedTimeouts.slice(-1);else return!1;var n=this;return this._timer=setTimeout(function(){n._attempts++,n._operationTimeoutCb&&(n._timeout=setTimeout(function(){n._operationTimeoutCb(n._attempts)},n._operationTimeout),n._options.unref&&n._timeout.unref()),n._fn(n._attempts)},r),this._options.unref&&this._timer.unref(),!0};Nn.prototype.attempt=function(t,e){this._fn=t,e&&(e.timeout&&(this._operationTimeout=e.timeout),e.cb&&(this._operationTimeoutCb=e.cb));var r=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){r._operationTimeoutCb()},r._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)};Nn.prototype.try=function(t){console.log("Using RetryOperation.try() is deprecated"),this.attempt(t)};Nn.prototype.start=function(t){console.log("Using RetryOperation.start() is deprecated"),this.attempt(t)};Nn.prototype.start=Nn.prototype.try;Nn.prototype.errors=function(){return this._errors};Nn.prototype.attempts=function(){return this._attempts};Nn.prototype.mainError=function(){if(this._errors.length===0)return null;for(var t={},e=null,r=0,n=0;n<this._errors.length;n++){var s=this._errors[n],a=s.message,o=(t[a]||0)+1;t[a]=o,o>=r&&(e=s,r=o)}return e};(function(t){var e=xX;t.operation=function(r){var n=t.timeouts(r);return new e(n,{forever:r&&(r.forever||r.retries===1/0),unref:r&&r.unref,maxRetryTime:r&&r.maxRetryTime})},t.timeouts=function(r){if(r instanceof Array)return[].concat(r);var n={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var s in r)n[s]=r[s];if(n.minTimeout>n.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var a=[],o=0;o<n.retries;o++)a.push(this.createTimeout(o,n));return r&&r.forever&&!a.length&&a.push(this.createTimeout(o,n)),a.sort(function(l,c){return l-c}),a},t.createTimeout=function(r,n){var s=n.randomize?Math.random()+1:1,a=Math.round(s*Math.max(n.minTimeout,1)*Math.pow(n.factor,r));return a=Math.min(a,n.maxTimeout),a},t.wrap=function(r,n,s){if(n instanceof Array&&(s=n,n=null),!s){s=[];for(var a in r)typeof r[a]=="function"&&s.push(a)}for(var o=0;o<s.length;o++){var l=s[o],c=r[l];r[l]=(function(u){var h=t.operation(n),f=Array.prototype.slice.call(arguments,1),g=f.pop();f.push(function(j){h.retry(j)||(j&&(arguments[0]=h.mainError()),g.apply(this,arguments))}),h.attempt(function(){u.apply(r,f)})}).bind(r,c),r[l].options=n}}})(XF);var vX=XF;const bX=pi(vX),wX=Object.prototype.toString,jX=t=>wX.call(t)==="[object Error]",NX=new Set(["network error","Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Load failed","Network request failed","fetch failed","terminated"]);function SX(t){return t&&jX(t)&&t.name==="TypeError"&&typeof t.message=="string"?t.message==="Load failed"?t.stack===void 0:NX.has(t.message):!1}class Qx extends Error{constructor(e){super(),e instanceof Error?(this.originalError=e,{message:e}=e):(this.originalError=new Error(e),this.originalError.stack=this.stack),this.name="AbortError",this.message=e}}const tN=(t,e,r)=>{const n=r.retries-(e-1);return t.attemptNumber=e,t.retriesLeft=n,t};async function rN(t,e){return new Promise((r,n)=>{e={...e},e.onFailedAttempt??(e.onFailedAttempt=()=>{}),e.shouldRetry??(e.shouldRetry=()=>!0),e.retries??(e.retries=10);const s=bX.operation(e),a=()=>{var l;s.stop(),n((l=e.signal)==null?void 0:l.reason)};e.signal&&!e.signal.aborted&&e.signal.addEventListener("abort",a,{once:!0});const o=()=>{var l;(l=e.signal)==null||l.removeEventListener("abort",a),s.stop()};s.attempt(async l=>{try{const c=await t(l);o(),r(c)}catch(c){try{if(!(c instanceof Error))throw new TypeError(`Non-error was thrown: "${c}". You should only throw errors.`);if(c instanceof Qx)throw c.originalError;if(c instanceof TypeError&&!SX(c))throw c;if(tN(c,l,e),await e.shouldRetry(c)||(s.stop(),n(c)),await e.onFailedAttempt(c),!s.retry(c))throw s.mainError()}catch(d){tN(d,l,e),o(),n(d)}}})})}const CX="@uppy/companion-client",_X="Client library for communication with Companion. Intended for use in Uppy plugins.",EX="4.5.2",TX="MIT",kX="lib/index.js",PX="module",AX={build:"tsc --build tsconfig.build.json",typecheck:"tsc --build",test:"vitest run --environment=jsdom --silent='passed-only'"},RX=["file uploader","uppy","uppy-plugin","companion","provider"],OX="https://uppy.io",FX={url:"https://github.com/transloadit/uppy/issues"},IX={type:"git",url:"git+https://github.com/transloadit/uppy.git"},MX=["src","lib","dist","CHANGELOG.md"],DX={"@uppy/utils":"^6.2.2","namespace-emitter":"^2.0.1","p-retry":"^6.1.0"},LX={jsdom:"^26.1.0",typescript:"^5.8.3",vitest:"^3.2.4"},$X={"@uppy/core":"^4.5.2"},UX={name:CX,description:_X,version:EX,license:TX,main:kX,type:PX,scripts:AX,keywords:RX,homepage:OX,bugs:FX,repository:IX,files:MX,dependencies:DX,devDependencies:LX,peerDependencies:$X};class zX extends Error{constructor(){super("Authorization required");C(this,"isAuthError");this.name="AuthError",this.isAuthError=!0}}function BX(t){return t.replace(/\/$/,"")}const nN=10,VX=5*60*1e3,qX=401;class HX extends Error{constructor({statusCode:r,message:n}){super(n);C(this,"statusCode");this.name="HttpError",this.statusCode=r}}async function WX(t){if(t.status===qX)throw new zX;if(t.ok)return t.json();let e=`Failed request with status: ${t.status}. ${t.statusText}`,r;try{r=await t.json(),r.message&&(e=`${e} message: ${r.message}`),r.requestId&&(e=`${e} request-Id: ${r.requestId}`)}catch(n){throw new Error(e,{cause:n})}throw t.status>=400&&t.status<=499&&r.message?new yX(r.message):new HX({statusCode:t.status,message:e})}function GX(t,e,r){const{progress:n,bytesUploaded:s,bytesTotal:a}=e;n&&(t.uppy.log(`Upload progress: ${n}`),t.uppy.emit("upload-progress",r,{uploadStarted:r.progress.uploadStarted??0,bytesUploaded:s,bytesTotal:a}))}var $a,la,Xx,kp,Zx;class ZF{constructor(e,r){U(this,la);U(this,$a);C(this,"uppy");C(this,"opts");U(this,kp,async({file:e,postBody:r,signal:n})=>{var a;if(((a=e.remote)==null?void 0:a.url)==null)throw new Error("Cannot connect to an undefined URL");return(await this.post(e.remote.url,{...e.remote.body,...r},{signal:n})).token});this.uppy=e,this.opts=r,this.onReceiveResponse=this.onReceiveResponse.bind(this),B(this,$a,r.companionHeaders)}setCompanionHeaders(e){B(this,$a,e)}[Symbol.for("uppy test: getCompanionHeaders")](){return N(this,$a)}get hostname(){const{companion:e}=this.uppy.getState(),r=this.opts.companionUrl;return BX(e!=null&&e[r]?e[r]:r)}async headers(e=!1){return{...{Accept:"application/json",...e?void 0:{"Content-Type":"application/json"}},...N(this,$a)}}onReceiveResponse(e){const{headers:r}=e,s=this.uppy.getState().companion||{},a=this.opts.companionUrl;r.has("i-am")&&r.get("i-am")!==s[a]&&this.uppy.setState({companion:{...s,[a]:r.get("i-am")}})}async request({path:e,method:r="GET",data:n,skipPostResponse:s,signal:a}){try{const o=await this.headers(!n),l=await mX(q(this,la,Xx).call(this,e),{method:r,signal:a,headers:o,credentials:this.opts.companionCookiesRule||"same-origin",body:n?JSON.stringify(n):null});return s||this.onReceiveResponse(l),await WX(l)}catch(o){throw o.isAuthError||o.name==="UserFacingApiError"||o.name==="AbortError"?o:new fX(`Could not ${r} ${q(this,la,Xx).call(this,e)}`,{cause:o})}}async get(e,r){return this.request({...r,path:e})}async post(e,r,n){return this.request({...n,path:e,method:"POST",data:r})}async delete(e,r,n){return this.request({...n,path:e,method:"DELETE",data:r})}async uploadRemoteFile(e,r,n){try{const{signal:s,getQueue:a}=n||{};return await rN(async()=>{var d;const o=(d=this.uppy.getFile(e.id))==null?void 0:d.serverToken;if(o!=null)return this.uppy.log(`Connecting to exiting websocket ${o}`),q(this,la,Zx).call(this,{file:e,queue:a(),signal:s});const c=await a().wrapPromiseFunction(async(...u)=>{try{return await N(this,kp).call(this,...u)}catch(h){if(h.isAuthError)throw new Qx(h);if(h.cause==null)throw h;const f=h.cause,g=()=>[408,409,429,418,423].includes(f.statusCode)||f.statusCode>=500&&f.statusCode<=599&&![501,505].includes(f.statusCode);throw f.name==="HttpError"&&!g()?new Qx(f):f}},{priority:-1})({file:e,postBody:r,signal:s}).abortOn(s);if(this.uppy.getFile(e.id))return this.uppy.setFileState(e.id,{serverToken:c}),q(this,la,Zx).call(this,{file:this.uppy.getFile(e.id),queue:a(),signal:s})},{retries:nN,signal:s,onFailedAttempt:o=>this.uppy.log(`Retrying upload due to: ${o.message}`,"warning")})}catch(s){if(s.name==="AbortError")return;throw this.uppy.emit("upload-error",e,s),s}}}$a=new WeakMap,la=new WeakSet,Xx=function(e){return/^(https?:|)\/\//.test(e)?e:`${this.hostname}/${e}`},kp=new WeakMap,Zx=async function({file:e,queue:r,signal:n}){let s;const{capabilities:a}=this.uppy.getState();try{return await new Promise((o,l)=>{const c=e.serverToken,d=gX(e.remote.companionUrl);let u,h,f,{isPaused:g}=e;const j=(T,A)=>{if(u==null||u.readyState!==u.OPEN){this.uppy.log(`Cannot send "${T}" to socket ${e.id} because the socket state was ${String(u==null?void 0:u.readyState)}`,"warning");return}u.send(JSON.stringify({action:T,payload:A??{}}))};function m(){a.resumableUploads&&j(g?"pause":"resume")}const v=async()=>{h&&h.abort(),h=new AbortController;const T=O=>{var M;this.uppy.setFileState(e.id,{serverToken:null}),(M=h==null?void 0:h.abort)==null||M.call(h),l(O)};function A(){clearTimeout(f),!g&&(f=setTimeout(()=>T(new Error("Timeout waiting for message from Companion socket")),VX))}try{await r.wrapPromiseFunction(async()=>{await rN(async()=>new Promise((M,G)=>{u=new WebSocket(`${d}/api/${c}`),A(),u.addEventListener("close",()=>{u=void 0,G(new Error("Socket closed unexpectedly"))}),u.addEventListener("error",R=>{this.uppy.log(`Companion socket error ${JSON.stringify(R)}, closing socket`,"warning"),u==null||u.close()}),u.addEventListener("open",()=>{m()}),u.addEventListener("message",R=>{var I,ae,J;A();try{const{action:ce,payload:F}=JSON.parse(R.data);switch(ce){case"progress":{GX(this,F,this.uppy.getFile(e.id));break}case"success":{const $=(I=F.response)==null?void 0:I.responseText;this.uppy.emit("upload-success",this.uppy.getFile(e.id),{uploadURL:F.url,status:((ae=F.response)==null?void 0:ae.status)??200,body:$?JSON.parse($):void 0}),(J=h==null?void 0:h.abort)==null||J.call(h),o();break}case"error":{const{message:$}=F.error;throw Object.assign(new Error($),{cause:F.error})}default:this.uppy.log(`Companion socket unknown action ${ce}`,"warning")}}catch(ce){T(ce)}});const L=()=>{this.uppy.log(`Closing socket ${e.id}`),clearTimeout(f),u&&u.close(),u=void 0};h.signal.addEventListener("abort",()=>{L()})}),{retries:nN,signal:h.signal,onFailedAttempt:()=>{h.signal.aborted||this.uppy.log(`Retrying websocket ${e.id}`)}})})().abortOn(h.signal)}catch(O){if(h.signal.aborted)return;T(O)}},w=T=>{a.resumableUploads&&(g=T,u&&m())},y=T=>{var A;a.individualCancellation&&T.id===e.id&&(j("cancel"),(A=h==null?void 0:h.abort)==null||A.call(h),this.uppy.log(`upload ${e.id} was removed`),o())},x=()=>{var T;j("cancel"),(T=h==null?void 0:h.abort)==null||T.call(h),this.uppy.log(`upload ${e.id} was canceled`),o()},b=(T,A)=>{(T==null?void 0:T.id)===e.id&&w(A)},E=()=>w(!0),k=()=>w(!1);this.uppy.on("file-removed",y),this.uppy.on("cancel-all",x),this.uppy.on("upload-pause",b),this.uppy.on("pause-all",E),this.uppy.on("resume-all",k),s=()=>{this.uppy.off("file-removed",y),this.uppy.off("cancel-all",x),this.uppy.off("upload-pause",b),this.uppy.off("pause-all",E),this.uppy.off("resume-all",k)},n.addEventListener("abort",()=>{h==null||h.abort()}),v()})}finally{s==null||s()}},C(ZF,"VERSION",UX.version);var bs,pu;class KX{constructor(e){U(this,bs);U(this,pu,[]);B(this,bs,e)}on(e,r){return N(this,pu).push([e,r]),N(this,bs).on(e,r)}remove(){for(const[e,r]of N(this,pu).splice(0))N(this,bs).off(e,r)}onFilePause(e,r){this.on("upload-pause",(n,s)=>{e===(n==null?void 0:n.id)&&r(s)})}onFileRemove(e,r){this.on("file-removed",n=>{e===n.id&&r(n.id)})}onPause(e,r){this.on("upload-pause",(n,s)=>{e===(n==null?void 0:n.id)&&r(s)})}onRetry(e,r){this.on("upload-retry",n=>{e===(n==null?void 0:n.id)&&r()})}onRetryAll(e,r){this.on("retry-all",()=>{N(this,bs).getFile(e)&&r()})}onPauseAll(e,r){this.on("pause-all",()=>{N(this,bs).getFile(e)&&r()})}onCancelAll(e,r){this.on("cancel-all",(...n)=>{N(this,bs).getFile(e)&&r(...n)})}onResumeAll(e,r){this.on("resume-all",()=>{N(this,bs).getFile(e)&&r()})}}bs=new WeakMap,pu=new WeakMap;const{AbortController:$g}=globalThis,YF=(t="Aborted",e)=>{const r=new DOMException(t,"AbortError");return e!=null&&QF(e,"cause")&&Object.defineProperty(r,"cause",{__proto__:null,configurable:!0,writable:!0,value:e.cause}),r};function QX(t){const e=r=>"error"in r&&!!r.error;return t.filter(r=>!e(r))}function XX(t){return t.filter(e=>{var r;return!((r=e.progress)!=null&&r.uploadStarted)||!e.isRestored})}function sN(t,e){return t===!0?Object.keys(e):Array.isArray(t)?t:[]}function ZX(t){return new Error("Cancelled",{cause:t})}function iN(t){var e;if(t!=null){const r=()=>this.abort(t.reason);t.addEventListener("abort",r,{once:!0});const n=()=>{t.removeEventListener("abort",r)};(e=this.then)==null||e.call(this,n,n)}return this}var Qs,ws,Xs,Nl,js,Sl,Ua,gr,Yx,Jc,JF,eI,tI,Pp,Cl;class YX{constructor(e){U(this,gr);U(this,Qs,0);U(this,ws,[]);U(this,Xs,!1);U(this,Nl);U(this,js,1);U(this,Sl);U(this,Ua);C(this,"limit");U(this,Pp,()=>this.resume());U(this,Cl,()=>{if(N(this,Xs)){B(this,Ua,setTimeout(N(this,Cl),0));return}B(this,js,this.limit),this.limit=Math.ceil((N(this,Sl)+N(this,js))/2);for(let e=N(this,js);e<=this.limit;e++)q(this,gr,Jc).call(this);N(this,Sl)-N(this,js)>3?B(this,Ua,setTimeout(N(this,Cl),2e3)):B(this,js,Math.floor(N(this,js)/2))});typeof e!="number"||e===0?this.limit=1/0:this.limit=e}run(e,r){return!N(this,Xs)&&N(this,Qs)<this.limit?q(this,gr,Yx).call(this,e):q(this,gr,eI).call(this,e,r)}wrapSyncFunction(e,r){return(...n)=>{const s=this.run(()=>(e(...n),queueMicrotask(()=>s.done()),()=>{}),r);return{abortOn:iN,abort(){s.abort()}}}}wrapPromiseFunction(e,r){return(...n)=>{let s;const a=new Promise((o,l)=>{s=this.run(()=>{let c,d;try{d=Promise.resolve(e(...n))}catch(u){d=Promise.reject(u)}return d.then(u=>{c?l(c):(s.done(),o(u))},u=>{c?l(c):(s.done(),l(u))}),u=>{c=ZX(u)}},r)});return a.abort=o=>{s.abort(o)},a.abortOn=iN,a}}resume(){B(this,Xs,!1),clearTimeout(N(this,Nl));for(let e=0;e<this.limit;e++)q(this,gr,Jc).call(this)}pause(e=null){B(this,Xs,!0),clearTimeout(N(this,Nl)),e!=null&&B(this,Nl,setTimeout(N(this,Pp),e))}rateLimit(e){clearTimeout(N(this,Ua)),this.pause(e),this.limit>1&&Number.isFinite(this.limit)&&(B(this,Sl,this.limit-1),this.limit=N(this,js),B(this,Ua,setTimeout(N(this,Cl),e)))}get isPaused(){return N(this,Xs)}}Qs=new WeakMap,ws=new WeakMap,Xs=new WeakMap,Nl=new WeakMap,js=new WeakMap,Sl=new WeakMap,Ua=new WeakMap,gr=new WeakSet,Yx=function(e){B(this,Qs,N(this,Qs)+1);let r=!1,n;try{n=e()}catch(s){throw B(this,Qs,N(this,Qs)-1),s}return{abort:s=>{r||(r=!0,B(this,Qs,N(this,Qs)-1),n==null||n(s),q(this,gr,Jc).call(this))},done:()=>{r||(r=!0,B(this,Qs,N(this,Qs)-1),q(this,gr,Jc).call(this))}}},Jc=function(){queueMicrotask(()=>q(this,gr,JF).call(this))},JF=function(){if(N(this,Xs)||N(this,Qs)>=this.limit||N(this,ws).length===0)return;const e=N(this,ws).shift();if(e==null)throw new Error("Invariant violation: next is null");const r=q(this,gr,Yx).call(this,e.fn);e.abort=r.abort,e.done=r.done},eI=function(e,r){const n={fn:e,priority:(r==null?void 0:r.priority)||0,abort:()=>{q(this,gr,tI).call(this,n)},done:()=>{throw new Error("Cannot mark a queued request as done: this indicates a bug")}},s=N(this,ws).findIndex(a=>n.priority>a.priority);return s===-1?N(this,ws).push(n):N(this,ws).splice(s,0,n),n},tI=function(e){const r=N(this,ws).indexOf(e);r!==-1&&N(this,ws).splice(r,1)},Pp=new WeakMap,Cl=new WeakMap;const JX="@uppy/aws-s3",eZ="Upload to Amazon S3 with Uppy",tZ="4.3.2",rZ="MIT",nZ="lib/index.js",sZ="module",iZ={build:"tsc --build tsconfig.build.json",typecheck:"tsc --build",test:"vitest run --environment=jsdom --silent='passed-only'"},aZ=["file uploader","aws s3","amazon s3","s3","uppy","uppy-plugin","multipart"],oZ="https://uppy.io",lZ={url:"https://github.com/transloadit/uppy/issues"},cZ={type:"git",url:"git+https://github.com/transloadit/uppy.git"},dZ=["src","lib","dist","CHANGELOG.md"],uZ={"@uppy/companion-client":"^4.5.2","@uppy/utils":"^6.2.2"},hZ={"@aws-sdk/client-s3":"^3.362.0","@aws-sdk/s3-request-presigner":"^3.362.0","@uppy/core":"^4.5.2",jsdom:"^26.1.0",nock:"^13.1.0",typescript:"^5.8.3",vitest:"^3.2.4","whatwg-fetch":"3.6.2"},fZ={"@uppy/core":"^4.5.2"},pZ={name:JX,description:eZ,version:tZ,license:rZ,main:nZ,type:sZ,scripts:iZ,keywords:aZ,homepage:oZ,bugs:lZ,repository:cZ,files:dZ,dependencies:uZ,devDependencies:hZ,peerDependencies:fZ};function mZ({method:t="PUT",CanonicalUri:e="/",CanonicalQueryString:r="",SignedHeaders:n,HashedPayload:s}){const a=Object.keys(n).map(o=>o.toLowerCase()).sort();return[t,e,r,...a.map(o=>`${o}:${n[o]}`),"",a.join(";"),s].join(`
`)}const jb=new TextEncoder,Nb={name:"HMAC",hash:"SHA-256"};async function gZ(t){const{subtle:e}=globalThis.crypto;return e.digest(Nb.hash,jb.encode(t))}async function yZ(t){const{subtle:e}=globalThis.crypto;return e.importKey("raw",typeof t=="string"?jb.encode(t):t,Nb,!1,["sign"])}function aN(t){const e=new Uint8Array(t);let r="";for(let n=0;n<e.length;n++)r+=e[n].toString(16).padStart(2,"0");return r}async function Lc(t,e){const{subtle:r}=globalThis.crypto;return r.sign(Nb,await yZ(t),jb.encode(e))}async function xZ({accountKey:t,accountSecret:e,sessionToken:r,bucketName:n,Key:s,Region:a,expires:o,uploadId:l,partNumber:c}){const d="s3",u=`${d}.${a}.amazonaws.com`,h=`/${n}/${encodeURI(s).replace(/[;?:@&=+$,#!'()*]/g,O=>`%${O.charCodeAt(0).toString(16).toUpperCase()}`)}`,f="UNSIGNED-PAYLOAD",g=new Date().toISOString().replace(/[-:]|\.\d+/g,""),j=g.slice(0,8),m=`${j}/${a}/${d}/aws4_request`,v=new URL(`https://${u}${h}`);v.searchParams.set("X-Amz-Algorithm","AWS4-HMAC-SHA256"),v.searchParams.set("X-Amz-Content-Sha256",f),v.searchParams.set("X-Amz-Credential",`${t}/${m}`),v.searchParams.set("X-Amz-Date",g),v.searchParams.set("X-Amz-Expires",o),v.searchParams.set("X-Amz-Security-Token",r),v.searchParams.set("X-Amz-SignedHeaders","host"),c&&v.searchParams.set("partNumber",c),l&&v.searchParams.set("uploadId",l),v.searchParams.set("x-id",c&&l?"UploadPart":"PutObject");const w=mZ({CanonicalUri:h,CanonicalQueryString:v.search.slice(1),SignedHeaders:{host:u},HashedPayload:f}),y=aN(await gZ(w)),x=["AWS4-HMAC-SHA256",g,m,y].join(`
`),b=await Lc(`AWS4${e}`,j),E=await Lc(b,a),k=await Lc(E,d),T=await Lc(k,"aws4_request"),A=aN(await Lc(T,x));return v.searchParams.set("X-Amz-Signature",A),v}const vZ=1024*1024,oN={getChunkSize(t){return Math.ceil(t.size/1e4)},onProgress(){},onPartComplete(){},onSuccess(){},onError(t){throw t}};function bZ(t){if(typeof t=="string")return parseInt(t,10);if(typeof t=="number")return t;throw new TypeError("Expected a number")}const df=Symbol("pausing upload, not an actual error");var In,cn,Ns,Zs,Ys,mu,gu,_l,za,El,yu,Tl,xu,as,rI,nI,Jx,vu,bu,sI;class wZ{constructor(e,r){U(this,as);C(this,"options");U(this,In,new $g);U(this,cn,[]);U(this,Ns,[]);U(this,Zs);U(this,Ys);U(this,mu,!1);U(this,gu);U(this,_l);U(this,za);U(this,El);U(this,yu,e=>(e==null?void 0:e.cause)===df?null:N(this,gu).call(this,e));U(this,Tl,1e4);U(this,xu,5*vZ);U(this,vu,e=>r=>{if(!r.lengthComputable)return;N(this,Ns)[e].uploaded=bZ(r.loaded);const n=N(this,Ns).reduce((s,a)=>s+a.uploaded,0);this.options.onProgress(n,N(this,Zs).size)});U(this,bu,e=>r=>{N(this,cn)[e]=null,N(this,Ns)[e].etag=r,N(this,Ns)[e].done=!0;const n={PartNumber:e+1,ETag:r};this.options.onPartComplete(n)});var n;this.options={...oN,...r},(n=this.options).getChunkSize??(n.getChunkSize=oN.getChunkSize),B(this,Zs,e),B(this,Ys,r.file),B(this,_l,this.options.onSuccess),B(this,gu,this.options.onError),B(this,za,this.options.shouldUseMultipart),B(this,El,r.uploadId&&r.key),q(this,as,rI).call(this)}start(){N(this,mu)?(N(this,In).signal.aborted||N(this,In).abort(df),B(this,In,new $g),q(this,as,Jx).call(this)):N(this,El)?(this.options.companionComm.restoreUploadFile(N(this,Ys),{uploadId:this.options.uploadId,key:this.options.key}),q(this,as,Jx).call(this)):q(this,as,nI).call(this)}pause(){N(this,In).abort(df),B(this,In,new $g)}abort(e){e!=null&&e.really?q(this,as,sI).call(this):this.pause()}[Symbol.for("uppy test: getChunkState")](){return N(this,Ns)}}In=new WeakMap,cn=new WeakMap,Ns=new WeakMap,Zs=new WeakMap,Ys=new WeakMap,mu=new WeakMap,gu=new WeakMap,_l=new WeakMap,za=new WeakMap,El=new WeakMap,yu=new WeakMap,Tl=new WeakMap,xu=new WeakMap,as=new WeakSet,rI=function(){const e=N(this,Zs).size,r=typeof N(this,za)=="function"?N(this,za).call(this,N(this,Ys)):!!N(this,za);if(r&&e>N(this,xu)){let n=Math.max(this.options.getChunkSize(N(this,Zs)),N(this,xu)),s=Math.floor(e/n);s>N(this,Tl)&&(s=N(this,Tl),n=e/N(this,Tl)),B(this,cn,Array(s));for(let a=0,o=0;a<e;a+=n,o++){const l=Math.min(e,a+n),c=()=>{const d=a;return N(this,Zs).slice(d,l)};if(N(this,cn)[o]={getData:c,onProgress:N(this,vu).call(this,o),onComplete:N(this,bu).call(this,o),shouldUseMultipart:r},N(this,El)){const d=a+n>e?e-a:n;N(this,cn)[o].setAsUploaded=()=>{N(this,cn)[o]=null,N(this,Ns)[o].uploaded=d}}}}else B(this,cn,[{getData:()=>N(this,Zs),onProgress:N(this,vu).call(this,0),onComplete:N(this,bu).call(this,0),shouldUseMultipart:r}]);B(this,Ns,N(this,cn).map(()=>({uploaded:0})))},nI=function(){this.options.companionComm.uploadFile(N(this,Ys),N(this,cn),N(this,In).signal).then(N(this,_l),N(this,yu)),B(this,mu,!0)},Jx=function(){this.options.companionComm.resumeUploadFile(N(this,Ys),N(this,cn),N(this,In).signal).then(N(this,_l),N(this,yu))},vu=new WeakMap,bu=new WeakMap,sI=function(){N(this,In).abort(),this.options.companionComm.abortFileUpload(N(this,Ys)).catch(e=>this.options.log(e))};function pr(t){if(t!=null&&t.aborted)throw YF("The operation was aborted",{cause:t.reason})}function jZ(t){const e=new URL(t);return e.search="",e.hash="",e.href}var wu,Mn,ju,Nu,Su,Cu,kl,Pl,Al,Rl,Ba,Ol,Dn,co,iI,ev;class NZ{constructor(e,r,n,s){U(this,co);U(this,wu);U(this,Mn,new WeakMap);U(this,ju);U(this,Nu);U(this,Su);U(this,Cu);U(this,kl);U(this,Pl);U(this,Al);U(this,Rl);U(this,Ba);U(this,Ol);U(this,Dn);B(this,Pl,e),B(this,Ba,n),B(this,Dn,s),this.setOptions(r)}setOptions(e){const r=N(this,Pl);"abortMultipartUpload"in e&&B(this,wu,r.wrapPromiseFunction(e.abortMultipartUpload,{priority:1})),"createMultipartUpload"in e&&B(this,ju,r.wrapPromiseFunction(e.createMultipartUpload,{priority:-1})),"signPart"in e&&B(this,Nu,r.wrapPromiseFunction(e.signPart)),"listParts"in e&&B(this,Cu,r.wrapPromiseFunction(e.listParts)),"completeMultipartUpload"in e&&B(this,Rl,r.wrapPromiseFunction(e.completeMultipartUpload,{priority:1})),"retryDelays"in e&&B(this,Al,e.retryDelays??[]),"uploadPartBytes"in e&&B(this,Ol,r.wrapPromiseFunction(e.uploadPartBytes,{priority:1/0})),"getUploadParameters"in e&&B(this,Su,r.wrapPromiseFunction(e.getUploadParameters))}async getUploadId(e,r){let n;for(;n=N(this,Mn).get(e.data),n!=null;)try{return await n}catch{}const s=N(this,ju).call(this,N(this,Dn).call(this,e),r),a=()=>{s.abort(r.reason),N(this,Mn).delete(e.data)};return r.addEventListener("abort",a,{once:!0}),N(this,Mn).set(e.data,s),s.then(async o=>{r.removeEventListener("abort",a),N(this,Ba).call(this,e,o),N(this,Mn).set(e.data,o)},()=>{r.removeEventListener("abort",a),N(this,Mn).delete(e.data)}),s}async abortFileUpload(e){const r=N(this,Mn).get(e.data);if(r==null)return;N(this,Mn).delete(e.data),N(this,Ba).call(this,e,Object.create(null));let n;try{n=await r}catch{return}await N(this,wu).call(this,N(this,Dn).call(this,e),n)}async uploadFile(e,r,n){if(pr(n),r.length===1&&!r[0].shouldUseMultipart)return q(this,co,ev).call(this,e,r[0],n);const{uploadId:s,key:a}=await this.getUploadId(e,n);pr(n);try{const o=await Promise.all(r.map((l,c)=>this.uploadChunk(e,c+1,l,n)));return pr(n),await N(this,Rl).call(this,N(this,Dn).call(this,e),{key:a,uploadId:s,parts:o,signal:n},n).abortOn(n)}catch(o){throw(o==null?void 0:o.cause)!==df&&(o==null?void 0:o.name)!=="AbortError"&&this.abortFileUpload(e),o}}restoreUploadFile(e,r){N(this,Mn).set(e.data,r)}async resumeUploadFile(e,r,n){if(pr(n),r.length===1&&r[0]!=null&&!r[0].shouldUseMultipart)return q(this,co,ev).call(this,e,r[0],n);const{uploadId:s,key:a}=await this.getUploadId(e,n);pr(n);const o=await N(this,Cu).call(this,N(this,Dn).call(this,e),{uploadId:s,key:a,signal:n},n).abortOn(n);pr(n);const l=await Promise.all(r.map((c,d)=>{var f;const u=d+1,h=o.find(({PartNumber:g})=>g===u);return h==null?this.uploadChunk(e,u,c,n):((f=c==null?void 0:c.setAsUploaded)==null||f.call(c),{PartNumber:u,ETag:h.ETag})}));return pr(n),N(this,Rl).call(this,N(this,Dn).call(this,e),{key:a,uploadId:s,parts:l,signal:n},n).abortOn(n)}async uploadChunk(e,r,n,s){pr(s);const{uploadId:a,key:o}=await this.getUploadId(e,s),l=N(this,Al).values(),c=N(this,Al).values(),d=()=>{const u=l.next();return u==null||u.done?null:u.value};for(;;){pr(s);const u=n.getData(),{onProgress:h,onComplete:f}=n;let g;try{g=await N(this,Nu).call(this,N(this,Dn).call(this,e),{uploadId:a,key:o,partNumber:r,body:u,signal:s}).abortOn(s)}catch(j){const m=d();if(m==null||s.aborted)throw j;await new Promise(v=>setTimeout(v,m));continue}pr(s);try{return{PartNumber:r,...await N(this,Ol).call(this,{signature:g,body:u,size:u.size,onProgress:h,onComplete:f,signal:s}).abortOn(s)}}catch(j){if(!await q(this,co,iI).call(this,j,c))throw j}}}}wu=new WeakMap,Mn=new WeakMap,ju=new WeakMap,Nu=new WeakMap,Su=new WeakMap,Cu=new WeakMap,kl=new WeakMap,Pl=new WeakMap,Al=new WeakMap,Rl=new WeakMap,Ba=new WeakMap,Ol=new WeakMap,Dn=new WeakMap,co=new WeakSet,iI=async function(e,r){var a;const n=N(this,Pl),s=(a=e==null?void 0:e.source)==null?void 0:a.status;if(s==null)return!1;if(s===403&&e.message==="Request has expired"){if(!n.isPaused){if(n.limit===1||N(this,kl)==null){const o=r.next();if(o==null||o.done)return!1;B(this,kl,o.value)}n.rateLimit(0),await new Promise(o=>setTimeout(o,N(this,kl)))}}else if(s===429){if(!n.isPaused){const o=r.next();if(o==null||o.done)return!1;n.rateLimit(o.value)}}else{if(s>400&&s<500&&s!==409)return!1;if(typeof navigator<"u"&&navigator.onLine===!1)n.isPaused||(n.pause(),window.addEventListener("online",()=>{n.resume()},{once:!0}));else{const o=r.next();if(o==null||o.done)return!1;await new Promise(l=>setTimeout(l,o.value))}}return!0},ev=async function(e,r,n){const{method:s="POST",url:a,fields:o,headers:l}=await N(this,Su).call(this,N(this,Dn).call(this,e),{signal:n}).abortOn(n);let c;const d=r.getData();if(s.toUpperCase()==="POST"){const j=new FormData;Object.entries(o).forEach(([m,v])=>j.set(m,v)),j.set("file",d),c=j}else c=d;const{onProgress:u,onComplete:h}=r,f=await N(this,Ol).call(this,{signature:{url:a,headers:l,method:s},body:c,size:d.size,onProgress:u,onComplete:h,signal:n}).abortOn(n),g=o==null?void 0:o.key;return N(this,Ba).call(this,e,{key:g}),{...f,location:f.location??jZ(a),bucket:o==null?void 0:o.bucket,key:g}};function _o(t){if(t!=null&&t.error){const e=new Error(t.message);throw Object.assign(e,t.error),e}return t}function lN(t){const e=t.Expiration;if(e){const r=Math.floor((new Date(e)-Date.now())/1e3);if(r>9)return r}}function cN({meta:t,allowedMetaFields:e,querify:r=!1}){const n=e??Object.keys(t);return t?Object.fromEntries(n.filter(s=>t[s]!=null).map(s=>{const a=r?`metadata[${s}]`:s,o=String(t[s]);return[a,o]})):{}}const SZ={allowedMetaFields:!0,limit:6,getTemporarySecurityCredentials:!1,shouldUseMultipart:t=>(t.size||0)>100*1024*1024,retryDelays:[0,1e3,3e3,5e3]};var Fl,Nr,Dt,rv,ji,Ln,aI,Ap,Il,oI,lI,_u,Ml,Va,Eu;const Rp=class Rp extends L5{constructor(r,n){super(r,{...SZ,uploadPartBytes:Rp.uploadPartBytes,createMultipartUpload:null,listParts:null,abortMultipartUpload:null,completeMultipartUpload:null,signPart:null,getUploadParameters:null,...n});U(this,Dt);U(this,Fl);U(this,Nr);C(this,"requests");C(this,"uploaderEvents");C(this,"uploaders");U(this,Ln);U(this,Ap,(r,{key:n,uploadId:s})=>{const a=this.uppy.getFile(r.id);a!=null&&this.uppy.setFileState(r.id,{s3Multipart:{...a.s3Multipart,key:n,uploadId:s}})});U(this,Il,r=>this.uppy.getFile(r.id)||r);U(this,_u,async r=>{if(r.length===0)return;const n=this.uppy.getFilesByIds(r),s=QX(n),a=XX(s);this.uppy.emit("upload-start",a);const o=s.map(c=>{if(c.isRemote){const d=()=>this.requests;N(this,Va).call(this,!1);const u=new AbortController,h=g=>{g.id===c.id&&u.abort()};this.uppy.on("file-removed",h);const f=this.uppy.getRequestClientForFile(c).uploadRemoteFile(c,q(this,Dt,lI).call(this,c),{signal:u.signal,getQueue:d});return this.requests.wrapSyncFunction(()=>{this.uppy.off("file-removed",h)},{priority:-1})(),f}return q(this,Dt,oI).call(this,c)}),l=await Promise.allSettled(o);return N(this,Va).call(this,!0),l});U(this,Ml,()=>{var r;(r=N(this,Nr))==null||r.setCompanionHeaders(this.opts.headers)});U(this,Va,r=>{const{capabilities:n}=this.uppy.getState();this.uppy.setState({capabilities:{...n,resumableUploads:r}})});U(this,Eu,()=>{N(this,Va).call(this,!0)});this.type="uploader",this.id=this.opts.id||"AwsS3Multipart",q(this,Dt,rv).call(this,n);const s={createMultipartUpload:this.createMultipartUpload,listParts:this.listParts,abortMultipartUpload:this.abortMultipartUpload,completeMultipartUpload:this.completeMultipartUpload,signPart:n!=null&&n.getTemporarySecurityCredentials?this.createSignedURL:this.signPart,getUploadParameters:n!=null&&n.getTemporarySecurityCredentials?this.createSignedURL:this.getUploadParameters};for(const a of Object.keys(s))this.opts[a]==null&&(this.opts[a]=s[a].bind(this));this.requests=this.opts.rateLimitedQueue??new YX(this.opts.limit),B(this,Fl,new NZ(this.requests,this.opts,N(this,Ap),N(this,Il))),this.uploaders=Object.create(null),this.uploaderEvents=Object.create(null)}[Symbol.for("uppy test: getClient")](){return N(this,Nr)}setOptions(r){N(this,Fl).setOptions(r),super.setOptions(r),q(this,Dt,rv).call(this,r)}resetUploaderReferences(r,n){this.uploaders[r]&&(this.uploaders[r].abort({really:(n==null?void 0:n.abort)||!1}),this.uploaders[r]=null),this.uploaderEvents[r]&&(this.uploaderEvents[r].remove(),this.uploaderEvents[r]=null)}createMultipartUpload(r,n){q(this,Dt,ji).call(this,"createMultipartUpload"),pr(n);const s=sN(this.opts.allowedMetaFields,r.meta),a=cN({meta:r.meta,allowedMetaFields:s});return N(this,Nr).post("s3/multipart",{filename:r.name,type:r.type,metadata:a},{signal:n}).then(_o)}listParts(r,{key:n,uploadId:s,signal:a},o){a??(a=o),q(this,Dt,ji).call(this,"listParts"),pr(a);const l=encodeURIComponent(n);return N(this,Nr).get(`s3/multipart/${encodeURIComponent(s)}?key=${l}`,{signal:a}).then(_o)}completeMultipartUpload(r,{key:n,uploadId:s,parts:a,signal:o},l){o??(o=l),q(this,Dt,ji).call(this,"completeMultipartUpload"),pr(o);const c=encodeURIComponent(n),d=encodeURIComponent(s);return N(this,Nr).post(`s3/multipart/${d}/complete?key=${c}`,{parts:a.map(({ETag:u,PartNumber:h})=>({ETag:u,PartNumber:h}))},{signal:o}).then(_o)}async createSignedURL(r,n){const s=await q(this,Dt,aI).call(this,n),a=lN(s.credentials)||604800,{uploadId:o,key:l,partNumber:c}=n;return{method:"PUT",expires:a,fields:{},url:`${await xZ({accountKey:s.credentials.AccessKeyId,accountSecret:s.credentials.SecretAccessKey,sessionToken:s.credentials.SessionToken,expires:a,bucketName:s.bucket,Region:s.region,Key:l??`${crypto.randomUUID()}-${r.name}`,uploadId:o,partNumber:c})}`,headers:{"Content-Type":r.type}}}signPart(r,{uploadId:n,key:s,partNumber:a,signal:o}){if(q(this,Dt,ji).call(this,"signPart"),pr(o),n==null||s==null||a==null)throw new Error("Cannot sign without a key, an uploadId, and a partNumber");const l=encodeURIComponent(s);return N(this,Nr).get(`s3/multipart/${encodeURIComponent(n)}/${a}?key=${l}`,{signal:o}).then(_o)}abortMultipartUpload(r,{key:n,uploadId:s,signal:a}){q(this,Dt,ji).call(this,"abortMultipartUpload");const o=encodeURIComponent(n),l=encodeURIComponent(s);return N(this,Nr).delete(`s3/multipart/${l}?key=${o}`,void 0,{signal:a}).then(_o)}getUploadParameters(r,n){q(this,Dt,ji).call(this,"getUploadParameters");const{meta:s}=r,{type:a,name:o}=s,l=sN(this.opts.allowedMetaFields,r.meta),c=cN({meta:s,allowedMetaFields:l,querify:!0}),d=new URLSearchParams({filename:o,type:a,...c});return N(this,Nr).get(`s3/params?${d}`,n)}static async uploadPartBytes({signature:{url:r,expires:n,headers:s,method:a="PUT"},body:o,size:l=o.size,onProgress:c,onComplete:d,signal:u}){if(pr(u),r==null)throw new Error("Cannot upload to an undefined URL");return new Promise((h,f)=>{const g=new XMLHttpRequest;g.open(a,r,!0),s&&Object.keys(s).forEach(v=>{g.setRequestHeader(v,s[v])}),g.responseType="text",typeof n=="number"&&(g.timeout=n*1e3);function j(){g.abort()}function m(){u==null||u.removeEventListener("abort",j)}u==null||u.addEventListener("abort",j),g.upload.addEventListener("progress",v=>{c(v)}),g.addEventListener("abort",()=>{m(),f(YF())}),g.addEventListener("timeout",()=>{m();const v=new Error("Request has expired");v.source={status:403},f(v)}),g.addEventListener("load",()=>{if(m(),g.status===403&&g.responseText.includes("<Message>Request has expired</Message>")){const b=new Error("Request has expired");b.source=g,f(b);return}if(g.status<200||g.status>=300){const b=new Error("Non 2xx");b.source=g,f(b);return}c==null||c({loaded:l,lengthComputable:!0});const v=g.getAllResponseHeaders().trim().split(/[\r\n]+/),w={__proto__:null};for(const b of v){const E=b.split(": "),k=E.shift(),T=E.join(": ");w[k]=T}const{etag:y,location:x}=w;if(a.toUpperCase()==="POST"&&x==null&&console.error("@uppy/aws-s3: Could not read the Location header. This likely means CORS is not configured correctly on the S3 Bucket. See https://uppy.io/docs/aws-s3/#setting-up-your-s3-bucket"),y==null){console.error("@uppy/aws-s3: Could not read the ETag header. This likely means CORS is not configured correctly on the S3 Bucket. See https://uppy.io/docs/aws-s3/#setting-up-your-s3-bucket");return}d==null||d(y),h({...w,ETag:y})}),g.addEventListener("error",v=>{m();const w=new Error("Unknown error");w.source=v.target,f(w)}),g.send(o)})}install(){N(this,Va).call(this,!0),this.uppy.addPreProcessor(N(this,Ml)),this.uppy.addUploader(N(this,_u)),this.uppy.on("cancel-all",N(this,Eu))}uninstall(){this.uppy.removePreProcessor(N(this,Ml)),this.uppy.removeUploader(N(this,_u)),this.uppy.off("cancel-all",N(this,Eu))}};Fl=new WeakMap,Nr=new WeakMap,Dt=new WeakSet,rv=function(r){r==null||!("endpoint"in r||"companionUrl"in r||"headers"in r||"companionHeaders"in r||"cookiesRule"in r||"companionCookiesRule"in r)||("companionUrl"in r&&!("endpoint"in r)&&this.uppy.log("`companionUrl` option has been removed in @uppy/aws-s3, use `endpoint` instead.","warning"),"companionHeaders"in r&&!("headers"in r)&&this.uppy.log("`companionHeaders` option has been removed in @uppy/aws-s3, use `headers` instead.","warning"),"companionCookiesRule"in r&&!("cookiesRule"in r)&&this.uppy.log("`companionCookiesRule` option has been removed in @uppy/aws-s3, use `cookiesRule` instead.","warning"),"endpoint"in r?B(this,Nr,new ZF(this.uppy,{pluginId:this.id,provider:"AWS",companionUrl:this.opts.endpoint,companionHeaders:this.opts.headers,companionCookiesRule:this.opts.cookiesRule})):("headers"in r&&N(this,Ml).call(this),"cookiesRule"in r&&(N(this,Nr).opts.companionCookiesRule=r.cookiesRule)))},ji=function(r){if(!N(this,Nr))throw new Error(`Expected a \`endpoint\` option containing a URL, or if you are not using Companion, a custom \`${r}\` implementation.`)},Ln=new WeakMap,aI=async function(r){if(pr(r==null?void 0:r.signal),N(this,Ln)==null){const{getTemporarySecurityCredentials:n}=this.opts;n===!0?(q(this,Dt,ji).call(this,"getTemporarySecurityCredentials"),B(this,Ln,N(this,Nr).get("s3/sts",r).then(_o))):B(this,Ln,n(r)),B(this,Ln,await N(this,Ln)),setTimeout(()=>{B(this,Ln,null)},(lN(N(this,Ln).credentials)||0)*500)}return N(this,Ln)},Ap=new WeakMap,Il=new WeakMap,oI=function(r){return new Promise((n,s)=>{const a=(u,h)=>{const f=this.uppy.getFile(r.id);this.uppy.emit("upload-progress",f,{uploadStarted:f.progress.uploadStarted??0,bytesUploaded:u,bytesTotal:h})},o=u=>{this.uppy.log(u),this.uppy.emit("upload-error",r,u),this.resetUploaderReferences(r.id),s(u)},l=u=>{const h={body:{...u},status:200,uploadURL:u.location};this.resetUploaderReferences(r.id),this.uppy.emit("upload-success",N(this,Il).call(this,r),h),u.location&&this.uppy.log(`Download ${r.name} from ${u.location}`),n(void 0)},c=new wZ(r.data,{companionComm:N(this,Fl),log:(...u)=>this.uppy.log(...u),getChunkSize:this.opts.getChunkSize?this.opts.getChunkSize.bind(this):void 0,onProgress:a,onError:o,onSuccess:l,onPartComplete:u=>{this.uppy.emit("s3-multipart:part-uploaded",N(this,Il).call(this,r),u)},file:r,shouldUseMultipart:this.opts.shouldUseMultipart,...r.s3Multipart});this.uploaders[r.id]=c;const d=new KX(this.uppy);this.uploaderEvents[r.id]=d,d.onFileRemove(r.id,u=>{c.abort(),this.resetUploaderReferences(r.id,{abort:!0}),n(`upload ${u} was removed`)}),d.onCancelAll(r.id,()=>{c.abort(),this.resetUploaderReferences(r.id,{abort:!0}),n(`upload ${r.id} was canceled`)}),d.onFilePause(r.id,u=>{u?c.pause():c.start()}),d.onPauseAll(r.id,()=>{c.pause()}),d.onResumeAll(r.id,()=>{c.start()}),c.start()})},lI=function(r){var n;return{...(n=r.remote)==null?void 0:n.body,protocol:"s3-multipart",size:r.data.size,metadata:r.meta}},_u=new WeakMap,Ml=new WeakMap,Va=new WeakMap,Eu=new WeakMap,C(Rp,"VERSION",pZ.version);let tv=Rp;function yp({maxNumberOfFiles:t=1,maxFileSize:e=10485760,onGetUploadParameters:r,onComplete:n,onError:s,buttonClassName:a,children:o}){const[l,c]=p.useState(!1),[d]=p.useState(()=>new Map),[u]=p.useState(()=>{const h=new Rx({restrictions:{maxNumberOfFiles:t,maxFileSize:e,allowedFileTypes:["image/*"]},autoProceed:!1}).use(tv,{shouldUseMultipart:!1,getUploadParameters:async f=>{const g=await r();return d.set(f.id,g.url),console.log("Stored upload URL for file:",f.id,g.url),g}}).on("progress",f=>{f===100&&setTimeout(()=>{const j={successful:h.getFiles().map(m=>{const v=d.get(m.id)||"";return console.log("Retrieved upload URL for file:",m.id,v),{...m,uploadURL:v}}),failed:[]};n==null||n(j),c(!1),h.cancelAll(),d.clear()},500)}).on("upload-error",(f,g)=>{s==null||s(g)});return h});return i.jsxs("div",{children:[i.jsx(z,{type:"button",onClick:()=>c(!0),className:a,"data-testid":"button-upload-image",children:o}),i.jsx(KF,{uppy:u,open:l,onRequestClose:()=>c(!1),proudlyDisplayPoweredByUppy:!1})]})}function CZ(){const[t,e]=p.useState(null),[r,n]=p.useState(!1),[s,a]=p.useState("internal"),o=ls(),{toast:l}=cr(),c=[{value:"/ofertas",label:"Ver Ofertas"},{value:"/explorar",label:"Explorar Productos"},{value:"/auth",label:"Iniciar Sesin"},{value:"/dashboard",label:"Mi Cuenta"},{value:"/",label:"Pgina Principal"}],{data:d=[],isLoading:u}=nt({queryKey:["/api/admin/banners"]}),h=Ts({resolver:ks(T5),defaultValues:{title:"",subtitle:"",imageUrl:"",buttonText:"",buttonLink:"",backgroundColor:"#ff4444",textColor:"#ffffff",isTransparent:!1,isActive:!0,displayOrder:0}}),f=rt({mutationFn:b=>Be("POST","/api/admin/banners",b),onSuccess:()=>{o.invalidateQueries({queryKey:["/api/admin/banners"]}),l({title:"Banner creado",description:"El banner se ha creado exitosamente."}),n(!1),h.reset()},onError:()=>{l({title:"Error",description:"No se pudo crear el banner.",variant:"destructive"})}}),g=rt({mutationFn:({id:b,data:E})=>Be("PUT",`/api/admin/banners/${b}`,E),onSuccess:()=>{o.invalidateQueries({queryKey:["/api/admin/banners"]}),l({title:"Banner actualizado",description:"El banner se ha actualizado exitosamente."}),n(!1),e(null),h.reset()},onError:()=>{l({title:"Error",description:"No se pudo actualizar el banner.",variant:"destructive"})}}),j=rt({mutationFn:b=>Be("DELETE",`/api/admin/banners/${b}`),onSuccess:()=>{o.invalidateQueries({queryKey:["/api/admin/banners"]}),l({title:"Banner eliminado",description:"El banner se ha eliminado exitosamente."})},onError:()=>{l({title:"Error",description:"No se pudo eliminar el banner.",variant:"destructive"})}}),m=b=>{e(b),h.reset({title:b.title,subtitle:b.subtitle||"",imageUrl:b.imageUrl||"",buttonText:b.buttonText||"",buttonLink:b.buttonLink||"",backgroundColor:b.backgroundColor||"#ff4444",textColor:b.textColor||"#ffffff",isTransparent:b.isTransparent||!1,isActive:b.isActive||!1,displayOrder:b.displayOrder||0}),n(!0)},v=b=>{confirm("Ests seguro de que quieres eliminar este banner?")&&j.mutate(b)},w=b=>{t?g.mutate({id:t.id,data:b}):f.mutate(b)},y=async()=>{try{return{method:"PUT",url:(await(await fetch("/api/objects/upload",{method:"POST",headers:{"Content-Type":"application/json"}})).json()).uploadURL}}catch(b){throw console.error("Error getting upload URL:",b),b}},x=async b=>{if(b.successful&&b.successful.length>0){const k=b.successful[0].uploadURL||"";if(k)try{const A=await(await Be("POST","/api/objects/normalize",{path:k})).json();h.setValue("imageUrl",A.path),l({title:"Imagen subida",description:"La imagen se ha subido exitosamente."})}catch(T){console.error("Error normalizing URL:",T),l({title:"Error",description:"Error al procesar la imagen",variant:"destructive"})}}};return u?i.jsx("div",{className:"container mx-auto py-8",children:i.jsx("div",{className:"flex items-center justify-center min-h-64",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-600 mx-auto"}),i.jsx("p",{className:"mt-2 text-gray-600",children:"Cargando banners..."})]})})}):i.jsxs("div",{className:"container mx-auto py-8","data-testid":"admin-banners-page",children:[i.jsxs("div",{className:"flex justify-between items-center mb-8",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900","data-testid":"text-page-title",children:"Gestin de Banners"}),i.jsx("p",{className:"text-gray-600 mt-2",children:"Administra los banners principales de la pgina de inicio"})]}),i.jsxs($r,{open:r,onOpenChange:n,children:[i.jsx(fm,{asChild:!0,children:i.jsxs(z,{onClick:()=>{e(null),h.reset()},"data-testid":"button-create-banner",children:[i.jsx(jn,{className:"w-4 h-4 mr-2"}),"Crear Banner"]})}),i.jsxs(Er,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[i.jsxs(Tr,{children:[i.jsx(kr,{"data-testid":"text-dialog-title",children:t?"Editar Banner":"Crear Nuevo Banner"}),i.jsx(yo,{children:"Configura el banner que aparecer en la pgina principal"})]}),i.jsx(nl,{...h,children:i.jsxs("form",{onSubmit:h.handleSubmit(w),className:"space-y-4",children:[i.jsx(je,{control:h.control,name:"title",render:({field:b})=>i.jsxs(we,{children:[i.jsx(Ne,{children:"Ttulo"}),i.jsx(Se,{children:i.jsx(pe,{placeholder:"COMPRA BOOM!",...b,"data-testid":"input-banner-title"})}),i.jsx(Pe,{})]})}),i.jsx(je,{control:h.control,name:"subtitle",render:({field:b})=>i.jsxs(we,{children:[i.jsx(Ne,{children:"Subttulo"}),i.jsx(Se,{children:i.jsx(Yr,{placeholder:"Los mejores productos electrnicos al mayoreo...",...b,"data-testid":"input-banner-subtitle"})}),i.jsx(Pe,{})]})}),i.jsx(je,{control:h.control,name:"imageUrl",render:({field:b})=>i.jsxs(we,{children:[i.jsx(Ne,{children:"Imagen del Banner"}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Se,{children:i.jsx(pe,{placeholder:"URL de la imagen o sube una nueva",...b,"data-testid":"input-banner-image"})}),i.jsxs(yp,{onGetUploadParameters:y,onComplete:x,buttonClassName:"w-full",children:[i.jsx(qf,{className:"w-4 h-4 mr-2"}),"Subir Nueva Imagen"]})]}),i.jsx(Hn,{children:"Sube una imagen o proporciona una URL. Tamao recomendado: 1200x400px"}),i.jsx(Pe,{})]})}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx(je,{control:h.control,name:"backgroundColor",render:({field:b})=>i.jsxs(we,{children:[i.jsx(Ne,{children:"Color de Fondo"}),i.jsx(Se,{children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(pe,{type:"color",...b,className:"w-16 h-10","data-testid":"input-banner-bg-color"}),i.jsx(pe,{placeholder:"#ff4444",...b,className:"flex-1","data-testid":"input-banner-bg-text"})]})}),i.jsx(Pe,{})]})}),i.jsx(je,{control:h.control,name:"textColor",render:({field:b})=>i.jsxs(we,{children:[i.jsx(Ne,{children:"Color de Texto"}),i.jsx(Se,{children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(pe,{type:"color",...b,className:"w-16 h-10","data-testid":"input-banner-text-color"}),i.jsx(pe,{placeholder:"#ffffff",...b,className:"flex-1","data-testid":"input-banner-text-hex"})]})}),i.jsx(Pe,{})]})})]}),i.jsx(je,{control:h.control,name:"isTransparent",render:({field:b})=>i.jsxs(we,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(Ne,{className:"text-base",children:"Fondo Transparente"}),i.jsx(Hn,{children:"Usar fondo transparente para mostrar solo la imagen sin color de fondo"})]}),i.jsx(Se,{children:i.jsx(pn,{checked:b.value,onCheckedChange:b.onChange,"data-testid":"switch-banner-transparent"})})]})}),i.jsx(je,{control:h.control,name:"buttonText",render:({field:b})=>i.jsxs(we,{children:[i.jsx(Ne,{children:"Texto del Botn (Opcional)"}),i.jsx(Se,{children:i.jsx(pe,{placeholder:"Ver Ofertas",...b,"data-testid":"input-banner-button-text"})}),i.jsx(Pe,{})]})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Ne,{children:"Enlace del Botn (Opcional)"}),i.jsxs("div",{className:"flex space-x-2 mt-2",children:[i.jsx(z,{type:"button",variant:s==="internal"?"default":"outline",size:"sm",onClick:()=>a("internal"),"data-testid":"button-link-internal",children:"Ruta Interna"}),i.jsx(z,{type:"button",variant:s==="external"?"default":"outline",size:"sm",onClick:()=>a("external"),"data-testid":"button-link-external",children:"Enlace Externo"})]})]}),s==="internal"?i.jsx(je,{control:h.control,name:"buttonLink",render:({field:b})=>i.jsxs(we,{children:[i.jsx(Se,{children:i.jsxs(sr,{value:b.value||"",onValueChange:b.onChange,children:[i.jsx(Wt,{"data-testid":"select-internal-route",children:i.jsx(ir,{placeholder:"Selecciona una pgina"})}),i.jsx(Gt,{children:c.map(E=>i.jsx(fe,{value:E.value,children:E.label},E.value))})]})}),i.jsx(Hn,{children:"Selecciona la pgina a la que llevar el botn"}),i.jsx(Pe,{})]})}):i.jsx(je,{control:h.control,name:"buttonLink",render:({field:b})=>i.jsxs(we,{children:[i.jsx(Se,{children:i.jsx(pe,{placeholder:"https://ejemplo.com",...b,"data-testid":"input-external-link"})}),i.jsx(Hn,{children:"Ingresa la URL completa (debe empezar con http:// o https://)"}),i.jsx(Pe,{})]})})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx(je,{control:h.control,name:"displayOrder",render:({field:b})=>i.jsxs(we,{children:[i.jsx(Ne,{children:"Orden de Visualizacin"}),i.jsx(Se,{children:i.jsx(pe,{type:"number",...b,onChange:E=>b.onChange(Number(E.target.value)),"data-testid":"input-banner-order"})}),i.jsx(Hn,{children:"Menor nmero aparece primero"}),i.jsx(Pe,{})]})}),i.jsx(je,{control:h.control,name:"isActive",render:({field:b})=>i.jsxs(we,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(Ne,{className:"text-base",children:"Banner Activo"}),i.jsx(Hn,{children:"El banner aparecer en la pgina principal"})]}),i.jsx(Se,{children:i.jsx(pn,{checked:b.value,onCheckedChange:b.onChange,"data-testid":"switch-banner-active"})})]})})]}),i.jsxs("div",{className:"flex justify-end space-x-2 pt-6",children:[i.jsx(z,{type:"button",variant:"outline",onClick:()=>{n(!1),e(null),h.reset()},"data-testid":"button-cancel-banner",children:"Cancelar"}),i.jsxs(z,{type:"submit",disabled:f.isPending||g.isPending,"data-testid":"button-save-banner",children:[t?"Actualizar":"Crear"," Banner"]})]})]})})]})]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map(b=>i.jsxs(te,{className:"overflow-hidden","data-testid":`card-banner-${b.id}`,children:[i.jsxs("div",{className:"h-32 relative",style:{backgroundColor:b.backgroundColor||"#ff4444",color:b.textColor||"#ffffff"},children:[b.imageUrl?i.jsx("img",{src:b.imageUrl,alt:b.title,className:"w-full h-full object-cover","data-testid":`img-banner-${b.id}`}):i.jsx("div",{className:"flex items-center justify-center h-full",children:i.jsx(r1,{className:"w-8 h-8 opacity-50"})}),i.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-20 flex items-center justify-center",children:i.jsxs("div",{className:"text-center p-4",children:[i.jsx("h3",{className:"font-bold text-lg","data-testid":`text-banner-title-${b.id}`,children:b.title}),b.subtitle&&i.jsx("p",{className:"text-sm opacity-90 mt-1","data-testid":`text-banner-subtitle-${b.id}`,children:b.subtitle})]})})]}),i.jsx(He,{children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsx(We,{className:"text-lg","data-testid":`text-banner-card-title-${b.id}`,children:b.title}),i.jsxs(Yl,{"data-testid":`text-banner-order-${b.id}`,children:["Orden: ",b.displayOrder||0]})]}),i.jsx(_e,{variant:b.isActive?"default":"secondary","data-testid":`badge-banner-status-${b.id}`,children:b.isActive?"Activo":"Inactivo"})]})}),i.jsx(ie,{children:i.jsxs("div",{className:"flex justify-end space-x-2",children:[i.jsx(z,{variant:"outline",size:"sm",onClick:()=>m(b),"data-testid":`button-edit-banner-${b.id}`,children:i.jsx(Fd,{className:"w-4 h-4"})}),i.jsx(z,{variant:"outline",size:"sm",onClick:()=>v(b.id),className:"text-red-600 hover:text-red-700","data-testid":`button-delete-banner-${b.id}`,children:i.jsx(em,{className:"w-4 h-4"})})]})})]},b.id))}),d.length===0&&i.jsx(te,{className:"text-center py-12","data-testid":"card-no-banners",children:i.jsxs(ie,{children:[i.jsx(r1,{className:"w-12 h-12 mx-auto text-gray-400 mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No hay banners creados"}),i.jsx("p",{className:"text-gray-600 mb-4",children:"Crea tu primer banner para mostrar promociones en la pgina principal"}),i.jsxs(z,{onClick:()=>n(!0),"data-testid":"button-create-first-banner",children:[i.jsx(jn,{className:"w-4 h-4 mr-2"}),"Crear Primer Banner"]})]})})]})}const dN=[{value:"BOOM",label:"BOOM",color:"bg-red-500"},{value:"OFERTA",label:"OFERTA",color:"bg-blue-500"},{value:"RELAMPAGO",label:"RELMPAGO",color:"bg-yellow-500"},{value:"ESPECIAL",label:"ESPECIAL",color:"bg-green-500"}];function _Z(){const[t,e]=p.useState(null),[r,n]=p.useState(!1),s=ls(),{toast:a}=cr(),{data:o=[],isLoading:l}=nt({queryKey:["/api/admin/special-offers"]}),{data:c=[]}=nt({queryKey:["/api/products"]}),d=Ts({resolver:ks(k5),defaultValues:{title:"",description:"",discountPercentage:0,originalPrice:"",offerPrice:"",imageUrl:"",productId:"",offerType:"BOOM",isActive:!0,displayOrder:0}}),u=rt({mutationFn:x=>Be("POST","/api/admin/special-offers",x),onSuccess:()=>{s.invalidateQueries({queryKey:["/api/admin/special-offers"]}),a({title:"Oferta creada",description:"La oferta especial se ha creado exitosamente."}),n(!1),d.reset()},onError:()=>{a({title:"Error",description:"No se pudo crear la oferta especial.",variant:"destructive"})}}),h=rt({mutationFn:({id:x,data:b})=>Be("PUT",`/api/admin/special-offers/${x}`,b),onSuccess:()=>{s.invalidateQueries({queryKey:["/api/admin/special-offers"]}),a({title:"Oferta actualizada",description:"La oferta especial se ha actualizado exitosamente."}),n(!1),e(null),d.reset()},onError:()=>{a({title:"Error",description:"No se pudo actualizar la oferta especial.",variant:"destructive"})}}),f=rt({mutationFn:x=>Be("DELETE",`/api/admin/special-offers/${x}`),onSuccess:()=>{s.invalidateQueries({queryKey:["/api/admin/special-offers"]}),a({title:"Oferta eliminada",description:"La oferta especial se ha eliminado exitosamente."})},onError:()=>{a({title:"Error",description:"No se pudo eliminar la oferta especial.",variant:"destructive"})}}),g=x=>{e(x),d.reset({title:x.title,description:x.description||"",discountPercentage:x.discountPercentage||0,originalPrice:x.originalPrice||"",offerPrice:x.offerPrice||"",imageUrl:x.imageUrl||"",productId:x.productId||"none",offerType:x.offerType||"BOOM",isActive:x.isActive||!1,displayOrder:x.displayOrder||0}),n(!0)},j=x=>{confirm("Ests seguro de que quieres eliminar esta oferta especial?")&&f.mutate(x)},m=x=>{const b={...x,productId:x.productId==="none"?"":x.productId};t?h.mutate({id:t.id,data:b}):u.mutate(b)},v=async()=>{try{return{method:"PUT",url:(await(await fetch("/api/objects/upload",{method:"POST",headers:{"Content-Type":"application/json"}})).json()).uploadURL}}catch(x){throw console.error("Error getting upload URL:",x),x}},w=async x=>{if(x.successful&&x.successful.length>0){const E=x.successful[0].uploadURL||"";if(E)try{const T=await(await Be("POST","/api/objects/normalize",{path:E})).json();d.setValue("imageUrl",T.path),a({title:"Imagen subida",description:"La imagen se ha subido exitosamente."})}catch(k){console.error("Error normalizing URL:",k),a({title:"Error",description:"Error al procesar la imagen",variant:"destructive"})}}},y=x=>{const b=dN.find(E=>E.value===x);return(b==null?void 0:b.color)||"bg-gray-500"};return l?i.jsx("div",{className:"container mx-auto py-8",children:i.jsx("div",{className:"flex items-center justify-center min-h-64",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-600 mx-auto"}),i.jsx("p",{className:"mt-2 text-gray-600",children:"Cargando ofertas especiales..."})]})})}):i.jsxs("div",{className:"container mx-auto py-8","data-testid":"admin-special-offers-page",children:[i.jsxs("div",{className:"flex justify-between items-center mb-8",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900","data-testid":"text-page-title",children:"Ofertas Especiales"}),i.jsx("p",{className:"text-gray-600 mt-2",children:"Gestiona las ofertas y promociones especiales con imgenes rotativas"})]}),i.jsxs($r,{open:r,onOpenChange:n,children:[i.jsx(fm,{asChild:!0,children:i.jsxs(z,{onClick:()=>{e(null),d.reset()},"data-testid":"button-create-offer",children:[i.jsx(jn,{className:"w-4 h-4 mr-2"}),"Crear Oferta"]})}),i.jsxs(Er,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[i.jsxs(Tr,{children:[i.jsx(kr,{"data-testid":"text-dialog-title",children:t?"Editar Oferta Especial":"Crear Nueva Oferta Especial"}),i.jsx(yo,{children:"Configura una oferta especial con imagen y detalles promocionales"})]}),i.jsx(nl,{...d,children:i.jsxs("form",{onSubmit:d.handleSubmit(m),className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx(je,{control:d.control,name:"title",render:({field:x})=>i.jsxs(we,{children:[i.jsx(Ne,{children:"Ttulo de la Oferta"}),i.jsx(Se,{children:i.jsx(pe,{placeholder:"iPhone 15 Pro Max BOOM!",...x,"data-testid":"input-offer-title"})}),i.jsx(Pe,{})]})}),i.jsx(je,{control:d.control,name:"offerType",render:({field:x})=>i.jsxs(we,{children:[i.jsx(Ne,{children:"Tipo de Oferta"}),i.jsxs(sr,{onValueChange:x.onChange,value:x.value||"",children:[i.jsx(Se,{children:i.jsx(Wt,{"data-testid":"select-offer-type",children:i.jsx(ir,{placeholder:"Selecciona el tipo"})})}),i.jsx(Gt,{children:dN.map(b=>i.jsx(fe,{value:b.value,children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:`w-3 h-3 rounded ${b.color}`}),i.jsx("span",{children:b.label})]})},b.value))})]}),i.jsx(Pe,{})]})})]}),i.jsx(je,{control:d.control,name:"description",render:({field:x})=>i.jsxs(we,{children:[i.jsx(Ne,{children:"Descripcin"}),i.jsx(Se,{children:i.jsx(Yr,{placeholder:"Descripcin atractiva de la oferta...",...x,"data-testid":"input-offer-description"})}),i.jsx(Pe,{})]})}),i.jsx(je,{control:d.control,name:"productId",render:({field:x})=>i.jsxs(we,{children:[i.jsx(Ne,{children:"Producto Relacionado (Opcional)"}),i.jsxs(sr,{onValueChange:x.onChange,value:x.value||"",children:[i.jsx(Se,{children:i.jsx(Wt,{"data-testid":"select-offer-product",children:i.jsx(ir,{placeholder:"Selecciona un producto"})})}),i.jsxs(Gt,{children:[i.jsx(fe,{value:"none",children:"Sin producto especfico"}),c.map(b=>i.jsx(fe,{value:b.id,children:b.name},b.id))]})]}),i.jsx(Pe,{})]})}),i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsx(je,{control:d.control,name:"originalPrice",render:({field:x})=>i.jsxs(we,{children:[i.jsx(Ne,{children:"Precio Original"}),i.jsx(Se,{children:i.jsx(pe,{placeholder:"$25,000",...x,"data-testid":"input-offer-original-price"})}),i.jsx(Pe,{})]})}),i.jsx(je,{control:d.control,name:"offerPrice",render:({field:x})=>i.jsxs(we,{children:[i.jsx(Ne,{children:"Precio de Oferta"}),i.jsx(Se,{children:i.jsx(pe,{placeholder:"$19,999",...x,"data-testid":"input-offer-price"})}),i.jsx(Pe,{})]})}),i.jsx(je,{control:d.control,name:"discountPercentage",render:({field:x})=>i.jsxs(we,{children:[i.jsx(Ne,{children:"% Descuento"}),i.jsx(Se,{children:i.jsx(pe,{type:"number",placeholder:"20",...x,onChange:b=>x.onChange(Number(b.target.value)),"data-testid":"input-offer-discount"})}),i.jsx(Pe,{})]})})]}),i.jsx(je,{control:d.control,name:"imageUrl",render:({field:x})=>i.jsxs(we,{children:[i.jsx(Ne,{children:"Imagen de la Oferta"}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Se,{children:i.jsx(pe,{placeholder:"URL de la imagen o sube una nueva",...x,"data-testid":"input-offer-image"})}),i.jsxs(yp,{onGetUploadParameters:v,onComplete:w,buttonClassName:"w-full",children:[i.jsx(qf,{className:"w-4 h-4 mr-2"}),"Subir Nueva Imagen"]})]}),i.jsx(Hn,{children:"Imagen promocional. Tamao recomendado: 600x400px"}),i.jsx(Pe,{})]})}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx(je,{control:d.control,name:"displayOrder",render:({field:x})=>i.jsxs(we,{children:[i.jsx(Ne,{children:"Orden de Visualizacin"}),i.jsx(Se,{children:i.jsx(pe,{type:"number",...x,onChange:b=>x.onChange(Number(b.target.value)),"data-testid":"input-offer-order"})}),i.jsx(Hn,{children:"Menor nmero aparece primero"}),i.jsx(Pe,{})]})}),i.jsx(je,{control:d.control,name:"isActive",render:({field:x})=>i.jsxs(we,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(Ne,{className:"text-base",children:"Oferta Activa"}),i.jsx(Hn,{children:"La oferta aparecer en las promociones"})]}),i.jsx(Se,{children:i.jsx(pn,{checked:x.value,onCheckedChange:x.onChange,"data-testid":"switch-offer-active"})})]})})]}),i.jsxs("div",{className:"flex justify-end space-x-2 pt-6",children:[i.jsx(z,{type:"button",variant:"outline",onClick:()=>{n(!1),e(null),d.reset()},"data-testid":"button-cancel-offer",children:"Cancelar"}),i.jsxs(z,{type:"submit",disabled:u.isPending||h.isPending,"data-testid":"button-save-offer",children:[t?"Actualizar":"Crear"," Oferta"]})]})]})})]})]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map(x=>i.jsxs(te,{className:"overflow-hidden","data-testid":`card-offer-${x.id}`,children:[i.jsxs("div",{className:"h-48 relative bg-gray-100",children:[x.imageUrl?i.jsx("img",{src:x.imageUrl,alt:x.title,className:"w-full h-full object-cover","data-testid":`img-offer-${x.id}`}):i.jsx("div",{className:"flex items-center justify-center h-full",children:i.jsx(dd,{className:"w-8 h-8 text-gray-400"})}),i.jsx("div",{className:"absolute top-2 left-2",children:i.jsx(_e,{className:`${y(x.offerType||"BOOM")} text-white`,children:x.offerType})}),x.discountPercentage&&i.jsx("div",{className:"absolute top-2 right-2",children:i.jsxs(_e,{variant:"destructive",className:"flex items-center",children:[i.jsx(bk,{className:"w-3 h-3 mr-1"}),x.discountPercentage,"% OFF"]})})]}),i.jsx(He,{children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx(We,{className:"text-lg line-clamp-2","data-testid":`text-offer-title-${x.id}`,children:x.title}),i.jsx(Yl,{className:"line-clamp-2","data-testid":`text-offer-description-${x.id}`,children:x.description})]}),i.jsx(_e,{variant:x.isActive?"default":"secondary","data-testid":`badge-offer-status-${x.id}`,children:x.isActive?"Activa":"Inactiva"})]})}),i.jsxs(ie,{children:[(x.originalPrice||x.offerPrice)&&i.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[x.originalPrice&&i.jsx("span",{className:"text-sm text-gray-500 line-through","data-testid":`text-offer-original-${x.id}`,children:x.originalPrice}),x.offerPrice&&i.jsx("span",{className:"text-lg font-bold text-red-600","data-testid":`text-offer-price-${x.id}`,children:x.offerPrice})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("span",{className:"text-sm text-gray-600","data-testid":`text-offer-order-${x.id}`,children:["Orden: ",x.displayOrder||0]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(z,{variant:"outline",size:"sm",onClick:()=>g(x),"data-testid":`button-edit-offer-${x.id}`,children:i.jsx(Fd,{className:"w-4 h-4"})}),i.jsx(z,{variant:"outline",size:"sm",onClick:()=>j(x.id),className:"text-red-600 hover:text-red-700","data-testid":`button-delete-offer-${x.id}`,children:i.jsx(em,{className:"w-4 h-4"})})]})]})]})]},x.id))}),o.length===0&&i.jsx(te,{className:"text-center py-12","data-testid":"card-no-offers",children:i.jsxs(ie,{children:[i.jsx(dd,{className:"w-12 h-12 mx-auto text-gray-400 mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No hay ofertas especiales"}),i.jsx("p",{className:"text-gray-600 mb-4",children:"Crea tu primera oferta especial para mostrar promociones atractivas"}),i.jsxs(z,{onClick:()=>n(!0),"data-testid":"button-create-first-offer",children:[i.jsx(jn,{className:"w-4 h-4 mr-2"}),"Crear Primera Oferta"]})]})})]})}function EZ(){const{toast:t}=cr(),e=ls(),[r,n]=p.useState(""),[s,a]=p.useState(""),{data:o,isLoading:l}=nt({queryKey:["/api/admin/transfer-discount-config"]});p.useEffect(()=>{o!=null&&o.discountPercentage&&n(o.discountPercentage),o!=null&&o.discountText&&a(o.discountText)},[o]);const c=rt({mutationFn:async h=>{await Be("PUT","/api/admin/transfer-discount-config",h)},onSuccess:()=>{e.invalidateQueries({queryKey:["/api/admin/transfer-discount-config"]}),t({title:"Configuracin Actualizada",description:"El porcentaje de descuento ha sido actualizado exitosamente."})},onError:h=>{t({title:"Error",description:h.message||"No se pudo actualizar la configuracin.",variant:"destructive"})}}),d=h=>{h.preventDefault();const f=parseFloat(r);if(isNaN(f)||f<0||f>100){t({title:"Error de Validacin",description:"El porcentaje debe ser un nmero entre 0 y 100.",variant:"destructive"});return}if(!s.trim()){t({title:"Error de Validacin",description:"El texto del descuento no puede estar vaco.",variant:"destructive"});return}c.mutate({discountPercentage:f.toFixed(2),discountText:s.trim(),isActive:!0})};if(l)return i.jsx("div",{className:"container mx-auto p-6",children:i.jsxs("div",{className:"animate-pulse",children:[i.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3 mb-6"}),i.jsx("div",{className:"h-64 bg-gray-200 rounded"})]})});const u=o?parseFloat(o.discountPercentage):3.5;return i.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx(jk,{className:"h-8 w-8 text-boom-red"}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Configuracin de Descuento por Transferencia"}),i.jsx("p",{className:"text-gray-600",children:"Administra el porcentaje de descuento aplicado a pagos por transferencia directa"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs(te,{children:[i.jsx(He,{children:i.jsxs(We,{className:"flex items-center gap-2",children:[i.jsx(bk,{className:"h-5 w-5"}),"Descuento Actual"]})}),i.jsx(ie,{children:i.jsxs("div",{className:"text-center p-6",children:[i.jsxs("div",{className:"text-4xl font-bold text-boom-red mb-2",children:[u,"%"]}),i.jsx("p",{className:"text-gray-600",children:u>0?`Descuento del ${u}% ${(o==null?void 0:o.discountText)||"por evitar comisiones"}`:(o==null?void 0:o.discountText)||"por evitar comisiones"}),i.jsx("div",{className:"mt-4 p-3 bg-green-50 rounded-lg",children:i.jsxs("p",{className:"text-sm text-green-700",children:[i.jsx("strong",{children:"Ejemplo:"})," En una compra de $1,000 MXN, el cliente ahorra $",(1e3*u/100).toFixed(2)," MXN"]})})]})})]}),i.jsxs(te,{children:[i.jsx(He,{children:i.jsxs(We,{className:"flex items-center gap-2",children:[i.jsx(vk,{className:"h-5 w-5"}),"Actualizar Descuento"]})}),i.jsx(ie,{children:i.jsxs("form",{onSubmit:d,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Fe,{htmlFor:"discountPercentage",children:"Nuevo Porcentaje de Descuento (%)"}),i.jsx(pe,{id:"discountPercentage",type:"number",step:"0.01",min:"0",max:"100",value:r,onChange:h=>n(h.target.value),placeholder:"Ej: 3.50",className:"mt-1","data-testid":"input-discount-percentage"}),i.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Rango vlido: 0% - 100%"})]}),i.jsxs("div",{children:[i.jsx(Fe,{htmlFor:"discountText",children:"Texto del Descuento"}),i.jsx(pe,{id:"discountText",type:"text",value:s,onChange:h=>a(h.target.value),placeholder:"por evitar comisiones",className:"mt-1","data-testid":"input-discount-text"}),i.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:['Si hay descuento: "Descuento del 3.5% ',s,'". Si es 0%: solo "',s,'"']})]}),i.jsxs("div",{className:"border-t pt-4",children:[i.jsx("h4",{className:"font-medium mb-2",children:"Vista Previa del Descuento:"}),r&&!isNaN(parseFloat(r))?i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Compra de $1,000:"}),i.jsxs("span",{className:"text-green-600",children:["-$",(1e3*parseFloat(r)/100).toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Compra de $5,000:"}),i.jsxs("span",{className:"text-green-600",children:["-$",(5e3*parseFloat(r)/100).toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Compra de $10,000:"}),i.jsxs("span",{className:"text-green-600",children:["-$",(1e4*parseFloat(r)/100).toFixed(2)]})]})]}):i.jsx("p",{className:"text-gray-400 text-sm",children:"Ingresa un porcentaje vlido para ver la vista previa"})]}),i.jsxs(z,{type:"submit",className:"w-full bg-boom-red hover:bg-boom-red/90",disabled:c.isPending||!r,"data-testid":"button-save-discount",children:[i.jsx(Bf,{className:"h-4 w-4 mr-2"}),c.isPending?"Guardando...":"Guardar Configuracin"]})]})})]})]}),i.jsxs(te,{children:[i.jsx(He,{children:i.jsx(We,{children:"Informacin Sobre el Descuento por Transferencia"})}),i.jsx(ie,{className:"space-y-3",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Por qu ofrecer descuento?"}),i.jsxs("ul",{className:"space-y-1 text-gray-600",children:[i.jsx("li",{children:" Evitas comisiones de MercadoPago (3.5%)"}),i.jsx("li",{children:" Recibes el pago directo en tu cuenta BBVA"}),i.jsx("li",{children:" Flujo de efectivo ms rpido"}),i.jsx("li",{children:" Menor dependencia de plataformas externas"})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Consideraciones:"}),i.jsxs("ul",{className:"space-y-1 text-gray-600",children:[i.jsx("li",{children:" Requiere verificacin manual de transferencias"}),i.jsx("li",{children:" Tiempo de procesamiento: 24-48 hrs"}),i.jsx("li",{children:" Mayor trabajo administrativo"}),i.jsx("li",{children:" Adecuado para pedidos de mayor valor"})]})]})]})})]})]})}const uf=p.forwardRef(({className:t,...e},r)=>i.jsx("div",{className:"relative w-full overflow-auto",children:i.jsx("table",{ref:r,className:me("w-full caption-bottom text-sm",t),...e})}));uf.displayName="Table";const hf=p.forwardRef(({className:t,...e},r)=>i.jsx("thead",{ref:r,className:me("[&_tr]:border-b",t),...e}));hf.displayName="TableHeader";const ff=p.forwardRef(({className:t,...e},r)=>i.jsx("tbody",{ref:r,className:me("[&_tr:last-child]:border-0",t),...e}));ff.displayName="TableBody";const TZ=p.forwardRef(({className:t,...e},r)=>i.jsx("tfoot",{ref:r,className:me("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));TZ.displayName="TableFooter";const xa=p.forwardRef(({className:t,...e},r)=>i.jsx("tr",{ref:r,className:me("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));xa.displayName="TableRow";const Jt=p.forwardRef(({className:t,...e},r)=>i.jsx("th",{ref:r,className:me("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));Jt.displayName="TableHead";const er=p.forwardRef(({className:t,...e},r)=>i.jsx("td",{ref:r,className:me("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));er.displayName="TableCell";const kZ=p.forwardRef(({className:t,...e},r)=>i.jsx("caption",{ref:r,className:me("mt-4 text-sm text-muted-foreground",t),...e}));kZ.displayName="TableCaption";function PZ(){const{toast:t}=cr(),e=ls(),[r,n]=p.useState(null),[s,a]=p.useState(""),[o,l]=p.useState(!1),{data:c=[],isLoading:d}=nt({queryKey:["/api/admin/pending-transfers"]}),u=rt({mutationFn:async m=>Be("POST","/api/admin/verify-transfer",m),onSuccess:()=>{t({title:"Verificacin Completada",description:"El estado del pago ha sido actualizado"}),e.invalidateQueries({queryKey:["/api/admin/pending-transfers"]}),e.invalidateQueries({queryKey:["/api/admin/orders"]}),l(!1),n(null),a("")},onError:m=>{t({title:"Error",description:m.message||"Error al verificar la transferencia",variant:"destructive"})}}),h=m=>{r&&u.mutate({orderId:r.id,verified:m,notes:s||void 0})},f=m=>{switch(m){case"pending":return i.jsxs(_e,{variant:"secondary",className:"bg-yellow-100 text-yellow-800",children:[i.jsx(mn,{className:"w-3 h-3 mr-1"}),"Esperando Transferencia"]});case"pending_verification":return i.jsxs(_e,{variant:"secondary",className:"bg-blue-100 text-blue-800",children:[i.jsx(Jh,{className:"w-3 h-3 mr-1"}),"Por Verificar"]});case"verified":return i.jsxs(_e,{variant:"secondary",className:"bg-green-100 text-green-800",children:[i.jsx(ni,{className:"w-3 h-3 mr-1"}),"Verificado"]});case"rejected":return i.jsxs(_e,{variant:"destructive",children:[i.jsx(zf,{className:"w-3 h-3 mr-1"}),"Rechazado"]});default:return i.jsxs(_e,{variant:"outline",children:[i.jsx(u0,{className:"w-3 h-3 mr-1"}),"Estado Desconocido"]})}},g=m=>`$${parseFloat(m).toLocaleString("es-MX",{minimumFractionDigits:2})} MXN`,j=m=>new Date(m).toLocaleDateString("es-MX",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return d?i.jsxs(te,{children:[i.jsx(He,{children:i.jsxs(We,{className:"flex items-center gap-2",children:[i.jsx(Od,{className:"h-5 w-5"}),"Verificacin de Transferencias"]})}),i.jsx(ie,{children:i.jsx("div",{className:"flex items-center justify-center py-8",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900 mx-auto"}),i.jsx("p",{className:"mt-2 text-gray-600",children:"Cargando transferencias..."})]})})})]}):i.jsxs(te,{children:[i.jsx(He,{children:i.jsxs(We,{className:"flex items-center gap-2",children:[i.jsx(Od,{className:"h-5 w-5"}),"Verificacin de Transferencias",c.length>0&&i.jsxs(_e,{variant:"destructive",className:"ml-2",children:[c.length," pendiente(s)"]})]})}),i.jsx(ie,{children:c.length===0?i.jsxs("div",{className:"text-center py-8",children:[i.jsx(ni,{className:"mx-auto h-12 w-12 text-green-500 mb-4"}),i.jsx("p",{className:"text-gray-600",children:"No hay transferencias pendientes de verificacin"})]}):i.jsx("div",{className:"space-y-4",children:c.map(m=>i.jsx(te,{className:"border-l-4 border-l-blue-500",children:i.jsx(ie,{className:"pt-4",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("h3",{className:"font-semibold",children:["Pedido ",m.orderNumber]}),f(m.paymentStatus)]}),i.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Cliente:"})," ",m.user.fullName," (",m.user.email,")"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Producto:"})," ",m.product.name]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Cantidad:"})," ",m.quantity,"x"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Total:"})," ",g(m.totalAmount)]}),m.discountApplied&&parseFloat(m.discountApplied)>0&&i.jsxs("p",{children:[i.jsx("strong",{children:"Descuento aplicado:"})," -",g(m.discountApplied)]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Fecha del pedido:"})," ",j(m.createdAt)]})]}),m.transferReceiptUrl&&i.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[i.jsx(Jh,{className:"w-4 h-4 text-blue-600"}),i.jsxs("a",{href:m.transferReceiptUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-sm flex items-center gap-1",children:["Ver Comprobante",i.jsx(Wa,{className:"w-3 h-3"})]})]})]}),i.jsxs($r,{open:o&&(r==null?void 0:r.id)===m.id,onOpenChange:l,children:[i.jsx(fm,{asChild:!0,children:i.jsx(z,{variant:"outline",size:"sm",onClick:()=>n(m),"data-testid":`button-verify-${m.id}`,children:"Verificar"})}),i.jsxs(Er,{className:"max-w-md",children:[i.jsxs(Tr,{children:[i.jsx(kr,{children:"Verificar Transferencia"}),i.jsxs(yo,{children:["Pedido: ",r==null?void 0:r.orderNumber,i.jsx("br",{}),"Monto: ",r?g(r.totalAmount):""]})]}),i.jsxs("div",{className:"space-y-4",children:[(r==null?void 0:r.transferReceiptUrl)&&i.jsxs("div",{children:[i.jsx(Fe,{children:"Comprobante de Pago"}),i.jsxs("a",{href:r.transferReceiptUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-blue-600 hover:underline",children:[i.jsx(Jh,{className:"w-4 h-4"}),"Ver Comprobante",i.jsx(Wa,{className:"w-3 h-3"})]})]}),i.jsxs("div",{children:[i.jsx(Fe,{htmlFor:"verification-notes",children:"Notas (opcional)"}),i.jsx(Yr,{id:"verification-notes",placeholder:"Agregar comentarios sobre la verificacin...",value:s,onChange:v=>a(v.target.value),className:"mt-1","data-testid":"textarea-verification-notes"})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsxs(z,{onClick:()=>h(!0),disabled:u.isPending,className:"flex-1 bg-green-600 hover:bg-green-700","data-testid":"button-approve-transfer",children:[i.jsx(ni,{className:"w-4 h-4 mr-2"}),"Aprobar"]}),i.jsxs(z,{onClick:()=>h(!1),disabled:u.isPending,variant:"destructive",className:"flex-1","data-testid":"button-reject-transfer",children:[i.jsx(zf,{className:"w-4 h-4 mr-2"}),"Rechazar"]})]})]})]})]})]})})},m.id))})})]})}function AZ(){const{toast:t}=cr(),e=ls(),[r,n]=p.useState(null),[s,a]=p.useState(!1),[o,l]=p.useState({}),[c,d]=p.useState(""),[u,h]=p.useState(!0),[f,g]=p.useState(""),{data:j=[],isLoading:m}=nt({queryKey:["/api/admin/payment-config"]}),v=rt({mutationFn:async O=>r?Be("PATCH",`/api/admin/payment-config/${r.id}`,O):Be("POST","/api/admin/payment-config",O),onSuccess:()=>{t({title:"Configuracin Guardada",description:"La configuracin de pagos ha sido actualizada"}),e.invalidateQueries({queryKey:["/api/admin/payment-config"]}),a(!1),w()},onError:O=>{t({title:"Error",description:O.message||"Error al guardar la configuracin",variant:"destructive"})}}),w=()=>{n(null),d(""),h(!0),g("")},y=O=>{n(O),d(O.displayName),h(O.isActive),g(O.config),a(!0)},x=()=>{w(),a(!0)},b=()=>{try{JSON.parse(f);const O={displayName:c,isActive:u,config:f};if(!r){const M=c.toLowerCase().replace(/\s+/g,"_");O.configKey=M}v.mutate(O)}catch{t({title:"Error",description:"La configuracin debe ser JSON vlido",variant:"destructive"})}},E=O=>{l(M=>({...M,[O]:!M[O]}))},k=O=>{switch(O){case"mercadopago":return i.jsx(Xo,{className:"w-5 h-5 text-blue-600"});case"bank_transfer":return i.jsx(YL,{className:"w-5 h-5 text-green-600"});case"conekta":return i.jsx(x6,{className:"w-5 h-5 text-purple-600"});default:return i.jsx(Kl,{className:"w-5 h-5 text-gray-600"})}},T=(O,M)=>M?O:O.length<=4?"****":`${O.slice(0,4)}****${O.slice(-4)}`,A=O=>{try{return JSON.parse(O)}catch{return{}}};return m?i.jsxs(te,{children:[i.jsx(He,{children:i.jsxs(We,{className:"flex items-center gap-2",children:[i.jsx(Jy,{className:"h-5 w-5"}),"Configuracin de Pagos"]})}),i.jsx(ie,{children:i.jsx("div",{className:"flex items-center justify-center py-8",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"})})})]}):i.jsxs(te,{children:[i.jsx(He,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(We,{className:"flex items-center gap-2",children:[i.jsx(Jy,{className:"h-5 w-5"}),"Configuracin de Pagos"]}),i.jsxs($r,{open:s,onOpenChange:a,children:[i.jsx(fm,{asChild:!0,children:i.jsxs(z,{onClick:x,size:"sm","data-testid":"button-add-payment-config",children:[i.jsx(jn,{className:"w-4 h-4 mr-2"}),"Agregar Pasarela"]})}),i.jsxs(Er,{className:"max-w-2xl",children:[i.jsxs(Tr,{children:[i.jsx(kr,{children:r?"Editar Configuracin":"Agregar Pasarela de Pago"}),i.jsx(yo,{children:"Configura una pasarela de pago para tu tienda"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Fe,{htmlFor:"display-name",children:"Nombre de la Pasarela"}),i.jsx(pe,{id:"display-name",placeholder:"ej. MercadoPago, Conekta, Transferencia Bancaria",value:c,onChange:O=>d(O.target.value),"data-testid":"input-display-name"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(pn,{id:"is-active",checked:u,onCheckedChange:h,"data-testid":"switch-is-active"}),i.jsx(Fe,{htmlFor:"is-active",children:"Activa"})]}),i.jsxs("div",{children:[i.jsx(Fe,{htmlFor:"config-data",children:"Configuracin (JSON)"}),i.jsx(Yr,{id:"config-data",placeholder:'{"publicKey": "tu_public_key", "secretKey": "tu_secret_key"}',value:f,onChange:O=>g(O.target.value),rows:8,className:"font-mono text-sm","data-testid":"textarea-config-data"}),i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Ingresa la configuracin en formato JSON. Ejemplo para MercadoPago:",'{"publicKey": "APP_USR-xxx", "accessToken": "APP_USR-xxx"}']})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsxs(z,{onClick:b,disabled:v.isPending||!c||!f,className:"flex-1","data-testid":"button-save-config",children:[i.jsx(Bf,{className:"w-4 h-4 mr-2"}),v.isPending?"Guardando...":"Guardar"]}),i.jsx(z,{variant:"outline",onClick:()=>a(!1),"data-testid":"button-cancel-config",children:"Cancelar"})]})]})]})]})]})}),i.jsx(ie,{children:j.length===0?i.jsxs("div",{className:"text-center py-8",children:[i.jsx(Kl,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),i.jsx("p",{className:"text-gray-600",children:"No hay pasarelas de pago configuradas"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Agrega tu primera pasarela para comenzar"})]}):i.jsx("div",{className:"space-y-4",children:j.map(O=>{const M=A(O.config),G=o[O.id];return i.jsx(te,{className:"border-l-4 border-l-blue-500",children:i.jsx(ie,{className:"pt-4",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[k(O.configKey),i.jsx("h3",{className:"font-semibold text-lg",children:O.displayName}),O.isActive?i.jsx(_e,{className:"bg-green-100 text-green-800",children:"Activa"}):i.jsx(_e,{variant:"outline",children:"Inactiva"})]}),i.jsxs("div",{className:"text-sm text-gray-600",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Tipo:"})," ",O.configKey]}),i.jsxs("p",{children:[i.jsx("strong",{children:"ltima actualizacin:"})," ",new Date(O.updatedAt).toLocaleDateString("es-MX")]})]}),i.jsxs("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h4",{className:"text-sm font-semibold text-gray-700",children:"Configuracin"}),i.jsx(z,{variant:"ghost",size:"sm",onClick:()=>E(O.id),className:"h-6 px-2","data-testid":`button-toggle-${O.id}`,children:G?i.jsx(n6,{className:"w-3 h-3"}):i.jsx(d0,{className:"w-3 h-3"})})]}),i.jsx("div",{className:"text-xs space-y-1 font-mono",children:Object.entries(M).map(([L,R])=>i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("span",{className:"text-gray-600",children:[L,":"]}),i.jsx("span",{className:"text-gray-800",children:L.toLowerCase().includes("secret")||L.toLowerCase().includes("private")||L.toLowerCase().includes("token")?T(String(R),G):String(R)})]},L))})]})]}),i.jsxs(z,{variant:"outline",size:"sm",onClick:()=>y(O),"data-testid":`button-edit-${O.id}`,children:[i.jsx(f6,{className:"w-4 h-4 mr-2"}),"Editar"]})]})})},O.id)})})})]})}const RZ=V.object({name:V.string().min(1,"El nombre es requerido"),description:V.string().optional(),price:V.string().min(1,"El precio es requerido"),originalPrice:V.string().optional(),categoryId:V.string().optional(),imageUrl:V.string().optional().or(V.literal("")),images:V.array(V.string()).optional().default([]),stock:V.number().min(0,"El stock no puede ser negativo").optional(),rating:V.string().optional(),reviewCount:V.number().min(0).optional(),promotionType:V.enum(["BOOM","OFERTA","RELAMPAGO","NUEVO","none"]).optional(),isActive:V.boolean().default(!0),isFeatured:V.boolean().default(!1),isAffiliate:V.boolean().default(!1),affiliateUrl:V.string().optional().or(V.literal("")),affiliateStore:V.string().optional(),shippingMethod:V.string().default("Envo Estndar"),deliveryTime:V.string().default("3-5 das hbiles"),freeShipping:V.boolean().default(!1),freeShippingMinAmount:V.string().default("999"),isImported:V.boolean().default(!1),importDeliveryDays:V.number().min(1,"Los das de entrega deben ser mayor a 0").default(15),importDescription:V.string().default("Producto de importacin")}),OZ=V.object({password:V.string().min(6,"La contrasea debe tener al menos 6 caracteres"),confirmPassword:V.string().min(6,"Confirma la contrasea")}).refine(t=>t.password===t.confirmPassword,{message:"Las contraseas no coinciden",path:["confirmPassword"]}),FZ=V.object({name:V.string().min(1,"El nombre es requerido"),emoji:V.string().min(1,"El emoji es requerido"),isActive:V.boolean().default(!0)});function IZ(){const{user:t}=Cn(),[,e]=os(),[r,n]=p.useState("dashboard"),[s,a]=p.useState(null),[o,l]=p.useState(!1),[c,d]=p.useState(null),[u,h]=p.useState(!1),[f,g]=p.useState(null),[j,m]=p.useState(!1),[v,w]=p.useState(null),[y,x]=p.useState(!1),[b,E]=p.useState(""),[k,T]=p.useState(""),[A,O]=p.useState(""),[M,G]=p.useState(null),[L,R]=p.useState(!1),[I,ae]=p.useState(null),[J,ce]=p.useState(!1),[F,$]=p.useState(""),{toast:W}=cr(),ne=ls();if(!(t!=null&&t.isAdmin))return e("/"),null;const{data:Ce}=nt({queryKey:["/api/admin/stats"]}),{data:ut=[]}=nt({queryKey:["/api/products"]}),{data:tt=[]}=nt({queryKey:["/api/categories"]}),{data:_t=[]}=nt({queryKey:["/api/admin/users"]}),{data:ot=[]}=nt({queryKey:["/api/admin/orders"]}),{data:xe=[]}=nt({queryKey:["/api/support/tickets"],enabled:t==null?void 0:t.isAdmin}),{data:Re}=nt({queryKey:["/api/admin/support/stats"],enabled:t==null?void 0:t.isAdmin}),{data:Ke}=nt({queryKey:["/api/support/tickets",v==null?void 0:v.id],enabled:!!(v!=null&&v.id)&&(t==null?void 0:t.isAdmin)}),Ie=Ts({resolver:ks(FZ),defaultValues:{name:"",emoji:"",isActive:!0}}),ue=Ts({resolver:ks(RZ),defaultValues:{name:"",description:"",price:"",originalPrice:"",categoryId:"",imageUrl:"",images:[],stock:0,rating:"0",reviewCount:0,isActive:!0,isFeatured:!1,isAffiliate:!1,affiliateUrl:"",affiliateStore:"",shippingMethod:"Envo Estndar",deliveryTime:"3-5 das hbiles",freeShipping:!1,freeShippingMinAmount:"999",isImported:!1,importDeliveryDays:15,importDescription:"Producto de importacin"}}),qe=Ts({resolver:ks(OZ),defaultValues:{password:"",confirmPassword:""}}),Bt=rt({mutationFn:async({orderId:S,status:K})=>{await Be("PATCH",`/api/admin/orders/${S}/status`,{status:K})},onSuccess:()=>{ne.invalidateQueries({queryKey:["/api/admin/orders"]}),ne.invalidateQueries({queryKey:["/api/orders"]}),W({title:"Estado actualizado",description:"El estado del pedido ha sido actualizado exitosamente"})},onError:()=>{W({title:"Error",description:"No se pudo actualizar el estado del pedido",variant:"destructive"})}}),Yt=rt({mutationFn:async S=>{const K={...S,stock:S.stock||0,reviewCount:S.reviewCount||0,categoryId:S.categoryId||null,imageUrl:S.imageUrl||null,images:S.images||[],originalPrice:S.originalPrice||null,description:S.description||null,rating:S.rating||null,promotionType:S.promotionType==="none"?null:S.promotionType||null,affiliateUrl:S.affiliateUrl||null,affiliateStore:S.affiliateStore||null,isImported:S.isImported,importDeliveryDays:S.importDeliveryDays,importDescription:S.importDescription};return await Be("POST","/api/admin/products",K)},onSuccess:()=>{ne.invalidateQueries({queryKey:["/api/products"]}),l(!1),ue.reset(),W({title:"Producto creado",description:"El producto ha sido creado exitosamente"})},onError:S=>{W({title:"Error",description:S.message||"No se pudo crear el producto",variant:"destructive"})}}),Tn=rt({mutationFn:async({id:S,data:K})=>{const Oe={...K,stock:K.stock||0,reviewCount:K.reviewCount||0,categoryId:K.categoryId||null,imageUrl:K.imageUrl||null,images:K.images||[],originalPrice:K.originalPrice||null,description:K.description||null,rating:K.rating||null,promotionType:K.promotionType==="none"?null:K.promotionType||null,affiliateUrl:K.affiliateUrl||null,affiliateStore:K.affiliateStore||null,isImported:K.isImported,importDeliveryDays:K.importDeliveryDays,importDescription:K.importDescription};return await Be("PATCH",`/api/admin/products/${S}`,Oe)},onSuccess:()=>{ne.invalidateQueries({queryKey:["/api/products"]}),l(!1),a(null),ue.reset(),W({title:"Producto actualizado",description:"El producto ha sido actualizado exitosamente"})},onError:S=>{W({title:"Error",description:S.message||"No se pudo actualizar el producto",variant:"destructive"})}}),ds=rt({mutationFn:async S=>await Be("DELETE",`/api/admin/products/${S}`),onSuccess:()=>{ne.invalidateQueries({queryKey:["/api/products"]}),W({title:"Producto eliminado",description:"El producto ha sido eliminado exitosamente"})},onError:S=>{W({title:"Error",description:S.message||"No se pudo eliminar el producto",variant:"destructive"})}}),on=rt({mutationFn:async S=>await Be("POST","/api/admin/categories",S),onSuccess:()=>{ne.invalidateQueries({queryKey:["/api/categories"]}),m(!1),Ie.reset(),W({title:"Categora creada",description:"La categora ha sido creada exitosamente"})},onError:S=>{W({title:"Error",description:S.message||"No se pudo crear la categora",variant:"destructive"})}}),pa=rt({mutationFn:async({id:S,data:K})=>await Be("PATCH",`/api/admin/categories/${S}`,K),onSuccess:()=>{ne.invalidateQueries({queryKey:["/api/categories"]}),m(!1),g(null),Ie.reset(),W({title:"Categora actualizada",description:"La categora ha sido actualizada exitosamente"})},onError:S=>{W({title:"Error",description:S.message||"No se pudo actualizar la categora",variant:"destructive"})}}),gi=rt({mutationFn:async S=>await Be("DELETE",`/api/admin/categories/${S}`),onSuccess:()=>{ne.invalidateQueries({queryKey:["/api/categories"]}),W({title:"Categora eliminada",description:"La categora ha sido eliminada exitosamente"})},onError:S=>{W({title:"Error",description:S.message||"No se pudo eliminar la categora",variant:"destructive"})}}),xo=rt({mutationFn:async({ticketId:S,status:K,adminNotes:Oe,resolution:dt})=>await Be("PATCH",`/api/admin/support/tickets/${S}`,{status:K,adminNotes:Oe,resolution:dt}),onSuccess:()=>{ne.invalidateQueries({queryKey:["/api/support/tickets"]}),ne.invalidateQueries({queryKey:["/api/admin/support/stats"]}),W({title:"Ticket actualizado",description:"El ticket ha sido actualizado exitosamente"})},onError:S=>{W({title:"Error",description:S.message||"No se pudo actualizar el ticket",variant:"destructive"})}}),vo=rt({mutationFn:async({ticketId:S,message:K})=>await Be("POST",`/api/support/tickets/${S}/messages`,{message:K,senderType:"ADMIN",senderName:(t==null?void 0:t.fullName)||"Administrador",senderEmail:(t==null?void 0:t.email)||"admin@mercadoboom.com"}),onSuccess:()=>{ne.invalidateQueries({queryKey:["/api/support/tickets",v==null?void 0:v.id]}),ne.invalidateQueries({queryKey:["/api/support/tickets"]}),E(""),W({title:"Respuesta enviada",description:"Tu respuesta ha sido enviada al cliente"})},onError:S=>{W({title:"Error",description:S.message||"No se pudo enviar la respuesta",variant:"destructive"})}}),P=rt({mutationFn:async({userId:S,password:K})=>await Be("PUT",`/api/admin/users/${S}/password`,{password:K}),onSuccess:()=>{ne.invalidateQueries({queryKey:["/api/admin/users"]}),R(!1),qe.reset(),W({title:"Contrasea actualizada",description:"La contrasea del usuario ha sido cambiada exitosamente"})},onError:S=>{W({title:"Error",description:S.message||"No se pudo cambiar la contrasea",variant:"destructive"})}}),D=rt({mutationFn:async({userId:S,reason:K})=>await Be("POST",`/api/admin/users/${S}/block`,{reason:K}),onSuccess:()=>{ne.invalidateQueries({queryKey:["/api/admin/users"]}),ce(!1),$(""),W({title:"Usuario bloqueado",description:"El usuario ha sido bloqueado exitosamente"})},onError:S=>{W({title:"Error",description:S.message||"No se pudo bloquear el usuario",variant:"destructive"})}}),H=rt({mutationFn:async S=>await Be("POST",`/api/admin/users/${S}/unblock`,{}),onSuccess:()=>{ne.invalidateQueries({queryKey:["/api/admin/users"]}),W({title:"Usuario desbloqueado",description:"El usuario ha sido desbloqueado exitosamente"})},onError:S=>{W({title:"Error",description:S.message||"No se pudo desbloquear el usuario",variant:"destructive"})}}),de=S=>{switch(S){case"ENTREGADO":return"bg-green-100 text-green-800";case"ENVIADO":return"bg-blue-100 text-blue-800";case"EN_PREPARACION":return"bg-yellow-100 text-yellow-800";case"PAGADO":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},ee=S=>`$${Number(S).toLocaleString()}`,Y=S=>{a(S),ue.reset({name:S.name,description:S.description||"",price:S.price,originalPrice:S.originalPrice||"",categoryId:S.categoryId||"",imageUrl:S.imageUrl||"",images:S.images||[],stock:S.stock||0,rating:S.rating||"0",reviewCount:S.reviewCount||0,promotionType:S.promotionType,isActive:S.isActive||!1,isFeatured:S.isFeatured||!1,isAffiliate:S.isAffiliate||!1,affiliateUrl:S.affiliateUrl||"",affiliateStore:S.affiliateStore||"",shippingMethod:S.shippingMethod||"Envo Estndar",deliveryTime:S.deliveryTime||"3-5 das hbiles",freeShipping:S.freeShipping||!1,freeShippingMinAmount:S.freeShippingMinAmount||"999",isImported:S.isImported||!1,importDeliveryDays:S.importDeliveryDays||15,importDescription:S.importDescription||"Producto de importacin"}),l(!0)},ye=()=>{a(null),ue.reset(),l(!0)},Xe=S=>{confirm("Ests seguro de que quieres eliminar este producto?")&&ds.mutate(S)},Nt=S=>{console.log(" Submitting product with data:",S),console.log("Image URL being sent:",S.imageUrl),console.log("Gallery images being sent:",S.images),s?Tn.mutate({id:s.id,data:S}):Yt.mutate(S)},Vt=S=>{console.log(" Form validation errors:",S),W({title:"Error en el formulario",description:"Revisa los campos marcados en rojo",variant:"destructive"})},Nm=S=>{f?pa.mutate({id:f.id,data:S}):on.mutate(S)},vc=S=>{g(S),Ie.reset({name:S.name,emoji:S.emoji||"",isActive:S.isActive||!1}),m(!0)},bc=()=>{g(null),Ie.reset(),m(!0)},Sm=S=>{confirm("Ests seguro de que quieres eliminar esta categora?")&&gi.mutate(S)},Ku=S=>{d(S),h(!0)},Cm=S=>{w(S),T(S.adminNotes||""),O(S.resolution||""),x(!0)},Qu=(S,K)=>{xo.mutate({ticketId:S,status:K})},cI=()=>{v&&xo.mutate({ticketId:v.id,status:v.status,adminNotes:k,resolution:A})},dI=()=>{v&&b.trim()&&vo.mutate({ticketId:v.id,message:b})},uI=S=>{G(S),qe.reset(),R(!0)},hI=S=>{M&&P.mutate({userId:M.id,password:S.password})},fI=S=>{ae(S),$(""),ce(!0)},pI=()=>{I&&F.trim()&&D.mutate({userId:I.id,reason:F})},mI=S=>{H.mutate(S.id)},_m=S=>{const K=["PAGADO","EN_PREPARACION","RECOGIDO","ENVIADO","EN_RUTA","ENTREGADO"],Oe=K.indexOf(S.status);return K.map((dt,Ir)=>{const gt=Ir<=Oe,dr=Ir===Oe;return{status:dt,label:gI(dt),icon:Sb(dt),completed:gt,current:dr,timestamp:Ir<=Oe?S.updatedAt:null}})},gI=S=>({PAGADO:"Pago Confirmado",EN_PREPARACION:"Preparando Pedido",RECOGIDO:"Recogido por Paquetera",ENVIADO:"Enviado",EN_RUTA:"En Ruta de Entrega",ENTREGADO:"Entregado"})[S]||S,Sb=S=>({PAGADO:i.jsx(Xo,{className:"w-4 h-4"}),EN_PREPARACION:i.jsx(og,{className:"w-4 h-4"}),RECOGIDO:i.jsx(Zr,{className:"w-4 h-4"}),ENVIADO:i.jsx(tm,{className:"w-4 h-4"}),EN_RUTA:i.jsx(Gl,{className:"w-4 h-4"}),ENTREGADO:i.jsx(ni,{className:"w-4 h-4"})})[S]||i.jsx(mn,{className:"w-4 h-4"});return i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsx(Zi,{}),i.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8",children:i.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[i.jsx("div",{className:"lg:w-1/4",children:i.jsx(te,{children:i.jsxs(ie,{className:"p-6",children:[i.jsx("h3",{className:"font-bold text-xl mb-6 text-boom-red",children:"Panel Admin"}),i.jsxs("nav",{className:"space-y-2",children:[i.jsxs(z,{variant:r==="dashboard"?"default":"ghost",className:`w-full justify-start ${r==="dashboard"?"bg-boom-red text-white hover:bg-boom-red/90":""}`,onClick:()=>n("dashboard"),children:[i.jsx(JL,{className:"mr-3 h-4 w-4"}),"Dashboard"]}),i.jsxs(z,{variant:r==="products"?"default":"ghost",className:`w-full justify-start ${r==="products"?"bg-boom-red text-white hover:bg-boom-red/90":""}`,onClick:()=>n("products"),children:[i.jsx(Zr,{className:"mr-3 h-4 w-4"}),"Productos"]}),i.jsxs(z,{variant:r==="users"?"default":"ghost",className:`w-full justify-start ${r==="users"?"bg-boom-red text-white hover:bg-boom-red/90":""}`,onClick:()=>n("users"),children:[i.jsx(Pc,{className:"mr-3 h-4 w-4"}),"Usuarios"]}),i.jsxs(z,{variant:r==="orders"?"default":"ghost",className:`w-full justify-start ${r==="orders"?"bg-boom-red text-white hover:bg-boom-red/90":""}`,onClick:()=>n("orders"),children:[i.jsx(ro,{className:"mr-3 h-4 w-4"}),"Pedidos"]}),i.jsxs(z,{variant:r==="transfers"?"default":"ghost",className:`w-full justify-start ${r==="transfers"?"bg-boom-red text-white hover:bg-boom-red/90":""}`,onClick:()=>n("transfers"),children:[i.jsx(Od,{className:"mr-3 h-4 w-4"}),"Transferencias"]}),i.jsxs(z,{variant:r==="payments"?"default":"ghost",className:`w-full justify-start ${r==="payments"?"bg-boom-red text-white hover:bg-boom-red/90":""}`,onClick:()=>n("payments"),children:[i.jsx(Xo,{className:"mr-3 h-4 w-4"}),"Configurar Pagos"]}),i.jsxs(z,{variant:r==="transfer-discount"?"default":"ghost",className:`w-full justify-start ${r==="transfer-discount"?"bg-boom-red text-white hover:bg-boom-red/90":""}`,onClick:()=>n("transfer-discount"),"data-testid":"button-nav-transfer-discount",children:[i.jsx(jk,{className:"mr-3 h-4 w-4"}),"Descuento Transferencia"]}),i.jsxs(z,{variant:r==="categories"?"default":"ghost",className:`w-full justify-start ${r==="categories"?"bg-boom-red text-white hover:bg-boom-red/90":""}`,onClick:()=>n("categories"),children:[i.jsx(Zr,{className:"mr-3 h-4 w-4"}),"Categoras"]}),i.jsxs(z,{variant:r==="banners"?"default":"ghost",className:`w-full justify-start ${r==="banners"?"bg-boom-red text-white hover:bg-boom-red/90":""}`,onClick:()=>n("banners"),children:[i.jsx(og,{className:"mr-3 h-4 w-4"}),"Banners"]}),i.jsxs(z,{variant:r==="special-offers"?"default":"ghost",className:`w-full justify-start ${r==="special-offers"?"bg-boom-red text-white hover:bg-boom-red/90":""}`,onClick:()=>n("special-offers"),children:[i.jsx(i1,{className:"mr-3 h-4 w-4"}),"Ofertas Especiales"]}),i.jsxs(z,{variant:r==="timeline"?"default":"ghost",className:`w-full justify-start ${r==="timeline"?"bg-boom-red text-white hover:bg-boom-red/90":""}`,onClick:()=>n("timeline"),children:[i.jsx(mn,{className:"mr-3 h-4 w-4"}),"Timeline Usuarios"]}),i.jsxs(z,{variant:r==="support"?"default":"ghost",className:`w-full justify-start relative ${r==="support"?"bg-boom-red text-white hover:bg-boom-red/90":""}`,onClick:()=>n("support"),children:[i.jsx(gn,{className:"mr-3 h-4 w-4"}),"Tickets de Soporte",Re&&Re.openTickets>0&&i.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:Re.openTickets})]})]})]})})}),i.jsxs("div",{className:"lg:w-3/4",children:[r==="dashboard"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[i.jsx(te,{children:i.jsxs(ie,{className:"p-6 text-center",children:[i.jsx("div",{className:"bg-blue-100 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(Pc,{className:"text-blue-600 text-xl"})}),i.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:(Ce==null?void 0:Ce.activeUsers)||0}),i.jsx("p",{className:"text-gray-600",children:"Usuarios Activos"})]})}),i.jsx(te,{children:i.jsxs(ie,{className:"p-6 text-center",children:[i.jsx("div",{className:"bg-green-100 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(vk,{className:"text-green-600 text-xl"})}),i.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:(Ce==null?void 0:Ce.totalSales)||"$0"}),i.jsx("p",{className:"text-gray-600",children:"Ventas Totales"})]})}),i.jsx(te,{children:i.jsxs(ie,{className:"p-6 text-center",children:[i.jsx("div",{className:"bg-yellow-100 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(Zr,{className:"text-yellow-600 text-xl"})}),i.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:(Ce==null?void 0:Ce.totalOrders)||0}),i.jsx("p",{className:"text-gray-600",children:"Pedidos"})]})}),i.jsx(te,{children:i.jsxs(ie,{className:"p-6 text-center",children:[i.jsx("div",{className:"bg-purple-100 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(i1,{className:"text-purple-600 text-xl"})}),i.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:(Ce==null?void 0:Ce.conversionRate)||"0%"}),i.jsx("p",{className:"text-gray-600",children:"Conversin"})]})})]}),i.jsxs(te,{children:[i.jsx(He,{children:i.jsx(We,{children:"Actividad Reciente"})}),i.jsx(ie,{children:i.jsx("div",{className:"space-y-4",children:ot.slice(0,5).map(S=>i.jsxs("div",{className:"flex items-center space-x-4 p-3 bg-gray-50 rounded-lg",children:[i.jsx("div",{className:"bg-green-100 w-8 h-8 rounded-full flex items-center justify-center",children:i.jsx(ro,{className:"text-green-600 text-xs"})}),i.jsxs("div",{children:[i.jsxs("p",{className:"font-medium",children:["Nueva venta: ",S.product.name]}),i.jsxs("p",{className:"text-gray-600 text-sm",children:["hace ",Math.floor((Date.now()-new Date(S.createdAt||Date.now()).getTime())/(1e3*60))," minutos"]})]})]},S.id))})})]})]}),r==="products"&&i.jsxs(te,{children:[i.jsx(He,{children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx(We,{children:"Gestin de Productos"}),i.jsxs(z,{className:"bg-boom-yellow text-black hover:bg-boom-yellow/90",onClick:ye,"data-testid":"button-add-product",children:[i.jsx(jn,{className:"mr-2 h-4 w-4"}),"Agregar Producto"]})]})}),i.jsx(ie,{children:i.jsxs(uf,{children:[i.jsx(hf,{children:i.jsxs(xa,{children:[i.jsx(Jt,{children:"Producto"}),i.jsx(Jt,{children:"Precio"}),i.jsx(Jt,{children:"Stock"}),i.jsx(Jt,{children:"Estado"}),i.jsx(Jt,{children:"Acciones"})]})}),i.jsx(ff,{children:ut.map(S=>i.jsxs(xa,{children:[i.jsxs(er,{className:"flex items-center space-x-3",children:[i.jsx("img",{src:S.imageUrl||"/placeholder.jpg",alt:S.name,className:"w-10 h-10 object-cover rounded"}),i.jsx("span",{className:"font-medium",children:S.name})]}),i.jsx(er,{children:ee(S.price)}),i.jsx(er,{children:S.isAffiliate?i.jsx(_e,{className:"bg-blue-100 text-blue-800",children:"Externo"}):i.jsx(_e,{className:`${(S.stock||0)>20?"bg-green-100 text-green-800":(S.stock||0)>10?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:S.stock?S.stock:"Agotado"})}),i.jsx(er,{children:i.jsx(_e,{className:S.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800",children:S.isActive?"Activo":"Inactivo"})}),i.jsx(er,{children:i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(z,{size:"sm",variant:"outline",onClick:()=>Y(S),"data-testid":`button-edit-product-${S.id}`,children:i.jsx(Fd,{className:"h-4 w-4"})}),i.jsx(z,{size:"sm",variant:"outline",onClick:()=>Xe(S.id),"data-testid":`button-delete-product-${S.id}`,children:i.jsx(s1,{className:"h-4 w-4"})})]})})]},S.id))})]})})]}),r==="users"&&i.jsxs(te,{children:[i.jsx(He,{children:i.jsx(We,{children:"Gestin de Usuarios"})}),i.jsx(ie,{children:i.jsxs(uf,{children:[i.jsx(hf,{children:i.jsxs(xa,{children:[i.jsx(Jt,{children:"Usuario"}),i.jsx(Jt,{children:"Email"}),i.jsx(Jt,{children:"Registro"}),i.jsx(Jt,{children:"Estado"}),i.jsx(Jt,{children:"Acciones"})]})}),i.jsx(ff,{children:_t.map(S=>i.jsxs(xa,{children:[i.jsx(er,{children:i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:S.fullName}),i.jsxs("div",{className:"text-gray-500",children:["@",S.username]})]})}),i.jsx(er,{children:S.email}),i.jsx(er,{children:S.createdAt?new Date(S.createdAt).toLocaleDateString("es-MX"):"N/A"}),i.jsx(er,{children:S.isBlocked?i.jsxs("div",{children:[i.jsx(_e,{className:"bg-red-100 text-red-800",children:"Bloqueado"}),S.blockReason&&i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:S.blockReason})]}):i.jsx(_e,{className:"bg-green-100 text-green-800",children:"Activo"})}),i.jsx(er,{children:i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(z,{size:"sm",variant:"outline",onClick:()=>uI(S),"data-testid":`button-change-password-${S.id}`,title:"Cambiar contrasea",children:i.jsx(o6,{className:"h-4 w-4"})}),S.isBlocked?i.jsx(z,{size:"sm",variant:"outline",onClick:()=>mI(S),"data-testid":`button-unblock-user-${S.id}`,title:"Desbloquear usuario",children:i.jsx(c6,{className:"h-4 w-4"})}):i.jsx(z,{size:"sm",variant:"outline",onClick:()=>fI(S),"data-testid":`button-block-user-${S.id}`,title:"Bloquear usuario",children:i.jsx(ZL,{className:"h-4 w-4"})})]})})]},S.id))})]})})]}),r==="orders"&&i.jsxs(te,{children:[i.jsx(He,{children:i.jsx(We,{children:"Gestin de Pedidos"})}),i.jsx(ie,{children:i.jsxs(uf,{children:[i.jsx(hf,{children:i.jsxs(xa,{children:[i.jsx(Jt,{children:"Pedido"}),i.jsx(Jt,{children:"Cliente"}),i.jsx(Jt,{children:"Fecha"}),i.jsx(Jt,{children:"Total"}),i.jsx(Jt,{children:"Estado"}),i.jsx(Jt,{children:"Acciones"})]})}),i.jsx(ff,{children:ot.map(S=>i.jsxs(xa,{children:[i.jsx(er,{className:"font-medium",children:S.orderNumber}),i.jsx(er,{children:S.user.fullName}),i.jsx(er,{children:S.createdAt?new Date(S.createdAt).toLocaleDateString("es-MX"):"N/A"}),i.jsx(er,{className:"font-semibold",children:ee(S.totalAmount)}),i.jsx(er,{children:i.jsxs(sr,{value:S.status,onValueChange:K=>Bt.mutate({orderId:S.id,status:K}),children:[i.jsx(Wt,{className:"w-36",children:i.jsx(ir,{})}),i.jsxs(Gt,{children:[i.jsx(fe,{value:"PAGADO",children:" Pagado"}),i.jsx(fe,{value:"EN_PREPARACION",children:" En Preparacin"}),i.jsx(fe,{value:"RECOGIDO",children:" Recogido"}),i.jsx(fe,{value:"ENVIADO",children:" Enviado"}),i.jsx(fe,{value:"EN_RUTA",children:" En Ruta"}),i.jsx(fe,{value:"ENTREGADO",children:" Entregado"})]})]})}),i.jsx(er,{children:i.jsxs(z,{size:"sm",variant:"outline",onClick:()=>Ku(S),"data-testid":`button-view-order-${S.id}`,children:[i.jsx(d0,{className:"h-4 w-4 mr-2"}),"Ver Detalles"]})})]},S.id))})]})})]}),r==="categories"&&i.jsxs(te,{children:[i.jsx(He,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(We,{children:"Gestin de Categoras"}),i.jsxs(z,{onClick:bc,"data-testid":"button-add-category",children:[i.jsx(jn,{className:"h-4 w-4 mr-2"}),"Agregar Categora"]})]})}),i.jsx(ie,{children:i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:tt.map(S=>i.jsx(te,{className:"border-l-4 border-l-boom-red",children:i.jsx(ie,{className:"p-4",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("span",{className:"text-2xl",children:S.emoji}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold",children:S.name}),i.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[i.jsx("span",{className:`inline-block w-2 h-2 rounded-full ${S.isActive?"bg-green-500":"bg-gray-400"}`}),i.jsx("span",{className:"text-sm text-gray-600",children:S.isActive?"Activa":"Inactiva"})]})]})]}),i.jsxs("div",{className:"flex space-x-1",children:[i.jsx(z,{size:"sm",variant:"outline",onClick:()=>vc(S),"data-testid":`button-edit-category-${S.id}`,children:i.jsx(Fd,{className:"h-3 w-3"})}),i.jsx(z,{size:"sm",variant:"outline",onClick:()=>Sm(S.id),"data-testid":`button-delete-category-${S.id}`,children:i.jsx(s1,{className:"h-3 w-3"})})]})]})})},S.id))})})]}),r==="transfers"&&i.jsx(PZ,{}),r==="payments"&&i.jsx(AZ,{}),r==="banners"&&i.jsx(CZ,{}),r==="special-offers"&&i.jsx(_Z,{}),r==="transfer-discount"&&i.jsx(EZ,{}),r==="timeline"&&i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"flex justify-between items-center",children:i.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Timeline de Pedidos por Usuario"})}),i.jsx("div",{className:"grid gap-6",children:_t.map(S=>{const K=ot.filter(Oe=>Oe.userId===S.id);return K.length===0?null:i.jsxs(te,{className:"overflow-hidden",children:[i.jsx(He,{className:"bg-gradient-to-r from-boom-red to-red-600 text-white",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx(We,{className:"text-xl",children:S.fullName}),i.jsx("p",{className:"text-red-100",children:S.email})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:"text-red-100",children:["Total pedidos: ",K.length]}),i.jsxs("p",{className:"text-red-100",children:["Total gastado: $",K.reduce((Oe,dt)=>Oe+parseFloat(dt.totalAmount),0).toLocaleString("es-MX",{minimumFractionDigits:2})]})]})]})}),i.jsx(ie,{className:"p-6",children:i.jsx("div",{className:"space-y-4",children:K.sort((Oe,dt)=>new Date(dt.createdAt||0).getTime()-new Date(Oe.createdAt||0).getTime()).map(Oe=>{var Ir;const dt=_m(Oe);return i.jsxs("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{children:[i.jsxs("h4",{className:"font-semibold text-gray-900",children:["Pedido #",Oe.id.slice(0,8)]}),i.jsx("p",{className:"text-sm text-gray-600",children:new Date(Oe.createdAt||0).toLocaleDateString("es-MX",{year:"numeric",month:"long",day:"numeric"})})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:"font-semibold text-boom-red",children:["$",parseFloat(Oe.totalAmount).toLocaleString("es-MX",{minimumFractionDigits:2})]}),i.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${Oe.status==="ENTREGADO"?"bg-green-100 text-green-800":Oe.status==="EN_RUTA"?"bg-blue-100 text-blue-800":Oe.status==="ENVIADO"?"bg-indigo-100 text-indigo-800":Oe.status==="EN_PREPARACION"?"bg-yellow-100 text-yellow-800":Oe.status==="PAGADO"?"bg-teal-100 text-teal-800":"bg-gray-100 text-gray-800"}`,children:Oe.status.replace(/_/g," ")})]})]}),i.jsx("div",{className:"relative mt-6",children:i.jsx("div",{className:"flex items-center justify-between mb-2",children:dt.map((gt,dr)=>i.jsxs("div",{className:"flex flex-col items-center flex-1 relative z-10",children:[i.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${gt.completed?"bg-boom-red text-white":"bg-gray-200 text-gray-500"}`,children:Sb(gt.status)}),i.jsx("p",{className:`text-xs mt-2 text-center ${gt.completed?"text-gray-900 font-medium":"text-gray-500"}`,children:gt.label}),gt.timestamp&&i.jsx("p",{className:"text-xs text-gray-400 mt-1",children:new Date(gt.timestamp).toLocaleDateString("es-MX")}),dr<dt.length-1&&i.jsx("div",{className:`absolute h-0.5 ${gt.completed&&dt[dr+1].completed?"bg-boom-red":"bg-gray-300"}`,style:{top:"16px",left:`${(dr+1)/dt.length*100-1/dt.length*50}%`,width:`${1/dt.length*100}%`}})]},dr))})}),i.jsxs("div",{className:"mt-4 pt-4 border-t",children:[i.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Producto:"}),i.jsxs("p",{className:"text-sm text-gray-600",children:[" ",((Ir=Oe.product)==null?void 0:Ir.name)||"N/A"," (x",Oe.quantity,")"]})]})]},Oe.id)})})})]},S.id)})}),_t.filter(S=>ot.some(K=>K.userId===S.id)).length===0&&i.jsx(te,{children:i.jsxs(ie,{className:"p-12 text-center",children:[i.jsx(mn,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No hay pedidos an"}),i.jsx("p",{className:"text-gray-600",children:"Los pedidos de los usuarios aparecern aqu con su timeline completo."})]})})]}),r==="support"&&i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"flex justify-between items-center",children:i.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Gestin de Tickets de Soporte"})}),Re&&i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsx(te,{children:i.jsx(ie,{className:"p-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(gn,{className:"h-8 w-8 text-blue-600"}),i.jsxs("div",{className:"ml-4",children:[i.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Tickets"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Re.totalTickets})]})]})})}),i.jsx(te,{children:i.jsx(ie,{className:"p-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(Wl,{className:"h-8 w-8 text-orange-600"}),i.jsxs("div",{className:"ml-4",children:[i.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Abiertos"}),i.jsx("p",{className:"text-2xl font-bold text-orange-600",children:Re.openTickets})]})]})})}),i.jsx(te,{children:i.jsx(ie,{className:"p-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(mn,{className:"h-8 w-8 text-yellow-600"}),i.jsxs("div",{className:"ml-4",children:[i.jsx("p",{className:"text-sm font-medium text-gray-600",children:"En Proceso"}),i.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:Re.inProgressTickets})]})]})})}),i.jsx(te,{children:i.jsx(ie,{className:"p-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(ni,{className:"h-8 w-8 text-green-600"}),i.jsxs("div",{className:"ml-4",children:[i.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Resueltos"}),i.jsx("p",{className:"text-2xl font-bold text-green-600",children:Re.resolvedTickets})]})]})})})]}),i.jsxs(te,{children:[i.jsx(He,{children:i.jsx(We,{children:"Tickets Activos"})}),i.jsx(ie,{children:xe.length===0?i.jsxs("div",{className:"text-center py-8",children:[i.jsx(gn,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No hay tickets"}),i.jsx("p",{className:"text-gray-600",children:"Los tickets de soporte aparecern aqu."})]}):i.jsx("div",{className:"space-y-4",children:xe.sort((S,K)=>new Date(K.createdAt||0).getTime()-new Date(S.createdAt||0).getTime()).map(S=>i.jsxs("div",{className:"border rounded-lg p-4 hover:bg-gray-50",children:[i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsxs("span",{className:"font-semibold text-gray-900",children:["Ticket #",S.ticketNumber]}),i.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${S.priority==="URGENTE"?"bg-red-100 text-red-800":S.priority==="ALTO"?"bg-orange-100 text-orange-800":S.priority==="MEDIO"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:S.priority}),i.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${S.status==="ABIERTO"?"bg-orange-100 text-orange-800":S.status==="EN_PROCESO"?"bg-blue-100 text-blue-800":S.status==="ESPERANDO_CLIENTE"?"bg-purple-100 text-purple-800":S.status==="RESUELTO"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:S.status.replace(/_/g," ")}),i.jsx("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:S.category})]}),i.jsx("h3",{className:"font-medium text-gray-900 mb-1",children:S.subject}),i.jsx("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:S.description}),i.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[i.jsxs("span",{children:["De: ",S.name]}),i.jsx("span",{children:""}),i.jsx("span",{children:S.email}),i.jsx("span",{children:""}),i.jsx("span",{children:new Date(S.createdAt||0).toLocaleDateString("es-MX",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]}),i.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[i.jsxs(sr,{value:S.status,onValueChange:K=>Qu(S.id,K),children:[i.jsx(Wt,{className:"w-[180px]",children:i.jsx(ir,{})}),i.jsxs(Gt,{children:[i.jsx(fe,{value:"ABIERTO",children:"Abierto"}),i.jsx(fe,{value:"EN_PROCESO",children:"En Proceso"}),i.jsx(fe,{value:"ESPERANDO_CLIENTE",children:"Esperando Cliente"}),i.jsx(fe,{value:"RESUELTO",children:"Resuelto"}),i.jsx(fe,{value:"CERRADO",children:"Cerrado"})]})]}),i.jsx(z,{size:"sm",variant:"outline",onClick:()=>Cm(S),"data-testid":`button-view-ticket-${S.id}`,children:"Ver Detalles"})]})]}),S.adminNotes&&i.jsxs("div",{className:"mt-3 p-3 bg-yellow-50 border border-yellow-200 rounded",children:[i.jsx("p",{className:"text-sm font-medium text-yellow-800",children:"Notas del administrador:"}),i.jsx("p",{className:"text-sm text-yellow-700",children:S.adminNotes})]}),S.resolution&&i.jsxs("div",{className:"mt-3 p-3 bg-green-50 border border-green-200 rounded",children:[i.jsx("p",{className:"text-sm font-medium text-green-800",children:"Resolucin:"}),i.jsx("p",{className:"text-sm text-green-700",children:S.resolution})]})]},S.id))})})]})]})]})]})}),i.jsx($r,{open:o,onOpenChange:l,children:i.jsxs(Er,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[i.jsx(Tr,{children:i.jsx(kr,{children:s?"Editar Producto":"Agregar Producto"})}),i.jsx(nl,{...ue,children:i.jsxs("form",{onSubmit:ue.handleSubmit(Nt,Vt),className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-boom-red",children:"Informacin Bsica"}),i.jsx(je,{control:ue.control,name:"name",render:({field:S})=>i.jsxs(we,{children:[i.jsx(Ne,{children:"Nombre del Producto *"}),i.jsx(Se,{children:i.jsx(pe,{placeholder:"Ej: iPhone 15 Pro Max 256GB",...S,"data-testid":"input-product-name"})}),i.jsx(Pe,{})]})}),i.jsx(je,{control:ue.control,name:"description",render:({field:S})=>i.jsxs(we,{children:[i.jsx(Ne,{children:"Descripcin"}),i.jsx(Se,{children:i.jsx(Yr,{placeholder:"Descripcin detallada del producto...",className:"min-h-[100px]",...S,"data-testid":"textarea-product-description"})}),i.jsx(Pe,{})]})}),i.jsx(je,{control:ue.control,name:"categoryId",render:({field:S})=>i.jsxs(we,{children:[i.jsx(Ne,{children:"Categora"}),i.jsxs(sr,{onValueChange:S.onChange,value:S.value,children:[i.jsx(Se,{children:i.jsx(Wt,{"data-testid":"select-product-category",children:i.jsx(ir,{placeholder:"Seleccionar categora"})})}),i.jsx(Gt,{children:tt.map(K=>i.jsxs(fe,{value:K.id,children:[K.emoji," ",K.name]},K.id))})]}),i.jsx(Pe,{})]})})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-boom-red",children:"Precios y Stock"}),i.jsx(je,{control:ue.control,name:"price",render:({field:S})=>i.jsxs(we,{children:[i.jsx(Ne,{children:"Precio de Venta * (MXN)"}),i.jsx(Se,{children:i.jsx(pe,{type:"number",placeholder:"24999",...S,"data-testid":"input-product-price"})}),i.jsx(Pe,{})]})}),i.jsx(je,{control:ue.control,name:"originalPrice",render:({field:S})=>i.jsxs(we,{children:[i.jsx(Ne,{children:"Precio Original (MXN)"}),i.jsx(Se,{children:i.jsx(pe,{type:"number",placeholder:"29999",...S,"data-testid":"input-product-original-price"})}),i.jsx(Pe,{})]})}),i.jsx(je,{control:ue.control,name:"stock",render:({field:S})=>i.jsxs(we,{children:[i.jsx(Ne,{children:"Stock Disponible"}),i.jsx(Se,{children:i.jsx(pe,{type:"number",placeholder:"50",...S,onChange:K=>S.onChange(parseInt(K.target.value)||0),"data-testid":"input-product-stock"})}),i.jsx(Pe,{})]})}),i.jsx(je,{control:ue.control,name:"promotionType",render:({field:S})=>i.jsxs(we,{children:[i.jsx(Ne,{children:"Tipo de Promocin"}),i.jsxs(sr,{onValueChange:S.onChange,value:S.value,children:[i.jsx(Se,{children:i.jsx(Wt,{"data-testid":"select-promotion-type",children:i.jsx(ir,{placeholder:"Sin promocin"})})}),i.jsxs(Gt,{children:[i.jsx(fe,{value:"none",children:"Sin promocin"}),i.jsx(fe,{value:"BOOM",children:" BOOM"}),i.jsx(fe,{value:"OFERTA",children:" OFERTA"}),i.jsx(fe,{value:"RELAMPAGO",children:" RELMPAGO"}),i.jsx(fe,{value:"NUEVO",children:" NUEVO"})]})]}),i.jsx(Pe,{})]})})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-boom-red",children:"Imagen del Producto"}),i.jsxs("div",{className:"space-y-4",children:[i.jsx(je,{control:ue.control,name:"imageUrl",render:({field:S})=>i.jsxs(we,{children:[i.jsx(Ne,{children:"Imagen del Producto"}),i.jsxs("div",{className:"space-y-3",children:[i.jsx(yp,{maxNumberOfFiles:1,maxFileSize:5242880,onGetUploadParameters:async()=>{const Oe=await(await Be("POST","/api/objects/upload")).json();return console.log("Server response:",Oe),console.log("Upload URL from server:",Oe.uploadURL),{method:"PUT",url:Oe.uploadURL||""}},onComplete:async K=>{var Oe;if(K.successful&&K.successful.length>0){const dt=K.successful[0],Ir=dt.uploadURL||((Oe=dt.meta)==null?void 0:Oe.uploadURL);if(console.log("Image URL received:",Ir),Ir)try{const dr=await(await Be("POST","/api/objects/normalize",{path:Ir})).json();S.onChange(dr.path),W({title:"Imagen subida",description:"La imagen se ha subido correctamente"})}catch(gt){console.error("Error normalizing URL:",gt),W({title:"Error",description:"Error al procesar la imagen",variant:"destructive"})}else console.error("No uploadURL found. Keys:",Object.keys(dt)),W({title:"Error",description:"No se pudo obtener la URL de la imagen",variant:"destructive"})}},onError:K=>{console.error("Upload error:",K),W({title:"Error al subir imagen",description:(K==null?void 0:K.message)||"No se pudo subir la imagen",variant:"destructive"})},buttonClassName:"w-full",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(qf,{className:"h-4 w-4"}),i.jsx("span",{children:"Subir Nueva Imagen"})]})}),i.jsx(Se,{children:i.jsx(pe,{placeholder:"O ingresa URL directamente",...S,"data-testid":"input-product-image-url"})})]}),i.jsx(Pe,{})]})}),ue.watch("imageUrl")&&i.jsx("div",{className:"mt-2",children:i.jsx("img",{src:ue.watch("imageUrl"),alt:"Preview",className:"w-32 h-32 object-cover rounded-lg border",onError:S=>{S.currentTarget.style.display="none"}})})]}),i.jsx("div",{className:"space-y-4",children:i.jsx(je,{control:ue.control,name:"images",render:({field:S})=>i.jsxs(we,{children:[i.jsx(Ne,{children:"Galera de Imgenes Adicionales"}),i.jsx(Hn,{children:"Sube hasta 10 imgenes adicionales para mostrar en la galera del producto"}),i.jsx("div",{className:"space-y-3",children:i.jsx(yp,{maxNumberOfFiles:10,maxFileSize:5242880,onGetUploadParameters:async()=>{const Oe=await(await Be("POST","/api/objects/upload")).json();return console.log("Server response:",Oe),console.log("Upload URL from server:",Oe.uploadURL),{method:"PUT",url:Oe.uploadURL||""}},onComplete:async K=>{if(K.successful&&K.successful.length>0){const Oe=ue.getValues("images")||[],dt=Array.isArray(Oe)?Oe:[];console.log("Current images before upload:",dt);const Ir=K.successful.map(gt=>{var dr;return gt.uploadURL||((dr=gt.meta)==null?void 0:dr.uploadURL)}).filter(gt=>gt);if(Ir.length>0)try{const gt=await Promise.all(Ir.map(async Xu=>(await(await Be("POST","/api/objects/normalize",{path:Xu})).json()).path)),dr=[...dt,...gt];ue.setValue("images",dr),console.log("Gallery images updated:",dr),W({title:"Imgenes subidas",description:`${gt.length} imagen(es) agregada(s). Total: ${dr.length}. PRESIONA "Guardar cambios".`})}catch(gt){console.error("Error normalizing URLs:",gt),W({title:"Error",description:"Error al procesar las imgenes",variant:"destructive"})}else W({title:"Error",description:"No se pudieron obtener las URLs de las imgenes",variant:"destructive"})}},onError:K=>{console.error("Upload error:",K),W({title:"Error al subir imgenes",description:(K==null?void 0:K.message)||"No se pudieron subir las imgenes",variant:"destructive"})},buttonClassName:"w-full",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(qf,{className:"h-4 w-4"}),i.jsx("span",{children:"Agregar Imgenes a la Galera"})]})})}),S.value&&S.value.length>0&&i.jsxs("div",{className:"mt-4",children:[i.jsxs("p",{className:"text-sm font-medium mb-2",children:["Imgenes en la galera (",S.value.filter(K=>K&&K.trim()).length,"):"]}),i.jsx("div",{className:"grid grid-cols-4 gap-2",children:S.value.filter(K=>K&&K.trim()).map((K,Oe)=>i.jsxs("div",{className:"relative group",children:[i.jsx("img",{src:K,alt:`Galera ${Oe+1}`,className:"w-full h-24 object-cover rounded-lg border",onError:dt=>{console.error("Error loading image:",K),dt.currentTarget.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='200' height='200'%3E%3Crect fill='%23f3f4f6' width='200' height='200'/%3E%3Ctext fill='%239ca3af' font-family='sans-serif' font-size='14' x='50%25' y='50%25' text-anchor='middle' dominant-baseline='middle'%3EError%3C/text%3E%3C/svg%3E"}}),i.jsx("button",{type:"button",onClick:()=>{const dt=S.value.filter((Ir,gt)=>S.value.filter(Xu=>Xu&&Xu.trim())[gt]!==K);S.onChange(dt)},className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:i.jsx(Mu,{className:"h-3 w-3"})})]},Oe))})]}),i.jsx(Pe,{})]})})})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-boom-red",children:"Producto Afiliado"}),i.jsx(je,{control:ue.control,name:"isAffiliate",render:({field:S})=>i.jsxs(we,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(Ne,{className:"text-base",children:"Producto Externo"}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Producto vendido en tienda externa (ej: Amazon, MercadoLibre)"})]}),i.jsx(Se,{children:i.jsx(pn,{checked:S.value,onCheckedChange:S.onChange,"data-testid":"switch-is-affiliate"})})]})}),ue.watch("isAffiliate")&&i.jsxs(i.Fragment,{children:[i.jsx(je,{control:ue.control,name:"affiliateUrl",render:({field:S})=>i.jsxs(we,{children:[i.jsx(Ne,{children:"URL de la Tienda Externa"}),i.jsx(Se,{children:i.jsx(pe,{placeholder:"https://amazon.com.mx/producto",...S,"data-testid":"input-affiliate-url"})}),i.jsx(Pe,{})]})}),i.jsx(je,{control:ue.control,name:"affiliateStore",render:({field:S})=>i.jsxs(we,{children:[i.jsx(Ne,{children:"Nombre de la Tienda"}),i.jsx(Se,{children:i.jsx(pe,{placeholder:"Amazon, MercadoLibre, etc.",...S,"data-testid":"input-affiliate-store"})}),i.jsx(Pe,{})]})})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-boom-red",children:"Estado del Producto"}),i.jsx(je,{control:ue.control,name:"isActive",render:({field:S})=>i.jsxs(we,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(Ne,{className:"text-base",children:"Producto Activo"}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"El producto aparecer en la tienda"})]}),i.jsx(Se,{children:i.jsx(pn,{checked:S.value,onCheckedChange:S.onChange,"data-testid":"switch-is-active"})})]})}),i.jsx(je,{control:ue.control,name:"isFeatured",render:({field:S})=>i.jsxs(we,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(Ne,{className:"text-base",children:"Producto Destacado"}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Aparecer en la seccin de destacados"})]}),i.jsx(Se,{children:i.jsx(pn,{checked:S.value,onCheckedChange:S.onChange,"data-testid":"switch-is-featured"})})]})})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-boom-red",children:"Reseas y Calificacin"}),i.jsx(je,{control:ue.control,name:"rating",render:({field:S})=>i.jsxs(we,{children:[i.jsx(Ne,{children:"Calificacin (0-5)"}),i.jsx(Se,{children:i.jsx(pe,{type:"number",step:"0.1",min:"0",max:"5",placeholder:"4.5",...S,"data-testid":"input-product-rating"})}),i.jsx(Pe,{})]})}),i.jsx(je,{control:ue.control,name:"reviewCount",render:({field:S})=>i.jsxs(we,{children:[i.jsx(Ne,{children:"Nmero de Reseas"}),i.jsx(Se,{children:i.jsx(pe,{type:"number",placeholder:"150",...S,onChange:K=>S.onChange(parseInt(K.target.value)||0),"data-testid":"input-review-count"})}),i.jsx(Pe,{})]})})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-boom-red",children:"Envo y Entrega"}),i.jsx(je,{control:ue.control,name:"shippingMethod",render:({field:S})=>i.jsxs(we,{children:[i.jsx(Ne,{children:"Mtodo de Envo"}),i.jsxs(sr,{onValueChange:S.onChange,value:S.value,children:[i.jsx(Se,{children:i.jsx(Wt,{"data-testid":"select-shipping-method",children:i.jsx(ir,{placeholder:"Seleccionar mtodo"})})}),i.jsxs(Gt,{children:[i.jsx(fe,{value:"Envo Estndar",children:" Envo Estndar"}),i.jsx(fe,{value:"Envo Express",children:" Envo Express"}),i.jsx(fe,{value:"Entrega en Tienda",children:" Recoger en Tienda"}),i.jsx(fe,{value:"Envo Gratis",children:" Envo Gratis"}),i.jsx(fe,{value:"Envo Inmediato",children:" Envo Inmediato"})]})]}),i.jsx(Pe,{})]})}),i.jsx(je,{control:ue.control,name:"deliveryTime",render:({field:S})=>i.jsxs(we,{children:[i.jsx(Ne,{children:"Tiempo de Entrega"}),i.jsxs(sr,{onValueChange:S.onChange,value:S.value,children:[i.jsx(Se,{children:i.jsx(Wt,{"data-testid":"select-delivery-time",children:i.jsx(ir,{placeholder:"Seleccionar tiempo"})})}),i.jsxs(Gt,{children:[i.jsx(fe,{value:"1-2 das hbiles",children:" 1-2 das hbiles"}),i.jsx(fe,{value:"3-5 das hbiles",children:" 3-5 das hbiles"}),i.jsx(fe,{value:"5-7 das hbiles",children:" 5-7 das hbiles"}),i.jsx(fe,{value:"7-10 das hbiles",children:" 7-10 das hbiles"}),i.jsx(fe,{value:"Inmediato",children:" Entrega Inmediata"}),i.jsx(fe,{value:"Recoger en tienda",children:" Disponible para recoger"})]})]}),i.jsx(Pe,{})]})}),i.jsx(je,{control:ue.control,name:"freeShipping",render:({field:S})=>i.jsxs(we,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(Ne,{className:"text-base",children:"Envo Gratuito"}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"El producto incluye envo sin costo adicional"})]}),i.jsx(Se,{children:i.jsx(pn,{checked:S.value,onCheckedChange:S.onChange,"data-testid":"switch-free-shipping"})})]})}),!ue.watch("freeShipping")&&i.jsx(je,{control:ue.control,name:"freeShippingMinAmount",render:({field:S})=>i.jsxs(we,{children:[i.jsx(Ne,{children:"Monto Mnimo para Envo Gratis (MXN)"}),i.jsx(Se,{children:i.jsx(pe,{type:"number",placeholder:"999",...S,"data-testid":"input-free-shipping-min"})}),i.jsx(Pe,{})]})})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-boom-red",children:"Productos de Importacin"}),i.jsx(je,{control:ue.control,name:"isImported",render:({field:S})=>i.jsxs(we,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(Ne,{className:"text-base",children:"Producto de Importacin"}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Producto con entrega diferida que requiere importacin"})]}),i.jsx(Se,{children:i.jsx(pn,{checked:S.value,onCheckedChange:S.onChange,"data-testid":"switch-is-imported"})})]})}),ue.watch("isImported")&&i.jsxs(i.Fragment,{children:[i.jsx(je,{control:ue.control,name:"importDeliveryDays",render:({field:S})=>i.jsxs(we,{children:[i.jsx(Ne,{children:"Das de Entrega para Importacin"}),i.jsx(Se,{children:i.jsx(pe,{type:"number",min:"1",max:"90",placeholder:"15",...S,onChange:K=>S.onChange(K.target.value?parseInt(K.target.value):15),"data-testid":"input-import-delivery-days"})}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Nmero de das hbiles para entrega desde la confirmacin del pedido"}),i.jsx(Pe,{})]})}),i.jsx(je,{control:ue.control,name:"importDescription",render:({field:S})=>i.jsxs(we,{children:[i.jsx(Ne,{children:"Descripcin de Importacin"}),i.jsx(Se,{children:i.jsx(pe,{placeholder:"Producto de importacin - Entrega en 15-20 das hbiles",...S,"data-testid":"input-import-description"})}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Mensaje que se mostrar al cliente sobre el tiempo de entrega"}),i.jsx(Pe,{})]})})]})]})]}),i.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t bg-yellow-100 dark:bg-yellow-900/30 p-6 -m-6 mt-6 rounded-b-lg",children:[i.jsx(z,{type:"button",variant:"outline",onClick:()=>l(!1),"data-testid":"button-cancel-product",className:"bg-white dark:bg-gray-800",children:"Cancelar"}),i.jsx(z,{type:"submit",className:"bg-boom-red hover:bg-boom-red/90 text-white font-bold text-lg px-8 py-6 shadow-xl border-4 border-yellow-400 animate-pulse hover:animate-none",disabled:Yt.isPending||Tn.isPending,"data-testid":"button-save-product",children:Yt.isPending||Tn.isPending?" Guardando...":s?" GUARDAR CAMBIOS AHORA":" CREAR PRODUCTO"})]})]})})]})}),i.jsx($r,{open:j,onOpenChange:m,children:i.jsxs(Er,{className:"max-w-md",children:[i.jsx(Tr,{children:i.jsx(kr,{children:f?"Editar Categora":"Agregar Categora"})}),i.jsx(nl,{...Ie,children:i.jsxs("form",{onSubmit:Ie.handleSubmit(Nm),className:"space-y-4",children:[i.jsx(je,{control:Ie.control,name:"name",render:({field:S})=>i.jsxs(we,{children:[i.jsx(Ne,{children:"Nombre de la Categora"}),i.jsx(Se,{children:i.jsx(pe,{placeholder:"ej. Smartphones",...S,"data-testid":"input-category-name"})}),i.jsx(Pe,{})]})}),i.jsx(je,{control:Ie.control,name:"emoji",render:({field:S})=>i.jsxs(we,{children:[i.jsx(Ne,{children:"Emoji"}),i.jsx(Se,{children:i.jsx(pe,{placeholder:"",...S,"data-testid":"input-category-emoji"})}),i.jsx(Pe,{})]})}),i.jsx(je,{control:Ie.control,name:"isActive",render:({field:S})=>i.jsxs(we,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(Ne,{className:"text-base",children:"Activa"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"La categora estar visible en la tienda"})]}),i.jsx(Se,{children:i.jsx(pn,{checked:S.value,onCheckedChange:S.onChange,"data-testid":"switch-category-active"})})]})}),i.jsxs("div",{className:"flex gap-3 pt-4",children:[i.jsx(z,{type:"submit",disabled:on.isPending||pa.isPending,className:"flex-1","data-testid":"button-save-category",children:on.isPending||pa.isPending?i.jsxs(i.Fragment,{children:[i.jsx(wk,{className:"w-4 h-4 mr-2 animate-spin"}),"Guardando..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Bf,{className:"w-4 h-4 mr-2"}),f?"Actualizar":"Crear"]})}),i.jsx(z,{type:"button",variant:"outline",onClick:()=>m(!1),"data-testid":"button-cancel-category",children:"Cancelar"})]})]})})]})}),i.jsx($r,{open:u,onOpenChange:h,children:i.jsxs(Er,{className:"max-w-5xl max-h-[90vh] overflow-y-auto",children:[i.jsx(Tr,{children:i.jsxs(kr,{className:"flex items-center gap-2",children:[i.jsx(Zr,{className:"w-5 h-5 text-boom-red"}),"Detalles del Pedido #",c==null?void 0:c.orderNumber]})}),c&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsx(te,{children:i.jsx(ie,{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"bg-blue-100 p-2 rounded-full",children:i.jsx(i6,{className:"w-4 h-4 text-blue-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Nmero de Pedido"}),i.jsx("p",{className:"font-semibold",children:c.orderNumber})]})]})})}),i.jsx(te,{children:i.jsx(ie,{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"bg-green-100 p-2 rounded-full",children:i.jsx(Xo,{className:"w-4 h-4 text-green-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Total"}),i.jsx("p",{className:"font-semibold text-lg",children:ee(c.totalAmount)})]})]})})}),i.jsx(te,{children:i.jsx(ie,{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"bg-purple-100 p-2 rounded-full",children:i.jsx(mk,{className:"w-4 h-4 text-purple-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Fecha"}),i.jsx("p",{className:"font-semibold",children:c.createdAt?new Date(c.createdAt).toLocaleDateString("es-MX"):"N/A"})]})]})})})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(te,{children:[i.jsx(He,{children:i.jsxs(We,{className:"flex items-center gap-2",children:[i.jsx(Pc,{className:"w-5 h-5"}),"Informacin del Cliente"]})}),i.jsxs(ie,{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"bg-gray-100 p-2 rounded-full",children:i.jsx(Pc,{className:"w-4 h-4 text-gray-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Nombre Completo"}),i.jsx("p",{className:"font-semibold",children:c.user.fullName})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"bg-gray-100 p-2 rounded-full",children:i.jsx(Cs,{className:"w-4 h-4 text-gray-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Email"}),i.jsx("p",{className:"font-semibold",children:c.user.email})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"bg-gray-100 p-2 rounded-full",children:i.jsx(Pc,{className:"w-4 h-4 text-gray-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Usuario"}),i.jsxs("p",{className:"font-semibold",children:["@",c.user.username]})]})]}),c.shippingAddress&&i.jsx("div",{className:"border-t pt-4",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"bg-gray-100 p-2 rounded-full",children:i.jsx(Gl,{className:"w-4 h-4 text-gray-600"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Direccin de Envo"}),i.jsxs("div",{className:"font-semibold",children:[i.jsx("p",{children:c.shippingAddress.title}),i.jsx("p",{children:c.shippingAddress.street}),i.jsxs("p",{children:[c.shippingAddress.city,", ",c.shippingAddress.state]}),i.jsxs("p",{children:["CP: ",c.shippingAddress.postalCode]}),i.jsx("p",{children:c.shippingAddress.country})]})]})]})})]})]}),i.jsxs(te,{children:[i.jsx(He,{children:i.jsxs(We,{className:"flex items-center gap-2",children:[i.jsx(og,{className:"w-5 h-5"}),"Producto"]})}),i.jsx(ie,{children:i.jsxs("div",{className:"flex gap-4",children:[i.jsx("img",{src:c.product.imageUrl||"/placeholder.jpg",alt:c.product.name,className:"w-20 h-20 object-cover rounded-lg"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-semibold text-lg",children:c.product.name}),i.jsx("p",{className:"text-gray-600 text-sm mb-2",children:c.product.description}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-600",children:"Cantidad"}),i.jsx("p",{className:"font-semibold",children:c.quantity||1})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-600",children:"Precio Unitario"}),i.jsx("p",{className:"font-semibold",children:ee(c.product.price)})]})]}),c.product.isAffiliate&&i.jsx("div",{className:"mt-3 p-2 bg-blue-50 rounded-md",children:i.jsxs("p",{className:"text-xs text-blue-600 font-medium",children:["Producto Externo - ",c.product.affiliateStore]})})]})]})})]})]}),i.jsxs(te,{children:[i.jsx(He,{children:i.jsxs(We,{className:"flex items-center gap-2",children:[i.jsx(mn,{className:"w-5 h-5"}),"Estado del Pedido y Lnea del Tiempo"]})}),i.jsxs(ie,{children:[i.jsx("div",{className:"space-y-4",children:_m(c).map((S,K)=>i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full border-2 ${S.completed?"bg-green-100 border-green-500 text-green-700":S.current?"bg-blue-100 border-blue-500 text-blue-700":"bg-gray-100 border-gray-300 text-gray-500"}`,children:S.icon}),i.jsx("div",{className:"flex-1",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:`font-semibold ${S.completed?"text-green-700":S.current?"text-blue-700":"text-gray-500"}`,children:S.label}),S.timestamp&&i.jsx("p",{className:"text-sm text-gray-600",children:new Date(S.timestamp).toLocaleString("es-MX")})]}),S.current&&i.jsx(_e,{className:de(c.status),children:S.label})]})}),K<_m(c).length-1&&i.jsx("div",{className:`absolute left-5 top-10 w-0.5 h-8 ${S.completed?"bg-green-500":"bg-gray-300"}`,style:{marginLeft:"1.25rem"}})]},S.status))}),i.jsx("div",{className:"mt-6 pt-4 border-t",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(Fe,{className:"font-semibold",children:"Actualizar Estado:"}),i.jsxs(sr,{value:c.status,onValueChange:S=>{Bt.mutate({orderId:c.id,status:S}),d(K=>K?{...K,status:S}:null)},children:[i.jsx(Wt,{className:"w-40",children:i.jsx(ir,{})}),i.jsxs(Gt,{children:[i.jsx(fe,{value:"PAGADO",children:" Pago Confirmado"}),i.jsx(fe,{value:"EN_PREPARACION",children:" Preparando Pedido"}),i.jsx(fe,{value:"RECOGIDO",children:" Recogido por Paquetera"}),i.jsx(fe,{value:"ENVIADO",children:" Enviado"}),i.jsx(fe,{value:"EN_RUTA",children:" En Ruta de Entrega"}),i.jsx(fe,{value:"ENTREGADO",children:" Entregado"})]})]}),i.jsx(pe,{placeholder:"Nmero de seguimiento",value:c.trackingNumber||"",onChange:S=>{d(K=>K?{...K,trackingNumber:S.target.value}:null)},className:"w-48","data-testid":"input-tracking-number"}),i.jsx(pe,{placeholder:"Servicio de paquetera",value:c.courierService||"",onChange:S=>{d(K=>K?{...K,courierService:S.target.value}:null)},className:"w-40","data-testid":"input-courier-service"})]})})]})]}),i.jsx("div",{className:"flex justify-end pt-4 border-t",children:i.jsx(z,{variant:"outline",onClick:()=>h(!1),"data-testid":"button-close-order-details",children:"Cerrar"})})]})]})}),i.jsx($r,{open:y,onOpenChange:x,children:i.jsxs(Er,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[i.jsx(Tr,{children:i.jsxs(kr,{className:"flex items-center gap-2",children:[i.jsx(gn,{className:"h-5 w-5"}),"Ticket #",v==null?void 0:v.ticketNumber," - ",v==null?void 0:v.subject]})}),v&&i.jsxs("div",{className:"space-y-6",children:[i.jsx(te,{children:i.jsxs(ie,{className:"p-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Cliente"}),i.jsx("p",{className:"font-semibold",children:v.name}),i.jsx("p",{className:"text-sm text-gray-500",children:v.email})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Estado"}),i.jsx(_e,{className:v.status==="ABIERTO"?"bg-blue-100 text-blue-800":v.status==="EN_PROCESO"?"bg-yellow-100 text-yellow-800":v.status==="ESPERANDO_CLIENTE"?"bg-orange-100 text-orange-800":v.status==="RESUELTO"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800",children:v.status})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Categora"}),i.jsx("p",{className:"font-semibold",children:v.category==="PEDIDO"?" Pedido":v.category==="PAGO"?" Pago":v.category==="TECNICO"?" Tcnico":v.category==="DEVOLUCION"?" Devolucin":" Otro"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Prioridad"}),i.jsx(_e,{className:v.priority==="URGENTE"?"bg-red-100 text-red-800":v.priority==="ALTO"?"bg-orange-100 text-orange-800":v.priority==="MEDIO"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800",children:v.priority})]})]}),i.jsxs("div",{className:"mt-4",children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Descripcin original"}),i.jsx("p",{className:"mt-1 p-3 bg-gray-50 rounded-md",children:v.description})]}),v.orderId&&i.jsx("div",{className:"mt-3 p-2 bg-blue-50 rounded-md",children:i.jsxs("p",{className:"text-sm font-medium text-blue-800",children:["Relacionado con pedido: ",v.orderId]})})]})}),i.jsxs(te,{children:[i.jsx(He,{children:i.jsx(We,{children:"Conversacin"})}),i.jsxs(ie,{children:[i.jsx("div",{className:"space-y-4 max-h-60 overflow-y-auto",children:Ke!=null&&Ke.messages&&Ke.messages.length>0?Ke.messages.sort((S,K)=>new Date(S.createdAt||0).getTime()-new Date(K.createdAt||0).getTime()).map(S=>i.jsxs("div",{className:`p-4 rounded-lg ${S.senderType==="ADMIN"?"bg-blue-50 ml-8":"bg-gray-50 mr-8"}`,children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${S.senderType==="ADMIN"?"bg-blue-600":"bg-gray-600"}`,children:S.senderType==="ADMIN"?"A":"C"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-sm",children:S.senderName}),i.jsx("p",{className:"text-xs text-gray-500",children:S.senderEmail})]})]}),i.jsx("p",{className:"text-xs text-gray-500",children:S.createdAt?new Date(S.createdAt).toLocaleString("es-MX"):""})]}),i.jsx("p",{className:"text-gray-800",children:S.message})]},S.id)):i.jsx("p",{className:"text-gray-500 text-center py-4",children:"No hay mensajes adicionales en este ticket."})}),i.jsxs("div",{className:"mt-6 space-y-3",children:[i.jsx(Fe,{htmlFor:"response",children:"Responder al cliente"}),i.jsx(Yr,{id:"response",value:b,onChange:S=>E(S.target.value),placeholder:"Escribe tu respuesta al cliente...",rows:3,"data-testid":"textarea-ticket-response"}),i.jsx(z,{onClick:dI,disabled:!b.trim()||vo.isPending,className:"bg-blue-600 hover:bg-blue-700","data-testid":"button-send-response",children:vo.isPending?"Enviando...":"Enviar Respuesta"})]})]})]}),i.jsxs(te,{children:[i.jsx(He,{children:i.jsx(We,{children:"Gestin del Ticket"})}),i.jsxs(ie,{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Fe,{htmlFor:"status",children:"Estado del Ticket"}),i.jsxs(sr,{value:v.status,onValueChange:S=>{xo.mutate({ticketId:v.id,status:S}),w({...v,status:S})},children:[i.jsx(Wt,{children:i.jsx(ir,{})}),i.jsxs(Gt,{children:[i.jsx(fe,{value:"ABIERTO",children:"Abierto"}),i.jsx(fe,{value:"EN_PROCESO",children:"En Proceso"}),i.jsx(fe,{value:"ESPERANDO_CLIENTE",children:"Esperando Cliente"}),i.jsx(fe,{value:"RESUELTO",children:"Resuelto"}),i.jsx(fe,{value:"CERRADO",children:"Cerrado"})]})]})]}),i.jsxs("div",{children:[i.jsx(Fe,{htmlFor:"adminNotes",children:"Notas Administrativas (internas)"}),i.jsx(Yr,{id:"adminNotes",value:k,onChange:S=>T(S.target.value),placeholder:"Notas internas sobre este ticket...",rows:2,"data-testid":"textarea-admin-notes"})]}),i.jsxs("div",{children:[i.jsx(Fe,{htmlFor:"resolution",children:"Resolucin Final"}),i.jsx(Yr,{id:"resolution",value:A,onChange:S=>O(S.target.value),placeholder:"Describe cmo se resolvi este ticket...",rows:2,"data-testid":"textarea-resolution"})]}),i.jsxs(z,{onClick:cI,disabled:xo.isPending,className:"bg-green-600 hover:bg-green-700","data-testid":"button-save-ticket-notes",children:[i.jsx(Bf,{className:"h-4 w-4 mr-2"}),xo.isPending?"Guardando...":"Guardar Cambios"]})]})]})]})]})}),i.jsx($r,{open:L,onOpenChange:R,children:i.jsxs(Er,{className:"max-w-md",children:[i.jsx(Tr,{children:i.jsx(kr,{children:"Cambiar Contrasea de Usuario"})}),M&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"bg-blue-50 p-4 rounded-md",children:[i.jsxs("p",{className:"text-sm text-gray-700",children:[i.jsx("strong",{children:"Usuario:"})," ",M.fullName]}),i.jsxs("p",{className:"text-sm text-gray-700",children:[i.jsx("strong",{children:"Email:"})," ",M.email]})]}),i.jsx(nl,{...qe,children:i.jsxs("form",{onSubmit:qe.handleSubmit(hI),className:"space-y-4",children:[i.jsx(je,{control:qe.control,name:"password",render:({field:S})=>i.jsxs(we,{children:[i.jsx(Ne,{children:"Nueva Contrasea"}),i.jsx(Se,{children:i.jsx(pe,{type:"password",placeholder:"Ingresa la nueva contrasea",...S,"data-testid":"input-new-password"})}),i.jsx(Pe,{})]})}),i.jsx(je,{control:qe.control,name:"confirmPassword",render:({field:S})=>i.jsxs(we,{children:[i.jsx(Ne,{children:"Confirmar Contrasea"}),i.jsx(Se,{children:i.jsx(pe,{type:"password",placeholder:"Confirma la nueva contrasea",...S,"data-testid":"input-confirm-password"})}),i.jsx(Pe,{})]})}),i.jsx("div",{className:"bg-yellow-50 p-3 rounded-md",children:i.jsxs("p",{className:"text-sm text-yellow-800",children:[" ",i.jsx("strong",{children:"Nota de seguridad:"})," El usuario deber usar esta nueva contrasea para iniciar sesin."]})}),i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx(z,{type:"button",variant:"outline",onClick:()=>R(!1),"data-testid":"button-cancel-password-change",children:"Cancelar"}),i.jsx(z,{type:"submit",disabled:P.isPending,className:"bg-blue-600 hover:bg-blue-700","data-testid":"button-submit-password-change",children:P.isPending?"Cambiando...":"Cambiar Contrasea"})]})]})})]})]})}),i.jsx($r,{open:J,onOpenChange:ce,children:i.jsxs(Er,{className:"max-w-md",children:[i.jsx(Tr,{children:i.jsx(kr,{children:"Bloquear Usuario"})}),I&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"bg-red-50 p-4 rounded-md",children:[i.jsxs("p",{className:"text-sm text-gray-700",children:[i.jsx("strong",{children:"Usuario:"})," ",I.fullName]}),i.jsxs("p",{className:"text-sm text-gray-700",children:[i.jsx("strong",{children:"Email:"})," ",I.email]})]}),i.jsxs("div",{children:[i.jsx(Fe,{htmlFor:"blockReason",children:"Motivo del Bloqueo"}),i.jsx(Yr,{id:"blockReason",value:F,onChange:S=>$(S.target.value),placeholder:"Describe el motivo del bloqueo (ej: comportamiento inapropiado, lenguaje ofensivo, etc.)",rows:4,"data-testid":"textarea-block-reason"})]}),i.jsx("div",{className:"bg-yellow-50 p-3 rounded-md",children:i.jsxs("p",{className:"text-sm text-yellow-800",children:[" ",i.jsx("strong",{children:"Advertencia:"})," El usuario no podr iniciar sesin hasta que sea desbloqueado."]})}),i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx(z,{type:"button",variant:"outline",onClick:()=>ce(!1),"data-testid":"button-cancel-block",children:"Cancelar"}),i.jsx(z,{onClick:pI,disabled:D.isPending||!F.trim(),className:"bg-red-600 hover:bg-red-700","data-testid":"button-submit-block",children:D.isPending?"Bloqueando...":"Bloquear Usuario"})]})]})]})}),i.jsx(yc,{})]})}const MZ=V.object({name:V.string().min(1,"El nombre es requerido"),email:V.string().email("Email invlido"),subject:V.string().min(1,"El asunto es requerido"),description:V.string().min(10,"La descripcin debe tener al menos 10 caracteres"),category:V.enum(["PEDIDO","PAGO","TECNICO","DEVOLUCION","OTRO"]),priority:V.enum(["BAJO","MEDIO","ALTO","URGENTE"]).optional(),orderId:V.string().optional()});function DZ(){const{user:t}=Cn(),{toast:e}=cr(),r=ls(),[n,s]=p.useState(!1),[a,o]=p.useState(null),[l,c]=p.useState(""),d=Ts({resolver:ks(MZ),defaultValues:{name:(t==null?void 0:t.fullName)||"",email:(t==null?void 0:t.email)||"",subject:"",description:"",category:"OTRO",priority:"MEDIO",orderId:""}}),{data:u=[],isLoading:h}=nt({queryKey:["/api/support/tickets"],enabled:!!t}),{data:f}=nt({queryKey:["/api/support/tickets",a],enabled:!!a}),g=rt({mutationFn:b=>Be("POST","/api/support/tickets",b),onSuccess:()=>{e({title:"Ticket Creado!",description:"Tu solicitud de soporte ha sido enviada. Te contactaremos pronto."}),d.reset(),s(!1),r.invalidateQueries({queryKey:["/api/support/tickets"]})},onError:()=>{e({title:"Error",description:"No se pudo crear el ticket. Intntalo de nuevo.",variant:"destructive"})}}),j=b=>{g.mutate(b)},m=rt({mutationFn:({ticketId:b,message:E})=>Be("POST",`/api/support/tickets/${b}/messages`,{message:E,senderType:"CLIENTE",senderName:(t==null?void 0:t.fullName)||(t==null?void 0:t.username)||"Usuario",senderEmail:(t==null?void 0:t.email)||""}),onSuccess:()=>{e({title:"Mensaje Enviado",description:"Tu respuesta ha sido enviada al equipo de soporte."}),c(""),r.invalidateQueries({queryKey:["/api/support/tickets",a]}),r.invalidateQueries({queryKey:["/api/support/tickets"]})},onError:()=>{e({title:"Error",description:"No se pudo enviar el mensaje. Intntalo de nuevo.",variant:"destructive"})}}),v=()=>{!a||!l.trim()||m.mutate({ticketId:a,message:l})},w=b=>({ABIERTO:"bg-blue-100 text-blue-800",EN_PROCESO:"bg-yellow-100 text-yellow-800",ESPERANDO_CLIENTE:"bg-orange-100 text-orange-800",RESUELTO:"bg-green-100 text-green-800",CERRADO:"bg-gray-100 text-gray-800"})[b]||"bg-gray-100 text-gray-800",y=b=>({BAJO:"bg-green-100 text-green-800",MEDIO:"bg-blue-100 text-blue-800",ALTO:"bg-orange-100 text-orange-800",URGENTE:"bg-red-100 text-red-800"})[b]||"bg-gray-100 text-gray-800",x=b=>({PEDIDO:" Problema con Pedido",PAGO:" Problema de Pago",TECNICO:" Problema Tcnico",DEVOLUCION:" Devolucin",OTRO:" Otro"})[b]||b;return t?i.jsx("div",{className:"container mx-auto px-4 py-8",children:i.jsxs("div",{className:"max-w-6xl mx-auto",children:[i.jsx("div",{className:"mb-6",children:i.jsx(z,{asChild:!0,variant:"ghost",className:"mb-4","data-testid":"button-back-to-dashboard",children:i.jsxs(Lf,{href:"/dashboard",children:[i.jsx(Hl,{className:"w-4 h-4 mr-2"}),"Volver al Dashboard"]})})}),i.jsxs("div",{className:"flex justify-between items-center mb-8",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Centro de Soporte"}),i.jsx("p",{className:"text-gray-600 mt-2",children:"Gestiona tus solicitudes de ayuda y encuentra soluciones a tus problemas"})]}),i.jsxs(z,{onClick:()=>s(!n),className:"bg-boom-red hover:bg-red-700","data-testid":"button-create-ticket",children:[i.jsx(jn,{className:"w-4 h-4 mr-2"}),"Nuevo Ticket"]})]}),n&&i.jsxs(te,{className:"mb-8",children:[i.jsx(He,{children:i.jsx(We,{children:"Crear Nuevo Ticket de Soporte"})}),i.jsx(ie,{children:i.jsx(nl,{...d,children:i.jsxs("form",{onSubmit:d.handleSubmit(j),className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx(je,{control:d.control,name:"name",render:({field:b})=>i.jsxs(we,{children:[i.jsx(Ne,{children:"Nombre Completo"}),i.jsx(Se,{children:i.jsx(pe,{...b,"data-testid":"input-ticket-name"})}),i.jsx(Pe,{})]})}),i.jsx(je,{control:d.control,name:"email",render:({field:b})=>i.jsxs(we,{children:[i.jsx(Ne,{children:"Email"}),i.jsx(Se,{children:i.jsx(pe,{type:"email",...b,"data-testid":"input-ticket-email"})}),i.jsx(Pe,{})]})})]}),i.jsx(je,{control:d.control,name:"subject",render:({field:b})=>i.jsxs(we,{children:[i.jsx(Ne,{children:"Asunto"}),i.jsx(Se,{children:i.jsx(pe,{placeholder:"Describe brevemente tu problema...",...b,"data-testid":"input-ticket-subject"})}),i.jsx(Pe,{})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsx(je,{control:d.control,name:"category",render:({field:b})=>i.jsxs(we,{children:[i.jsx(Ne,{children:"Categora"}),i.jsxs(sr,{onValueChange:b.onChange,value:b.value||"OTRO",defaultValue:"OTRO",children:[i.jsx(Se,{children:i.jsx(Wt,{"data-testid":"select-ticket-category",children:i.jsx(ir,{placeholder:"Selecciona una categora"})})}),i.jsxs(Gt,{position:"popper",side:"bottom",align:"start",children:[i.jsx(fe,{value:"PEDIDO",children:" Problema con Pedido"}),i.jsx(fe,{value:"PAGO",children:" Problema de Pago"}),i.jsx(fe,{value:"TECNICO",children:" Problema Tcnico"}),i.jsx(fe,{value:"DEVOLUCION",children:" Devolucin"}),i.jsx(fe,{value:"OTRO",children:" Otro"})]})]}),i.jsx(Pe,{})]})}),i.jsx(je,{control:d.control,name:"priority",render:({field:b})=>i.jsxs(we,{children:[i.jsx(Ne,{children:"Prioridad"}),i.jsxs(sr,{onValueChange:b.onChange,value:b.value||"MEDIO",defaultValue:"MEDIO",children:[i.jsx(Se,{children:i.jsx(Wt,{"data-testid":"select-ticket-priority",children:i.jsx(ir,{placeholder:"Selecciona una prioridad"})})}),i.jsxs(Gt,{position:"popper",side:"bottom",align:"start",children:[i.jsx(fe,{value:"BAJO",children:" Baja"}),i.jsx(fe,{value:"MEDIO",children:" Media"}),i.jsx(fe,{value:"ALTO",children:" Alta"}),i.jsx(fe,{value:"URGENTE",children:" Urgente"})]})]}),i.jsx(Pe,{})]})}),i.jsx(je,{control:d.control,name:"orderId",render:({field:b})=>i.jsxs(we,{children:[i.jsx(Ne,{children:"ID del Pedido (Opcional)"}),i.jsx(Se,{children:i.jsx(pe,{placeholder:"BB-2024-001",...b,"data-testid":"input-ticket-order-id"})}),i.jsx(Pe,{})]})})]}),i.jsx(je,{control:d.control,name:"description",render:({field:b})=>i.jsxs(we,{children:[i.jsx(Ne,{children:"Descripcin Detallada"}),i.jsx(Se,{children:i.jsx(Yr,{rows:5,placeholder:"Explica tu problema con el mayor detalle posible...",...b,"data-testid":"textarea-ticket-description"})}),i.jsx(Pe,{})]})}),i.jsxs("div",{className:"flex justify-end space-x-4",children:[i.jsx(z,{type:"button",variant:"outline",onClick:()=>s(!1),"data-testid":"button-cancel-ticket",children:"Cancelar"}),i.jsx(z,{type:"submit",disabled:g.isPending,className:"bg-boom-red hover:bg-red-700","data-testid":"button-submit-ticket",children:g.isPending?"Creando...":"Crear Ticket"})]})]})})})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"Mis Tickets"}),h?i.jsx(te,{children:i.jsxs(ie,{className:"py-8 text-center",children:[i.jsx("div",{className:"animate-spin h-6 w-6 border-2 border-boom-red border-t-transparent rounded-full mx-auto"}),i.jsx("p",{className:"mt-2 text-gray-600",children:"Cargando tickets..."})]})}):u.length===0?i.jsx(te,{children:i.jsxs(ie,{className:"py-8 text-center",children:[i.jsx(gn,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No tienes tickets"}),i.jsx("p",{className:"text-gray-600 mb-4",children:"Cuando necesites ayuda, crea un ticket y nuestro equipo te asistir."}),i.jsx(z,{onClick:()=>s(!0),className:"bg-boom-red hover:bg-red-700",children:"Crear mi primer ticket"})]})}):i.jsx("div",{className:"grid gap-4",children:u.map(b=>i.jsx(te,{className:"hover:shadow-md transition-shadow",children:i.jsxs(ie,{className:"p-6",children:[i.jsxs("div",{className:"flex items-start justify-between mb-4",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("h3",{className:"font-semibold text-lg text-gray-900",children:b.subject}),i.jsxs(_e,{variant:"outline",className:"text-xs",children:["#",b.ticketNumber]})]}),i.jsx("p",{className:"text-gray-600 mb-3 line-clamp-2",children:b.description}),i.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Ql,{className:"w-4 h-4"}),b.name]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(mk,{className:"w-4 h-4"}),b.createdAt?new Date(b.createdAt).toLocaleDateString("es-ES"):"Fecha no disponible"]})]})]}),i.jsxs("div",{className:"flex flex-col items-end gap-2",children:[i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(_e,{className:w(b.status),children:[b.status==="ABIERTO"&&i.jsx(mn,{className:"w-3 h-3 mr-1"}),b.status==="RESUELTO"&&i.jsx(ni,{className:"w-3 h-3 mr-1"}),b.status==="EN_PROCESO"&&i.jsx(Wl,{className:"w-3 h-3 mr-1"}),b.status]}),i.jsx(_e,{className:y(b.priority),children:b.priority})]}),i.jsx("div",{className:"text-xs text-gray-500",children:x(b.category)})]})]}),b.orderId&&i.jsx("div",{className:"bg-gray-50 rounded-lg p-3 mb-3",children:i.jsxs("p",{className:"text-sm text-gray-600",children:[i.jsx("strong",{children:"Pedido relacionado:"})," ",b.orderId]})}),b.resolution&&i.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:i.jsxs("p",{className:"text-sm text-green-800",children:[i.jsx("strong",{children:"Resolucin:"})," ",b.resolution]})}),i.jsx("div",{className:"mt-4 flex justify-end",children:i.jsxs(z,{onClick:()=>o(b.id),variant:"outline",size:"sm","data-testid":`button-view-ticket-${b.id}`,children:[i.jsx(gn,{className:"w-4 h-4 mr-2"}),"Ver Mensajes"]})})]})},b.id))})]}),i.jsx($r,{open:!!a,onOpenChange:b=>!b&&o(null),children:i.jsxs(Er,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[i.jsxs(Tr,{children:[i.jsx(kr,{children:f==null?void 0:f.subject}),i.jsxs(yo,{children:["Ticket #",f==null?void 0:f.ticketNumber," - ",f==null?void 0:f.status]})]}),f&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[i.jsx("p",{className:"text-sm text-gray-600 mb-2",children:i.jsx("strong",{children:"Descripcin Original:"})}),i.jsx("p",{className:"text-sm text-gray-800",children:f.description})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("h3",{className:"font-semibold text-gray-900",children:"Conversacin"}),f.messages&&f.messages.length>0?f.messages.map(b=>i.jsxs("div",{className:`rounded-lg p-4 ${b.senderType==="ADMIN"?"bg-blue-50 border border-blue-200":"bg-gray-50 border border-gray-200"}`,children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ql,{className:"w-4 h-4"}),i.jsx("span",{className:"font-semibold text-sm",children:b.senderName}),i.jsx(_e,{variant:"outline",className:"text-xs",children:b.senderType==="ADMIN"?"Soporte":"T"})]}),i.jsx("span",{className:"text-xs text-gray-500",children:b.createdAt?new Date(b.createdAt).toLocaleString("es-ES"):""})]}),i.jsx("p",{className:"text-sm text-gray-800",children:b.message})]},b.id)):i.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No hay mensajes an"})]}),f.status!=="CERRADO"&&f.status!=="RESUELTO"&&i.jsxs("div",{className:"border-t pt-4",children:[i.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Enviar Respuesta"}),i.jsx("div",{className:"flex gap-2",children:i.jsx(Yr,{value:l,onChange:b=>c(b.target.value),placeholder:"Escribe tu mensaje...",rows:3,"data-testid":"textarea-reply-message"})}),i.jsx("div",{className:"flex justify-end mt-2",children:i.jsx(z,{onClick:v,disabled:!l.trim()||m.isPending,className:"bg-boom-red hover:bg-red-700","data-testid":"button-send-reply",children:m.isPending?i.jsx(i.Fragment,{children:"Enviando..."}):i.jsxs(i.Fragment,{children:[i.jsx(m6,{className:"w-4 h-4 mr-2"}),"Enviar"]})})})]}),(f.status==="CERRADO"||f.status==="RESUELTO")&&i.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:i.jsxs("p",{className:"text-sm text-green-800",children:["Este ticket est ",f.status==="CERRADO"?"cerrado":"resuelto",".",f.resolution&&i.jsxs(i.Fragment,{children:[i.jsx("br",{}),i.jsx("strong",{children:"Resolucin:"})," ",f.resolution]})]})})]})]})})]})}):i.jsx("div",{className:"container mx-auto px-4 py-8",children:i.jsxs(te,{className:"max-w-2xl mx-auto",children:[i.jsx(He,{children:i.jsx(We,{className:"text-center",children:"Centro de Soporte"})}),i.jsxs(ie,{className:"text-center",children:[i.jsx("p",{className:"text-gray-600 mb-4",children:"Para crear un ticket de soporte, necesitas iniciar sesin."}),i.jsx(z,{onClick:()=>window.location.href="/auth",children:"Iniciar Sesin"})]})]})})}function LZ(){const[,t]=os();return p.useEffect(()=>{const e=setTimeout(()=>{t("/user-dashboard")},3e3);return()=>clearTimeout(e)},[t]),i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsx(Zi,{}),i.jsx("main",{className:"container mx-auto px-4 py-8",children:i.jsx("div",{className:"max-w-md mx-auto",children:i.jsxs(te,{className:"text-center",children:[i.jsxs(He,{className:"pb-4",children:[i.jsx("div",{className:"mx-auto w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-4",children:i.jsx(ni,{className:"w-8 h-8 text-green-600"})}),i.jsx(We,{className:"text-2xl text-green-600",children:"Pago Exitoso!"})]}),i.jsxs(ie,{className:"space-y-4",children:[i.jsx("p",{className:"text-gray-600",children:"Tu pago ha sido procesado correctamente."}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-gray-500",children:[i.jsx(Zr,{className:"w-4 h-4"}),i.jsx("span",{children:"Tu pedido est siendo preparado"})]}),i.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-gray-500",children:[i.jsx(p6,{className:"w-4 h-4"}),i.jsx("span",{children:"Recibirs un correo de confirmacin"})]})]}),i.jsx("div",{className:"pt-4",children:i.jsx(z,{onClick:()=>t("/user-dashboard"),className:"w-full bg-boom-red hover:bg-boom-red/90","data-testid":"button-go-dashboard",children:"Ver Mis Pedidos"})}),i.jsx("p",{className:"text-xs text-gray-400",children:"Sers redirigido automticamente en unos segundos..."})]})]})})}),i.jsx(yc,{})]})}function $Z(){const[,t]=os();return i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsx(Zi,{}),i.jsx("main",{className:"container mx-auto px-4 py-8",children:i.jsx("div",{className:"max-w-md mx-auto",children:i.jsxs(te,{className:"text-center",children:[i.jsxs(He,{className:"pb-4",children:[i.jsx("div",{className:"mx-auto w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mb-4",children:i.jsx(zf,{className:"w-8 h-8 text-red-600"})}),i.jsx(We,{className:"text-2xl text-red-600",children:"Error en el Pago"})]}),i.jsxs(ie,{className:"space-y-4",children:[i.jsx("p",{className:"text-gray-600",children:"Hubo un problema al procesar tu pago. Por favor, intntalo de nuevo."}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-gray-500",children:[i.jsx(wk,{className:"w-4 h-4"}),i.jsx("span",{children:"Puedes intentar nuevamente"})]}),i.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-gray-500",children:[i.jsx(r6,{className:"w-4 h-4"}),i.jsx("span",{children:"Contacta soporte si el problema persiste"})]})]}),i.jsxs("div",{className:"pt-4 space-y-2",children:[i.jsx(z,{onClick:()=>t("/"),className:"w-full bg-boom-red hover:bg-boom-red/90","data-testid":"button-try-again",children:"Intentar de Nuevo"}),i.jsx(z,{onClick:()=>t("/support"),variant:"outline",className:"w-full","data-testid":"button-contact-support",children:"Contactar Soporte"})]})]})]})})}),i.jsx(yc,{})]})}function UZ(){Cn(),po();const{data:t=[],isLoading:e}=nt({queryKey:["/api/products"]}),{data:r=[],isLoading:n}=nt({queryKey:["/api/special-offers"]}),s=r.filter(o=>o.isActive),a=t.filter(o=>o.promotionType==="OFERTA"||o.promotionType==="BOOM");return e||n?i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-boom-red mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"Cargando ofertas especiales..."})]})}):i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsx("div",{className:"bg-white shadow-sm border-b",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx(Lf,{href:"/",children:i.jsxs(z,{variant:"ghost",className:"flex items-center space-x-2",children:[i.jsx(Hl,{className:"h-4 w-4"}),i.jsx("span",{children:"Volver al inicio"})]})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Ofertas Especiales"}),i.jsx("p",{className:"text-gray-600",children:"Los mejores descuentos y promociones"})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(dd,{className:"h-5 w-5 text-boom-red"}),i.jsxs("span",{className:"text-boom-red font-semibold",children:[s.length+a.length," ofertas activas"]})]})]})})}),i.jsx("div",{className:"bg-gradient-to-r from-boom-red to-boom-light-red text-white py-8",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[i.jsx("h2",{className:"text-3xl md:text-4xl font-black mb-4",children:"OFERTAS BOOM!"}),i.jsx("p",{className:"text-lg md:text-xl mb-6",children:"Descuentos increbles por tiempo limitado"}),i.jsxs("div",{className:"flex items-center justify-center space-x-6 text-sm md:text-base",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(mn,{className:"h-5 w-5"}),i.jsx("span",{children:"Ofertas limitadas"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(g6,{className:"h-5 w-5"}),i.jsx("span",{children:"Productos de calidad"})]})]})]})}),i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.length>0&&i.jsxs("section",{className:"mb-12",children:[i.jsxs("h3",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center",children:[i.jsx(dd,{className:"h-6 w-6 mr-2 text-boom-red"}),"Ofertas Especiales"]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(o=>i.jsx(te,{className:"overflow-hidden hover:shadow-lg transition-shadow",children:i.jsxs(ie,{className:"p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx(_e,{variant:"destructive",className:"bg-boom-red",children:o.discountPercentage?`${o.discountPercentage}% OFF`:"OFERTA ESPECIAL"}),i.jsx(_e,{variant:"outline",className:"border-boom-red text-boom-red",children:o.offerType||"BOOM"})]}),i.jsx("h4",{className:"text-xl font-bold text-gray-900 mb-2",children:o.title}),i.jsx("p",{className:"text-gray-600 mb-4",children:o.description}),i.jsxs("div",{className:"space-y-2 text-sm text-gray-500",children:[o.originalPrice&&o.offerPrice&&i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsxs("span",{className:"line-through text-gray-400",children:["$",o.originalPrice]}),i.jsxs("span",{className:"font-bold text-boom-red",children:["$",o.offerPrice]})]}),o.endDate&&i.jsxs("p",{children:["Vlido hasta: ",new Date(o.endDate).toLocaleDateString("es-MX")]})]})]})},o.id))})]}),a.length>0&&i.jsxs("section",{children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Productos en Oferta"}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:a.map(o=>i.jsx(Y0,{product:o},o.id))})]}),s.length===0&&a.length===0&&i.jsxs("div",{className:"text-center py-12",children:[i.jsx(dd,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No hay ofertas especiales activas"}),i.jsx("p",{className:"text-gray-600 mb-6",children:"Vuelve pronto para ver nuestras prximas promociones"}),i.jsx(Lf,{href:"/",children:i.jsx(z,{className:"bg-boom-red hover:bg-boom-light-red",children:"Ver todos los productos"})})]})]})]})}function zZ(){Cn(),po();const[t,e]=p.useState(""),[r,n]=p.useState("all"),[s,a]=p.useState("featured"),[o,l]=p.useState("grid"),{data:c=[],isLoading:d}=nt({queryKey:["/api/products"]}),{data:u=[],isLoading:h}=nt({queryKey:["/api/categories"]}),f=u.filter(m=>m.isActive),j=[...c.filter(m=>{var y;const v=m.name.toLowerCase().includes(t.toLowerCase())||(((y=m.description)==null?void 0:y.toLowerCase())||"").includes(t.toLowerCase()),w=r==="all"||m.categoryId===r;return v&&w})].sort((m,v)=>{switch(s){case"price-low":return parseFloat(m.price)-parseFloat(v.price);case"price-high":return parseFloat(v.price)-parseFloat(m.price);case"name":return m.name.localeCompare(v.name);case"newest":return(v.createdAt?new Date(v.createdAt).getTime():0)-(m.createdAt?new Date(m.createdAt).getTime():0);case"featured":default:const w=m.promotionType!==null,y=v.promotionType!==null;return w&&!y?-1:!w&&y?1:0}});return d||h?i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-boom-red mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"Cargando catlogo..."})]})}):i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsx("div",{className:"bg-white shadow-sm border-b",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx(Lf,{href:"/",children:i.jsxs(z,{variant:"ghost",className:"flex items-center space-x-2",children:[i.jsx(Hl,{className:"h-4 w-4"}),i.jsx("span",{children:"Volver al inicio"})]})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Explorar Productos"}),i.jsx("p",{className:"text-gray-600",children:"Descubre todo nuestro catlogo"})]})]}),i.jsxs(_e,{variant:"outline",className:"border-boom-red text-boom-red",children:[j.length," productos encontrados"]})]})})}),i.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white py-6",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[i.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-2",children:"Explora Nuestro Catlogo"}),i.jsx("p",{className:"text-lg",children:"Encuentra exactamente lo que necesitas"})]})}),i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[i.jsx(te,{className:"mb-8",children:i.jsx(ie,{className:"p-6",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx(Vf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),i.jsx(pe,{placeholder:"Buscar productos...",value:t,onChange:m=>e(m.target.value),className:"pl-10","data-testid":"input-search-products"})]}),i.jsxs(sr,{value:r,onValueChange:n,children:[i.jsx(Wt,{"data-testid":"select-category",children:i.jsx(ir,{placeholder:"Todas las categoras"})}),i.jsxs(Gt,{children:[i.jsx(fe,{value:"all",children:"Todas las categoras"}),f.map(m=>i.jsxs(fe,{value:m.id,children:[m.emoji," ",m.name]},m.id))]})]}),i.jsxs(sr,{value:s,onValueChange:a,children:[i.jsx(Wt,{"data-testid":"select-sort",children:i.jsx(ir,{placeholder:"Ordenar por"})}),i.jsxs(Gt,{children:[i.jsx(fe,{value:"featured",children:"Destacados"}),i.jsx(fe,{value:"newest",children:"Ms nuevos"}),i.jsx(fe,{value:"name",children:"Nombre A-Z"}),i.jsx(fe,{value:"price-low",children:"Precio menor"}),i.jsx(fe,{value:"price-high",children:"Precio mayor"})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsxs(z,{variant:o==="grid"?"default":"outline",size:"sm",onClick:()=>l("grid"),className:"flex-1","data-testid":"button-view-grid",children:[i.jsx(s6,{className:"h-4 w-4 mr-2"}),"Cuadrcula"]}),i.jsxs(z,{variant:o==="list"?"default":"outline",size:"sm",onClick:()=>l("list"),className:"flex-1","data-testid":"button-view-list",children:[i.jsx(l6,{className:"h-4 w-4 mr-2"}),"Lista"]})]})]})})}),f.length>0&&i.jsxs("div",{className:"mb-8",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Categoras"}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx(z,{variant:r==="all"?"default":"outline",size:"sm",onClick:()=>n("all"),className:"bg-boom-red hover:bg-boom-light-red","data-testid":"button-category-all",children:"Todas"}),f.map(m=>i.jsxs(z,{variant:r===m.id?"default":"outline",size:"sm",onClick:()=>n(m.id),"data-testid":`button-category-${m.name.toLowerCase()}`,children:[m.emoji," ",m.name]},m.id))]})]}),j.length>0?i.jsx("div",{className:o==="grid"?"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6":"space-y-4",children:j.map(m=>i.jsx(Y0,{product:m},m.id))}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Vf,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No se encontraron productos"}),i.jsx("p",{className:"text-gray-600 mb-6",children:"Intenta ajustar tus filtros de bsqueda"}),i.jsx(z,{onClick:()=>{e(""),n("all"),a("featured")},className:"bg-boom-red hover:bg-boom-light-red","data-testid":"button-clear-filters",children:"Limpiar filtros"})]})]})]})}function BZ(){return i.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:i.jsx(te,{className:"w-full max-w-md mx-4",children:i.jsxs(ie,{className:"pt-6",children:[i.jsxs("div",{className:"flex mb-4 gap-2",children:[i.jsx(Wl,{className:"h-8 w-8 text-red-500"}),i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),i.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function VZ(){return i.jsxs(w3,{children:[i.jsx(ps,{path:"/",component:f9}),i.jsx(ps,{path:"/producto/:id",component:sq}),i.jsx(ps,{path:"/ofertas",component:UZ}),i.jsx(ps,{path:"/explorar",component:zZ}),i.jsx(ps,{path:"/payment/success",component:LZ}),i.jsx(ps,{path:"/payment/failure",component:$Z}),i.jsx(ug,{path:"/dashboard",component:fq}),i.jsx(ug,{path:"/admin",component:IZ}),i.jsx(ug,{path:"/support",component:DZ}),i.jsx(ps,{path:"/auth",component:nq}),i.jsx(ps,{component:BZ})]})}function qZ(){return i.jsx(B3,{client:Qh,children:i.jsx(k$,{children:i.jsx(A$,{children:i.jsxs(E$,{children:[i.jsx(r8,{}),i.jsx(VZ,{})]})})})})}gT(document.getElementById("root")).render(i.jsx(qZ,{}));
